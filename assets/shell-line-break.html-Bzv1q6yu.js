import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as t,a as n,e as a,b as o,o as i}from"./app-SE2roejh.js";const r={},s=a("p",null,'同事运行docker镜像时，控制台报错"no such file or directory"，但是查看该文件确实存在，本文记录该问题的定位和解决。',-1),l=o(`<h3 id="查看镜像使用方式" tabindex="-1"><a class="header-anchor" href="#查看镜像使用方式"><span>查看镜像使用方式</span></a></h3><div class="language-yaml line-numbers-mode" data-ext="yml" data-title="yml"><pre class="language-yaml"><code>COPY xxx/run.sh /run.sh
<span class="token comment"># RUN命令</span>
RUN chmod 777 /run.sh
<span class="token comment"># 执行命令</span>
ENTRYPOINT <span class="token punctuation">[</span><span class="token string">&quot;/run.sh&quot;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这里查看dockerfile，采用的是脚本方式启动服务进程，使用方式上并没有什么问题</p><h3 id="根据报错信息查看文件是否存在" tabindex="-1"><a class="header-anchor" href="#根据报错信息查看文件是否存在"><span>根据报错信息查看文件是否存在</span></a></h3><p>通过新增RUN命令:<code>RUN ls -al</code>,打印当前路径文件的方式确认是有<code>run.sh</code>脚本文件</p><h3 id="检查脚本文件" tabindex="-1"><a class="header-anchor" href="#检查脚本文件"><span>检查脚本文件</span></a></h3><p>对比了服务器的脚本文件和开发使用的脚本文件，仔细观察发现脚本文件唯一不同的是换行符不一样</p><ul><li>开发使用的是windows系统，换行符为<strong>CRLF</strong>,对应为:<code>\\r\\n</code></li><li>服务器使用的linux系统，换行符为<strong>LF</strong>，对应为:<code>\\n</code></li></ul><h3 id="关键问题" tabindex="-1"><a class="header-anchor" href="#关键问题"><span>关键问题</span></a></h3><p>脚本第一行</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>表明使用<code>/bin/bash</code>来解释脚本，但如何后面有windows的换行符导致无法识别，因此会报错：“no such file or directory”</p><h3 id="问题结局" tabindex="-1"><a class="header-anchor" href="#问题结局"><span>问题结局</span></a></h3><p>通过修改<code>run.sh</code>的换行符为<strong>LF</strong>，问题得以解决。</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p>代码提交时，将文件换行符设置为LF格式。</p></div>`,15);function c(d,p){return i(),t("div",null,[s,n(" more "),l])}const u=e(r,[["render",c],["__file","shell-line-break.html.vue"]]),g=JSON.parse('{"path":"/devops/docker/shell-line-break.html","title":"容器执行报\\"no such file or directory\\"问题","lang":"zh-CN","frontmatter":{"title":"容器执行报\\"no such file or directory\\"问题","date":"2024-03-18T00:00:00.000Z","tag":["docker"],"category":["devops"],"description":"同事运行docker镜像时，控制台报错\\"no such file or directory\\"，但是查看该文件确实存在，本文记录该问题的定位和解决。","head":[["meta",{"property":"og:url","content":"http://blog.cjhe.top/devops/docker/shell-line-break.html"}],["meta",{"property":"og:site_name","content":"个人博客"}],["meta",{"property":"og:title","content":"容器执行报\\"no such file or directory\\"问题"}],["meta",{"property":"og:description","content":"同事运行docker镜像时，控制台报错\\"no such file or directory\\"，但是查看该文件确实存在，本文记录该问题的定位和解决。"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-03-18T11:54:34.000Z"}],["meta",{"property":"article:author","content":"Hexiaopi"}],["meta",{"property":"article:tag","content":"docker"}],["meta",{"property":"article:published_time","content":"2024-03-18T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-03-18T11:54:34.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"容器执行报\\\\\\"no such file or directory\\\\\\"问题\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-03-18T00:00:00.000Z\\",\\"dateModified\\":\\"2024-03-18T11:54:34.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Hexiaopi\\",\\"url\\":\\"https://github.com/Hexiaopi\\"}]}"]]},"headers":[{"level":3,"title":"查看镜像使用方式","slug":"查看镜像使用方式","link":"#查看镜像使用方式","children":[]},{"level":3,"title":"根据报错信息查看文件是否存在","slug":"根据报错信息查看文件是否存在","link":"#根据报错信息查看文件是否存在","children":[]},{"level":3,"title":"检查脚本文件","slug":"检查脚本文件","link":"#检查脚本文件","children":[]},{"level":3,"title":"关键问题","slug":"关键问题","link":"#关键问题","children":[]},{"level":3,"title":"问题结局","slug":"问题结局","link":"#问题结局","children":[]}],"git":{"createdTime":1710762874000,"updatedTime":1710762874000,"contributors":[{"name":"HeXiaoPi","email":"hechangjie0619@icloud.com","commits":1}]},"readingTime":{"minutes":1.12,"words":337},"filePathRelative":"devops/docker/shell-line-break.md","localizedDate":"2024年3月18日","excerpt":"<p>同事运行docker镜像时，控制台报错\\"no such file or directory\\"，但是查看该文件确实存在，本文记录该问题的定位和解决。</p>\\n","autoDesc":true}');export{u as comp,g as data};
