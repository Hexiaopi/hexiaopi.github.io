import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as t,a as i,b as a,o as l}from"./app-BFWHficH.js";const n={},r=a(`<blockquote><p>API接口文档常常包含以下内容</p><ul><li>接口详细列表，包含接口功能，请求方法、输入参数、输出参数、请求示例</li><li>CHANGELOG：API接口文档变更历史，方便进行回溯</li><li>通用的请求参数、返回参数、认证方法或者加密算法</li><li>接口中使用的数据结构</li><li>错误码描述</li></ul></blockquote><p>常见的API接口规范为：RESTful API规范</p><h2 id="uri" tabindex="-1"><a class="header-anchor" href="#uri"><span>URI</span></a></h2><blockquote><p>URI表示资源，资源一般对应后端实体，例如：用户为user 资源集合通常使用复数形式，例如：users</p></blockquote><h2 id="request" tabindex="-1"><a class="header-anchor" href="#request"><span>Request</span></a></h2><blockquote><p>通过HTTP方法对资源进行CRUD</p></blockquote><p>GET：查询资源集合或一个资源</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>GET /users
GET /users?page=1&amp;size=10 (根据条件查询)
GET /user/:id (:id为用户id)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>POST：创建一个资源</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>POST /user (创建用户)
{
  &quot;name&quot;: &quot;hexiaopi&quot;,
  &quot;sex&quot;: &quot;male&quot;,
  &quot;age&quot;: 28
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>PUT：更新一个资源（全量更新）</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>PUT /user/hexiaopi (更新用户信息)
{
  &quot;name&quot;: &quot;hexiaopi&quot;,
  &quot;sex&quot;: &quot;male&quot;,
  &quot;age&quot;: 29
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>PATCH：更新一个资源（部分更新，例如只更新用户的状态等）</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>PATCH /user/hexiaopi (更新用户信息)
[
    {
        &quot;op&quot;: &quot;replace&quot;,
        &quot;key&quot;: &quot;name&quot;,
        &quot;value&quot;: &quot;hexiaojin&quot;
    }
]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>DELETE：删除一个资源</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>DELETE /user/:id
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>安全性和幂等性</p><blockquote><p>安全性：不会改变资源状态，可以理解为只读的； 幂等性：执行1次和执行N次，对资源状态改变效果是等价的；</p></blockquote><table><thead><tr><th style="text-align:center;">Request</th><th style="text-align:center;">安全性</th><th style="text-align:center;">幂等性</th></tr></thead><tbody><tr><td style="text-align:center;">GET</td><td style="text-align:center;">Y</td><td style="text-align:center;">Y</td></tr><tr><td style="text-align:center;">POST</td><td style="text-align:center;">N</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;">PUT</td><td style="text-align:center;">N</td><td style="text-align:center;">Y</td></tr><tr><td style="text-align:center;">PATCH</td><td style="text-align:center;">N</td><td style="text-align:center;">Y</td></tr><tr><td style="text-align:center;">DELETE</td><td style="text-align:center;">N</td><td style="text-align:center;">Y</td></tr></tbody></table><blockquote><p>这里的幂等性关注的是资源状态改变效果，而非两次相同的请求得到相同的结果。</p><p>例如：删除某一个资源，第一次成功删除，下次再删除就不一定成功了。但是对于这条资源的最终状态来说，都是一样的，即该资源已删除。</p></blockquote><h2 id="response" tabindex="-1"><a class="header-anchor" href="#response"><span>Response</span></a></h2><h3 id="错误处理" tabindex="-1"><a class="header-anchor" href="#错误处理"><span>错误处理</span></a></h3><blockquote><p>返回错误码及其描述 API包含两类异常：业务异常和非业务异常</p><p>业务异常须返回相应的HTTP状态码，例如：</p><ul><li>请求未授权对应HTTP状态码401；</li><li>请求参数校验失败对应HTTP状态码400；</li></ul><p>非业务异常统一返回状态码500</p></blockquote><h2 id="接口版本" tabindex="-1"><a class="header-anchor" href="#接口版本"><span>接口版本</span></a></h2><blockquote><p>接口版本常常发生在不兼容场景。 常见通过URI中增加版本号信息，例如：</p><ul><li>/api/v1/user</li><li>/api/v2/user</li></ul></blockquote><h2 id="参考文献" tabindex="-1"><a class="header-anchor" href="#参考文献"><span>参考文献</span></a></h2><ul><li>Google API设计指南<a href="https://www.bookstack.cn/read/API-design-guide/API-design-guide-README.md" target="_blank" rel="noopener noreferrer"></a></li></ul>`,27);function s(d,o){return l(),t("div",null,[i(" more "),r])}const p=e(n,[["render",s],["__file","api.html.vue"]]),m=JSON.parse('{"path":"/project-standard/api.html","title":"接口规范","lang":"zh-CN","frontmatter":{"title":"接口规范","icon":"plug","date":"2020-01-24T00:00:00.000Z","tag":["规范","接口"],"category":["项目规范"],"head":[["meta",{"property":"og:url","content":"http://blog.cjhe.top/project-standard/api.html"}],["meta",{"property":"og:site_name","content":"个人博客"}],["meta",{"property":"og:title","content":"接口规范"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-05-07T08:04:43.000Z"}],["meta",{"property":"article:author","content":"Hexiaopi"}],["meta",{"property":"article:tag","content":"规范"}],["meta",{"property":"article:tag","content":"接口"}],["meta",{"property":"article:published_time","content":"2020-01-24T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-05-07T08:04:43.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"接口规范\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2020-01-24T00:00:00.000Z\\",\\"dateModified\\":\\"2024-05-07T08:04:43.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Hexiaopi\\",\\"url\\":\\"https://github.com/Hexiaopi\\"}]}"]]},"headers":[{"level":2,"title":"URI","slug":"uri","link":"#uri","children":[]},{"level":2,"title":"Request","slug":"request","link":"#request","children":[]},{"level":2,"title":"Response","slug":"response","link":"#response","children":[{"level":3,"title":"错误处理","slug":"错误处理","link":"#错误处理","children":[]}]},{"level":2,"title":"接口版本","slug":"接口版本","link":"#接口版本","children":[]},{"level":2,"title":"参考文献","slug":"参考文献","link":"#参考文献","children":[]}],"git":{"createdTime":1643121935000,"updatedTime":1715069083000,"contributors":[{"name":"HeXiaoPi","email":"hechangjie0619@icloud.com","commits":4},{"name":"hexiaopi","email":"hechangjie0619@icloud.com","commits":3}]},"readingTime":{"minutes":2.02,"words":607},"filePathRelative":"project-standard/api.md","localizedDate":"2020年1月24日","excerpt":""}');export{p as comp,m as data};
