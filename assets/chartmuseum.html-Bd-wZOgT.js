import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as s,e as t,b as n,o as l}from"./app-DRoHXL1f.js";const r="/assets/chartmuseum-Cz6v7cAj.png",i={},c=t("p",null,"chartmuseum是Helm的chart仓库，它支持多种存储后端，如本地文件系统、Amazon S3、Google Cloud Storage、Openstack Swift、Azure Blob Storage、Minio等。",-1),o=n(`<h2 id="chartmuseum-部署" tabindex="-1"><a class="header-anchor" href="#chartmuseum-部署"><span>chartmuseum 部署</span></a></h2><p>这里采用docker部署</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">--rm</span> <span class="token parameter variable">-it</span> <span class="token punctuation">\\</span>
  <span class="token parameter variable">-p</span> <span class="token number">8080</span>:8080 <span class="token punctuation">\\</span>
  <span class="token parameter variable">-e</span> <span class="token assign-left variable">DEBUG</span><span class="token operator">=</span><span class="token number">1</span> <span class="token punctuation">\\</span>
  <span class="token parameter variable">-e</span> <span class="token assign-left variable">STORAGE</span><span class="token operator">=</span>local <span class="token punctuation">\\</span>
  <span class="token parameter variable">-e</span> <span class="token assign-left variable">STORAGE_LOCAL_ROOTDIR</span><span class="token operator">=</span>/charts <span class="token punctuation">\\</span>
  <span class="token parameter variable">-v</span> <span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>/charts:/charts <span class="token punctuation">\\</span>
  ghcr.io/helm/chartmuseum:v0.16.1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="helm-配置" tabindex="-1"><a class="header-anchor" href="#helm-配置"><span>helm 配置</span></a></h2><h3 id="安装依赖" tabindex="-1"><a class="header-anchor" href="#安装依赖"><span>安装依赖</span></a></h3><p>配合该仓库需要在我们安装的helm基础上，安装相关插件 helm-push (https://github.com/chartmuseum/helm-push)</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>helm plugin <span class="token function">install</span> https://github.com/chartmuseum/helm-push
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="配置环境" tabindex="-1"><a class="header-anchor" href="#配置环境"><span>配置环境</span></a></h3><p>将私有仓库加入本地</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>helm repo <span class="token function">add</span> hhm http://127.0.0.1:8080
helm repo update
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="推送-chart" tabindex="-1"><a class="header-anchor" href="#推送-chart"><span>推送 chart</span></a></h2><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>helm cm-push disposal-v1.0.6.tgz hhm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="验证版本" tabindex="-1"><a class="header-anchor" href="#验证版本"><span>验证版本</span></a></h2><p>我们通过helm-dashboard查看chart包是否已更新</p><figure><img src="`+r+'" alt="chartmuseum" tabindex="0" loading="lazy"><figcaption>chartmuseum</figcaption></figure>',15);function p(m,h){return l(),a("div",null,[c,s(" more "),o])}const g=e(i,[["render",p],["__file","chartmuseum.html.vue"]]),v=JSON.parse('{"path":"/devops/k8s/chartmuseum.html","title":"Helm仓库chartmuseum简介","lang":"zh-CN","frontmatter":{"title":"Helm仓库chartmuseum简介","date":"2024-05-12T00:00:00.000Z","tag":["helm","k8s"],"category":["devops"],"description":"chartmuseum是Helm的chart仓库，它支持多种存储后端，如本地文件系统、Amazon S3、Google Cloud Storage、Openstack Swift、Azure Blob Storage、Minio等。","head":[["meta",{"property":"og:url","content":"http://blog.cjhe.top/devops/k8s/chartmuseum.html"}],["meta",{"property":"og:site_name","content":"个人博客"}],["meta",{"property":"og:title","content":"Helm仓库chartmuseum简介"}],["meta",{"property":"og:description","content":"chartmuseum是Helm的chart仓库，它支持多种存储后端，如本地文件系统、Amazon S3、Google Cloud Storage、Openstack Swift、Azure Blob Storage、Minio等。"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-05-12T13:18:25.000Z"}],["meta",{"property":"article:author","content":"Hexiaopi"}],["meta",{"property":"article:tag","content":"helm"}],["meta",{"property":"article:tag","content":"k8s"}],["meta",{"property":"article:published_time","content":"2024-05-12T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-05-12T13:18:25.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Helm仓库chartmuseum简介\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-05-12T00:00:00.000Z\\",\\"dateModified\\":\\"2024-05-12T13:18:25.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Hexiaopi\\",\\"url\\":\\"https://github.com/Hexiaopi\\"}]}"]]},"headers":[{"level":2,"title":"chartmuseum 部署","slug":"chartmuseum-部署","link":"#chartmuseum-部署","children":[]},{"level":2,"title":"helm 配置","slug":"helm-配置","link":"#helm-配置","children":[{"level":3,"title":"安装依赖","slug":"安装依赖","link":"#安装依赖","children":[]},{"level":3,"title":"配置环境","slug":"配置环境","link":"#配置环境","children":[]}]},{"level":2,"title":"推送 chart","slug":"推送-chart","link":"#推送-chart","children":[]},{"level":2,"title":"验证版本","slug":"验证版本","link":"#验证版本","children":[]}],"git":{"createdTime":1715519905000,"updatedTime":1715519905000,"contributors":[{"name":"HeXiaoPi","email":"hechangjie0619@icloud.com","commits":1}]},"readingTime":{"minutes":0.61,"words":182},"filePathRelative":"devops/k8s/chartmuseum.md","localizedDate":"2024年5月12日","excerpt":"<p>chartmuseum是Helm的chart仓库，它支持多种存储后端，如本地文件系统、Amazon S3、Google Cloud Storage、Openstack Swift、Azure Blob Storage、Minio等。</p>\\n","autoDesc":true}');export{g as comp,v as data};
