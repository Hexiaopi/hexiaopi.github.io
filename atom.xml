<?xml version="1.0" encoding="utf-8"?><?xml-stylesheet type="text/xsl" href="http://blog.cjhe.top/atom.xsl"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="zh-CN">
  <id>http://blog.cjhe.top/</id>
  <title>ä¸ªäººåšå®¢</title>
  <subtitle>ä½•å°è¿›ç«¥é‹çš„ä¸ªäººåšå®¢</subtitle>
  <updated>2024-12-10T07:19:41.603Z</updated>
  <generator>@vuepress/plugin-feed</generator>
  <link rel="self" href="http://blog.cjhe.top/atom.xml"/>
  <link rel="alternate" href="http://blog.cjhe.top/"/>
  <category term="å¼€æºé¡¹ç›®"/>
  <category term="devops"/>
  <category term="æ•°æ®å­˜å‚¨"/>
  <category term="ç¼–ç¨‹è¯­è¨€"/>
  <category term="ç½‘ç»œ"/>
  <category term="è½¬è½½"/>
  <category term="ç®—æ³•"/>
  <category term="è®¾è®¡æ¨¡å¼"/>
  <category term="ä¸­é—´ä»¶"/>
  <category term="å·¥å…·"/>
  <category term="ç¼–ç¨‹æ¡†æ¶"/>
  <category term="é¡¹ç›®è§„èŒƒ"/>
  <contributor>
    <name>heroku</name>
  </contributor>
  <contributor>
    <name>Dave Cheney</name>
  </contributor>
  <contributor>
    <name>Rob Pike</name>
  </contributor>
  <entry>
    <title type="text">é€šç”¨çš„åå°ç®¡ç†ç³»ç»Ÿ</title>
    <id>http://blog.cjhe.top/open-source-project/data-space.html</id>
    <link href="http://blog.cjhe.top/open-source-project/data-space.html"/>
    <updated>2024-12-10T07:16:10.000Z</updated>
    <summary type="html"><![CDATA[<p>ä½¿ç”¨Go+Vueå¼€å‘çš„é€šç”¨åå°ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒç”¨æˆ·ç™»å½•å’Œæ—¥å¿—ï¼Œéƒ¨é—¨ç®¡ç†ï¼Œç”¨æˆ·ç®¡ç†ï¼Œè§’è‰²ç®¡ç†ï¼Œèœå•ç®¡ç†ã€‚</p>
]]></summary>
    <content type="html"><![CDATA[<p>ä½¿ç”¨Go+Vueå¼€å‘çš„é€šç”¨åå°ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒç”¨æˆ·ç™»å½•å’Œæ—¥å¿—ï¼Œéƒ¨é—¨ç®¡ç†ï¼Œç”¨æˆ·ç®¡ç†ï¼Œè§’è‰²ç®¡ç†ï¼Œèœå•ç®¡ç†ã€‚</p>
<!-- more -->
<h2>åŠŸèƒ½</h2>
<ul>
<li>ç”¨æˆ·ç™»å½•å’Œæ—¥å¿—</li>
<li>éƒ¨é—¨ç®¡ç†</li>
<li>ç”¨æˆ·ç®¡ç†</li>
<li>è§’è‰²ç®¡ç†</li>
<li>èœå•ç®¡ç†</li>
</ul>
<h2>ğŸ›  æŠ€æœ¯æ ˆ</h2>
<h3>å‰ç«¯</h3>
<ul>
<li>vue3</li>
<li>vite</li>
<li>pina</li>
<li>element-plus</li>
</ul>
<h3>åç«¯</h3>
<ul>
<li>go</li>
<li>mysql</li>
<li>gin</li>
<li>opentelemetry</li>
<li>prometheus metric</li>
</ul>
<h2>å®‰è£…</h2>
<h3>å‰ç«¯</h3>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code>  <span class="token builtin class-name">cd</span> frontend
  <span class="token function">npm</span> <span class="token function">install</span>
</code></pre></div><h3>åç«¯</h3>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code>  <span class="token builtin class-name">cd</span> backend
  go mod tidy
</code></pre></div><h2>æœ¬åœ°è¿è¡Œ</h2>
<h3>å‰ç«¯</h3>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code>  <span class="token builtin class-name">cd</span> frontend
  <span class="token function">npm</span> run dev
</code></pre></div><h3>åç«¯</h3>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code>  <span class="token builtin class-name">cd</span> backend
  go run cmd/root.go
</code></pre></div><h2>æˆªå›¾</h2>
<p>










</p>
<h2>æ”¶è—å†å²</h2>
<figure><a href="https://star-history.com/#hexiaopi/data-space&amp;Date" target="_blank" rel="noopener noreferrer"><img src="https://api.star-history.com/svg?repos=hexiaopi/data-space&amp;type=Date" alt="Star History Chart" tabindex="0" loading="lazy"></a><figcaption>Star History Chart</figcaption></figure>
<h2>è®¸å¯è¯</h2>
<p><a href="https://choosealicense.com/licenses/mit/" target="_blank" rel="noopener noreferrer">MIT</a></p>
]]></content>
    <category term="å¼€æºé¡¹ç›®"/>
    <published>2024-12-10T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">Dockerä¿®æ”¹é»˜è®¤å­˜å‚¨ä½ç½®</title>
    <id>http://blog.cjhe.top/devops/docker/modify-storage-location.html</id>
    <link href="http://blog.cjhe.top/devops/docker/modify-storage-location.html"/>
    <updated>2024-12-10T01:21:52.000Z</updated>
    <summary type="text">é—®é¢˜æè¿°
Docker å®¹å™¨ä¸­ï¼Œé»˜è®¤çš„å­˜å‚¨ä½ç½®ä¸º/var/lib/dockerï¼Œä½†æ˜¯ç”±äºä½¿ç”¨çš„æ˜¯ç³»ç»Ÿç›˜ï¼Œéœ€è¦æ”¹ä¸ºæ•°æ®ç›˜ï¼Œä¾‹å¦‚å°†å­˜å‚¨ä½ç½®ä¿®æ”¹ä¸º/data/dockerã€‚
è§£å†³æ­¥éª¤
åœæ­¢DockeræœåŠ¡
ç§»åŠ¨å®¹å™¨æ•°æ®
å»ºç«‹è½¯é“¾æ¥
å¯åŠ¨DockeræœåŠ¡
å‚è€ƒèµ„æ–™

ä¿®æ”¹dockerçš„é»˜è®¤å­˜å‚¨ä½ç½®åŠé•œåƒå­˜å‚¨ä½ç½®</summary>
    <content type="html"><![CDATA[<!-- more -->
<h2>é—®é¢˜æè¿°</h2>
<p>Docker å®¹å™¨ä¸­ï¼Œé»˜è®¤çš„å­˜å‚¨ä½ç½®ä¸º<code>/var/lib/docker</code>ï¼Œä½†æ˜¯ç”±äºä½¿ç”¨çš„æ˜¯ç³»ç»Ÿç›˜ï¼Œéœ€è¦æ”¹ä¸ºæ•°æ®ç›˜ï¼Œä¾‹å¦‚å°†å­˜å‚¨ä½ç½®ä¿®æ”¹ä¸º<code>/data/docker</code>ã€‚</p>
<h2>è§£å†³æ­¥éª¤</h2>
<h3>åœæ­¢DockeræœåŠ¡</h3>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl stop <span class="token function">docker</span>
</code></pre></div><h3>ç§»åŠ¨å®¹å™¨æ•°æ®</h3>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">mv</span> /var/lib/docker /data/docker
</code></pre></div><h3>å»ºç«‹è½¯é“¾æ¥</h3>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">ln</span> <span class="token parameter variable">-s</span> /data/docker /var/lib/docker
</code></pre></div><h3>å¯åŠ¨DockeræœåŠ¡</h3>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl start <span class="token function">docker</span>
</code></pre></div><h2>å‚è€ƒèµ„æ–™</h2>
<ul>
<li><a href="https://www.cnblogs.com/JasonCeng/p/15728592.html" target="_blank" rel="noopener noreferrer">ä¿®æ”¹dockerçš„é»˜è®¤å­˜å‚¨ä½ç½®åŠé•œåƒå­˜å‚¨ä½ç½®</a></li>
</ul>
]]></content>
    <category term="devops"/>
    <published>2024-12-10T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">Dockeræ­å»ºMinioé›†ç¾¤</title>
    <id>http://blog.cjhe.top/database/minio/cluster-docker.html</id>
    <link href="http://blog.cjhe.top/database/minio/cluster-docker.html"/>
    <updated>2024-12-03T08:58:00.000Z</updated>
    <summary type="text">Docker-Composeæ–‡ä»¶
Nginxé…ç½®</summary>
    <content type="html"><![CDATA[<!-- more -->
<h2>Docker-Composeæ–‡ä»¶</h2>
<div class="language-yaml" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3'</span>

<span class="token comment"># å…¬å…±æ“ä½œ</span>
<span class="token key atrule">x-minio-common</span><span class="token punctuation">:</span> <span class="token important">&amp;minio-common</span>
  <span class="token key atrule">image</span><span class="token punctuation">:</span> minio/minio<span class="token punctuation">:</span>RELEASE.2023<span class="token punctuation">-</span>10<span class="token punctuation">-</span>24T04<span class="token punctuation">-</span>42<span class="token punctuation">-</span>36Z
  <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
  <span class="token key atrule">command</span><span class="token punctuation">:</span> server <span class="token punctuation">-</span><span class="token punctuation">-</span>console<span class="token punctuation">-</span>address '<span class="token punctuation">:</span>9001' <span class="token punctuation">-</span>address "<span class="token punctuation">:</span>9000" http<span class="token punctuation">:</span>//minio<span class="token punctuation">{</span>1<span class="token punctuation">...</span>2<span class="token punctuation">}</span>/data<span class="token punctuation">{</span>1<span class="token punctuation">...</span>2<span class="token punctuation">}</span>
  <span class="token key atrule">environment</span><span class="token punctuation">:</span>
    <span class="token key atrule">TZ</span><span class="token punctuation">:</span> Asia/Shanghai
    <span class="token key atrule">MINIO_ROOT_USER</span><span class="token punctuation">:</span> minioadmin
    <span class="token key atrule">MINIO_ROOT_PASSWORD</span><span class="token punctuation">:</span> minioadmin
  <span class="token key atrule">healthcheck</span><span class="token punctuation">:</span>
    <span class="token key atrule">test</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"CMD"</span><span class="token punctuation">,</span> <span class="token string">"curl"</span><span class="token punctuation">,</span> <span class="token string">"-f"</span><span class="token punctuation">,</span> <span class="token string">"http://localhost:9000/minio/health/live"</span><span class="token punctuation">]</span>
    <span class="token key atrule">interval</span><span class="token punctuation">:</span> 30s
    <span class="token key atrule">timeout</span><span class="token punctuation">:</span> 20s
    <span class="token key atrule">retries</span><span class="token punctuation">:</span> <span class="token number">3</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">minio1</span><span class="token punctuation">:</span>
    <span class="token key atrule">&lt;&lt;</span><span class="token punctuation">:</span> <span class="token important">*minio-common</span>
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> minio1
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> minio1
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./minio1/data1<span class="token punctuation">:</span>/data1
      <span class="token punctuation">-</span> ./minio1/data2<span class="token punctuation">:</span>/data2
      <span class="token punctuation">-</span> ./minio1/config<span class="token punctuation">:</span>/root/.minio/
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"19000:9000"</span>
      <span class="token punctuation">-</span> <span class="token string">"19001:9001"</span>

  <span class="token key atrule">minio2</span><span class="token punctuation">:</span>
    <span class="token key atrule">&lt;&lt;</span><span class="token punctuation">:</span> <span class="token important">*minio-common</span>
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> minio2
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> minio2
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./minio2/data1<span class="token punctuation">:</span>/data1
      <span class="token punctuation">-</span> ./minio2/data2<span class="token punctuation">:</span>/data2
      <span class="token punctuation">-</span> ./minio2/config<span class="token punctuation">:</span>/root/.minio/
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"19002:9000"</span>
      <span class="token punctuation">-</span> <span class="token string">"19003:9001"</span>

  <span class="token key atrule">nginx</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx<span class="token punctuation">:</span>1.19.2<span class="token punctuation">-</span>alpine
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> nginx
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> nginx
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./nginx/nginx.conf<span class="token punctuation">:</span>/etc/nginx/nginx.conf<span class="token punctuation">:</span>ro
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"9000:9000"</span>
      <span class="token punctuation">-</span> <span class="token string">"9001:9001"</span>
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> minio1
      <span class="token punctuation">-</span> minio2
</code></pre></div><h2>Nginxé…ç½®</h2>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>user  nginx;
worker_processes  auto;

error_log  /var/log/nginx/error.log warn;
pid        /var/run/nginx.pid;

events {
    worker_connections  4096;
}

http {
    include       /etc/nginx/mime.types;
    default_type  application/octet-stream;

    log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '
                      '$status $body_bytes_sent "$http_referer" '
                      '"$http_user_agent" "$http_x_forwarded_for"';

    access_log  /var/log/nginx/access.log  main;
    sendfile        on;
    keepalive_timeout  65;

    # include /etc/nginx/conf.d/*.conf;

    upstream minio {
        server minio1:9000;
        server minio2:9000;
    }

    upstream console {
        ip_hash;
        server minio1:9001;
        server minio2:9001;
    }

    server {
        listen       9000;
        listen  [::]:9000;
        server_name  localhost;

        # To allow special characters in headers
        ignore_invalid_headers off;
        # Allow any size file to be uploaded.
        # Set to a value such as 1000m; to restrict file size to a specific value
        client_max_body_size 0;
        # To disable buffering
        proxy_buffering off;
        proxy_request_buffering off;

        location / {
            proxy_set_header Host $http_host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;

            proxy_connect_timeout 300;
            # Default is HTTP/1, keepalive is only enabled in HTTP/1.1
            proxy_http_version 1.1;
            proxy_set_header Connection "";
            chunked_transfer_encoding off;

            proxy_pass http://minio;
        }
    }

    server {
        listen       9001;
        listen  [::]:9001;
        server_name  localhost;

        # To allow special characters in headers
        ignore_invalid_headers off;
        # Allow any size file to be uploaded.
        # Set to a value such as 1000m; to restrict file size to a specific value
        client_max_body_size 0;
        # To disable buffering
        proxy_buffering off;
        proxy_request_buffering off;

        location / {
            proxy_set_header Host $http_host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header X-NginX-Proxy true;

            # This is necessary to pass the correct IP to be hashed
            real_ip_header X-Real-IP;

            proxy_connect_timeout 300;
            
            # To support websocket
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            
            chunked_transfer_encoding off;

            proxy_pass http://console;
        }
    }
}
</code></pre></div>]]></content>
    <category term="æ•°æ®å­˜å‚¨"/>
    <published>2024-12-03T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">PostgreSQL</title>
    <id>http://blog.cjhe.top/database/postgresql/</id>
    <link href="http://blog.cjhe.top/database/postgresql/"/>
    <updated>2024-12-03T02:28:55.000Z</updated>
    <content type="html"><![CDATA[<!-- more -->
]]></content>
    <category term="æ•°æ®å­˜å‚¨"/>
    <published>2024-12-03T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">Dockeræ­å»ºPostgreSQLé›†ç¾¤</title>
    <id>http://blog.cjhe.top/database/postgresql/cluster-docker.html</id>
    <link href="http://blog.cjhe.top/database/postgresql/cluster-docker.html"/>
    <updated>2024-12-03T08:58:00.000Z</updated>
    <summary type="text">Docker-Composeæ–‡ä»¶</summary>
    <content type="html"><![CDATA[<!-- more -->
<h2>Docker-Composeæ–‡ä»¶</h2>
<div class="language-yaml" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3.8'</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">pg-0</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> bitnami/postgresql<span class="token punctuation">-</span>repmgr<span class="token punctuation">:</span><span class="token number">14</span>
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 5433<span class="token punctuation">:</span><span class="token number">5432</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./pg_0_data<span class="token punctuation">:</span>/bitnami/postgresql
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> TZ=Asia/Shanghai
      <span class="token punctuation">-</span> POSTGRESQL_POSTGRES_PASSWORD=adminpassword
      <span class="token punctuation">-</span> POSTGRESQL_USERNAME=customuser
      <span class="token punctuation">-</span> POSTGRESQL_PASSWORD=custompassword
      <span class="token punctuation">-</span> POSTGRESQL_DATABASE=customdatabase
      <span class="token punctuation">-</span> REPMGR_PASSWORD=repmgrpassword
      <span class="token punctuation">-</span> REPMGR_PRIMARY_HOST=pg<span class="token punctuation">-</span><span class="token number">0</span>
      <span class="token punctuation">-</span> REPMGR_PARTNER_NODES=pg<span class="token punctuation">-</span><span class="token number">0</span><span class="token punctuation">,</span>pg<span class="token punctuation">-</span><span class="token number">1</span>
      <span class="token punctuation">-</span> REPMGR_NODE_NAME=pg<span class="token punctuation">-</span><span class="token number">0</span>
      <span class="token punctuation">-</span> REPMGR_NODE_NETWORK_NAME=pg<span class="token punctuation">-</span><span class="token number">0</span>

  <span class="token key atrule">pg-1</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> bitnami/postgresql<span class="token punctuation">-</span>repmgr<span class="token punctuation">:</span><span class="token number">14</span>
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 5434<span class="token punctuation">:</span><span class="token number">5432</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./pg_1_data<span class="token punctuation">:</span>/bitnami/postgresql
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> TZ=Asia/Shanghai
      <span class="token punctuation">-</span> POSTGRESQL_POSTGRES_PASSWORD=adminpassword
      <span class="token punctuation">-</span> POSTGRESQL_USERNAME=customuser
      <span class="token punctuation">-</span> POSTGRESQL_PASSWORD=custompassword
      <span class="token punctuation">-</span> POSTGRESQL_DATABASE=customdatabase
      <span class="token punctuation">-</span> REPMGR_PASSWORD=repmgrpassword
      <span class="token punctuation">-</span> REPMGR_PRIMARY_HOST=pg<span class="token punctuation">-</span><span class="token number">0</span>
      <span class="token punctuation">-</span> REPMGR_PARTNER_NODES=pg<span class="token punctuation">-</span><span class="token number">0</span><span class="token punctuation">,</span>pg<span class="token punctuation">-</span><span class="token number">1</span>
      <span class="token punctuation">-</span> REPMGR_NODE_NAME=pg<span class="token punctuation">-</span><span class="token number">1</span>
      <span class="token punctuation">-</span> REPMGR_NODE_NETWORK_NAME=pg<span class="token punctuation">-</span><span class="token number">1</span>

  <span class="token key atrule">pgpool</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> bitnami/pgpool<span class="token punctuation">:</span>4.5.1
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 5432<span class="token punctuation">:</span><span class="token number">5432</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> TZ=Asia/Shanghai
      <span class="token punctuation">-</span> PGPOOL_BACKEND_NODES=0<span class="token punctuation">:</span>pg<span class="token punctuation">-</span>0<span class="token punctuation">:</span><span class="token number">5432</span><span class="token punctuation">,</span>1<span class="token punctuation">:</span>pg<span class="token punctuation">-</span>1<span class="token punctuation">:</span><span class="token number">5432</span>
      <span class="token punctuation">-</span> PGPOOL_SR_CHECK_USER=customuser
      <span class="token punctuation">-</span> PGPOOL_SR_CHECK_PASSWORD=custompassword
      <span class="token punctuation">-</span> PGPOOL_ENABLE_LDAP=no
      <span class="token punctuation">-</span> PGPOOL_POSTGRES_USERNAME=postgres
      <span class="token punctuation">-</span> PGPOOL_POSTGRES_PASSWORD=adminpassword
      <span class="token punctuation">-</span> PGPOOL_ADMIN_USERNAME=admin
      <span class="token punctuation">-</span> PGPOOL_ADMIN_PASSWORD=adminpassword
    <span class="token key atrule">healthcheck</span><span class="token punctuation">:</span>
      <span class="token key atrule">test</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"CMD"</span><span class="token punctuation">,</span> <span class="token string">"/opt/bitnami/scripts/pgpool/healthcheck.sh"</span><span class="token punctuation">]</span>
      <span class="token key atrule">interval</span><span class="token punctuation">:</span> 10s
      <span class="token key atrule">timeout</span><span class="token punctuation">:</span> 5s
      <span class="token key atrule">retries</span><span class="token punctuation">:</span> <span class="token number">5</span>

</code></pre></div>]]></content>
    <category term="æ•°æ®å­˜å‚¨"/>
    <published>2024-12-03T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">errgroupä½¿ç”¨ç¤ºä¾‹å’Œæºç åˆ†æ</title>
    <id>http://blog.cjhe.top/language/go/advance/errgroup.html</id>
    <link href="http://blog.cjhe.top/language/go/advance/errgroup.html"/>
    <updated>2024-10-18T07:06:09.000Z</updated>
    <summary type="text">golang.org/x/sync/errgroup

Goè¯­è¨€åœ¨å¹¶æ‰§è¡Œä»»åŠ¡æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°æŸä¸ªåç¨‹è¿è¡Œå‡ºç°é”™è¯¯ï¼Œå¦‚æœå¤„ç†è¿™äº›é”™è¯¯æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„é—®é¢˜ã€‚Goè¯­è¨€åœ¨golang.org/x/syncæä¾›ä¸€ä¸ªå¹¶å‘åŸè¯­errgroupæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

ä½¿ç”¨ç¤ºä¾‹
ç®€å•ä»»åŠ¡
åœ¨è¿™ä¸ªä¾‹å­ä¸­å¹¶å‘å¯åŠ¨10ä¸ªåç¨‹æ‰§è¡Œä»»åŠ¡ï¼Œå…¶ä¸­ä¸€ä¸ªåç¨‹å¤„ç†å¤±è´¥è¿”å›é”™è¯¯ã€‚errgroupä¼š...</summary>
    <content type="html"><![CDATA[<!-- more -->
<h1>golang.org/x/sync/errgroup</h1>
<blockquote>
<p>Goè¯­è¨€åœ¨å¹¶æ‰§è¡Œä»»åŠ¡æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°æŸä¸ªåç¨‹è¿è¡Œå‡ºç°é”™è¯¯ï¼Œå¦‚æœå¤„ç†è¿™äº›é”™è¯¯æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„é—®é¢˜ã€‚Goè¯­è¨€åœ¨<code>golang.org/x/sync</code>æä¾›ä¸€ä¸ªå¹¶å‘åŸè¯­<code>errgroup</code>æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
</blockquote>
<h2>ä½¿ç”¨ç¤ºä¾‹</h2>
<h3>ç®€å•ä»»åŠ¡</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"fmt"</span>

	<span class="token string">"golang.org/x/sync/errgroup"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> eg errgroup<span class="token punctuation">.</span>Group

	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
		eg<span class="token punctuation">.</span><span class="token function">Go</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token number">2</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">"error occurred in goroutine %d"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
			fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"goroutine"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token string">"finished"</span><span class="token punctuation">)</span>
			<span class="token keyword">return</span> <span class="token boolean">nil</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">if</span> err <span class="token operator">:=</span> eg<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­å¹¶å‘å¯åŠ¨10ä¸ªåç¨‹æ‰§è¡Œä»»åŠ¡ï¼Œå…¶ä¸­ä¸€ä¸ªåç¨‹å¤„ç†å¤±è´¥è¿”å›é”™è¯¯ã€‚<code>errgroup</code>ä¼šç­‰å¾…æ‰€æœ‰åç¨‹æ‰§è¡Œå®Œæ¯•ï¼Œå¹¶è¿”å›ç¬¬ä¸€ä¸ªé”™è¯¯ã€‚</p>
<details class="hint-container details"><summary>æ‰§è¡Œç»“æœ</summary>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>goroutine 9 finished
goroutine 0 finished
goroutine 1 finished
goroutine 6 finished
goroutine 4 finished
goroutine 5 finished
goroutine 7 finished
goroutine 8 finished
goroutine 3 finished
error occurred in goroutine 2
</code></pre></div></details>
<h3>å¸¦ä¸Šä¸‹æ–‡çš„ä»»åŠ¡</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"context"</span>
	<span class="token string">"fmt"</span>
	<span class="token string">"time"</span>

	<span class="token string">"golang.org/x/sync/errgroup"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	eg<span class="token punctuation">,</span> ctx <span class="token operator">:=</span> errgroup<span class="token punctuation">.</span><span class="token function">WithContext</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">Background</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
		eg<span class="token punctuation">.</span><span class="token function">Go</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token function">Do</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> i<span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> err <span class="token operator">:=</span> eg<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">Do</span><span class="token punctuation">(</span>ctx context<span class="token punctuation">.</span>Context<span class="token punctuation">,</span> i <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
	ticker <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">After</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second <span class="token operator">*</span> time<span class="token punctuation">.</span><span class="token function">Duration</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">select</span> <span class="token punctuation">{</span>
	<span class="token keyword">case</span> <span class="token operator">&lt;-</span>ticker<span class="token punctuation">:</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token string">"do something"</span><span class="token punctuation">)</span>
		<span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token number">2</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">"error occurred in goroutine %d"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token keyword">case</span> <span class="token operator">&lt;-</span>ctx<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token string">"canceled"</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span> ctx<span class="token punctuation">.</span><span class="token function">Err</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">}</span>
</code></pre></div><details class="hint-container details"><summary>æ‰§è¡Œç»“æœ</summary>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>0 do something
1 do something
2 do something
9 canceled
6 canceled
8 canceled
7 canceled
4 canceled
5 canceled
3 canceled
error occurred in goroutine 2
</code></pre></div></details>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå½“å…¶ä¸­ä¸€ä¸ªåç¨‹æ‰§è¡Œå¤±è´¥ï¼Œå‰©ä½™è¿˜æœªæ‰§è¡Œçš„åç¨‹å°†ä¼šè¢«å–æ¶ˆã€‚</p>
<h2>ç›¸å…³å®šä¹‰</h2>
<p>errgroupçš„å®šä¹‰ï¼š</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">type</span> Group <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	cancel <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token builtin">error</span><span class="token punctuation">)</span>

	wg sync<span class="token punctuation">.</span>WaitGroup

	sem <span class="token keyword">chan</span> token

	errOnce sync<span class="token punctuation">.</span>Once
	err     <span class="token builtin">error</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å…¶ä¸­ï¼š</p>
<ul>
<li>cancelï¼šç”¨äºé€šçŸ¥å…¶ä»–åç¨‹ä»»åŠ¡å·²ç»å¤±è´¥</li>
<li>wg: ç”¨äºç­‰å¾…æ‰€æœ‰åç¨‹æ‰§è¡Œå®Œæ¯•</li>
<li>sem: ç”¨äºæ§åˆ¶å¹¶å‘åç¨‹çš„æ•°é‡</li>
<li>errOnce: ç”¨äºä¿è¯åªè®¾ç½®ä¸€æ¬¡é”™è¯¯</li>
<li>err: ç”¨äºå­˜å‚¨é”™è¯¯ä¿¡æ¯</li>
</ul>
<p>errgroupçš„æ ¸å¿ƒæ–¹æ³•ï¼š</p>
<ul>
<li>Goï¼šç”¨äºå¯åŠ¨ä¸€ä¸ªåç¨‹æ‰§è¡Œä»»åŠ¡</li>
<li>Waitï¼šç”¨äºç­‰å¾…æ‰€æœ‰åç¨‹æ‰§è¡Œå®Œæ¯•ï¼Œå¹¶è¿”å›ç¬¬ä¸€ä¸ªé”™è¯¯</li>
<li>WithContextï¼šç”¨äºå¯åŠ¨ä¸€ä¸ªåç¨‹æ‰§è¡Œä»»åŠ¡ï¼Œå¹¶åœ¨åç¨‹æ‰§è¡Œå®Œæ¯•æ—¶è®¾ç½®ä¸Šä¸‹æ–‡çš„é”™è¯¯ä¿¡æ¯</li>
<li>SetLimit: è®¾ç½®æœ€å¤§å¹¶å‘åç¨‹æ•°é‡</li>
<li>TryGo: æ ¹æ®è®¾ç½®æœ€å¤§çš„å¹¶å‘åç¨‹æ•°ï¼Œåˆ¤æ–­èƒ½å¦å¯åŠ¨ä¸€ä¸ªåç¨‹æ‰§è¡Œä»»åŠ¡</li>
</ul>
<h2>æºç åˆ†æ</h2>
<h3>Goæ–¹æ³•</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>g <span class="token operator">*</span>Group<span class="token punctuation">)</span> <span class="token function">Go</span><span class="token punctuation">(</span>f <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> g<span class="token punctuation">.</span>sem <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		g<span class="token punctuation">.</span>sem <span class="token operator">&lt;-</span> token<span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	g<span class="token punctuation">.</span>wg<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">defer</span> g<span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

		<span class="token keyword">if</span> err <span class="token operator">:=</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
			g<span class="token punctuation">.</span>errOnce<span class="token punctuation">.</span><span class="token function">Do</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				g<span class="token punctuation">.</span>err <span class="token operator">=</span> err
				<span class="token keyword">if</span> g<span class="token punctuation">.</span>cancel <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
					g<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span>err<span class="token punctuation">)</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>g.semç”¨äºæ§åˆ¶æœ€å¤§å¹¶å‘æ•°ï¼Œå¦‚æœå¯ä»¥ä»sem channelè·å–åˆ°tokenï¼Œåˆ™å¯ä»¥æ‰§è¡Œã€‚å¦åˆ™ï¼Œç­‰å¾…å…¶ä»–åç¨‹æ‰§è¡Œå®Œæ¯•ã€‚å¹¶ä½¿ç”¨waitgroupè®°å½•æœ¬æ¬¡å¯åŠ¨çš„åç¨‹ä¸ªæ•°ï¼Œåç¨‹é€€å‡ºæ—¶ä½¿ç”¨<code>done</code>æ–¹æ³•å‡å»æœ¬æ¬¡åç¨‹æ•°é‡ã€‚errOnceç”¨äºä¿è¯åªè®¾ç½®ä¸€æ¬¡é”™è¯¯ã€‚å¹¶ä¸”å¦‚æœcancelä¸ä¸ºç©ºï¼Œé€šçŸ¥å…¶ä»–åç¨‹ä»»åŠ¡å·²ç»å¤±è´¥ã€‚</p>
<h3>Waitæ–¹æ³•</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>g <span class="token operator">*</span>Group<span class="token punctuation">)</span> <span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
	g<span class="token punctuation">.</span>wg<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> g<span class="token punctuation">.</span>cancel <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		g<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> g<span class="token punctuation">.</span>err
<span class="token punctuation">}</span>
</code></pre></div><p><code>Wait</code>æ–¹æ³•å°±æ¯”è¾ƒç®€å•ï¼Œè¿™å¾—ç›Šäº<code>waitgroup</code>å®ç°äº†æ ¸å¿ƒèƒ½åŠ›ã€‚è¿™é‡Œåªéœ€è¦åˆ¤æ–­cancelå‡½æ•°æ˜¯å¦ä¸ºç©ºè¿›è¡Œé€šçŸ¥å³å¯ã€‚</p>
<h3>WithContextæ–¹æ³•</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">WithContext</span><span class="token punctuation">(</span>ctx context<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token operator">*</span>Group<span class="token punctuation">,</span> context<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	ctx<span class="token punctuation">,</span> cancel <span class="token operator">:=</span> <span class="token function">withCancelCause</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span>
	<span class="token keyword">return</span> <span class="token operator">&amp;</span>Group<span class="token punctuation">{</span>cancel<span class="token punctuation">:</span> cancel<span class="token punctuation">}</span><span class="token punctuation">,</span> ctx
<span class="token punctuation">}</span>
</code></pre></div><p>WithContextè¿”å›ä¸€ä¸ªæ–°çš„errgroupå’Œä¸€ä¸ªæ–°çš„contextã€‚<code>cancel</code>å‡½æ•°ç”¨äºé€šçŸ¥å…¶ä»–åç¨‹ä»»åŠ¡å·²ç»å¤±è´¥ã€‚</p>
<h3>SetLimitæ–¹æ³•</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>g <span class="token operator">*</span>Group<span class="token punctuation">)</span> <span class="token function">SetLimit</span><span class="token punctuation">(</span>n <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> n <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token punctuation">{</span>
		g<span class="token punctuation">.</span>sem <span class="token operator">=</span> <span class="token boolean">nil</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span>sem<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token punctuation">{</span>
		<span class="token function">panic</span><span class="token punctuation">(</span>fmt<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">"errgroup: modify limit while %v goroutines in the group are still active"</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span>sem<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	g<span class="token punctuation">.</span>sem <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> token<span class="token punctuation">,</span> n<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>SetLimit</code>æ–¹æ³•ç”¨äºè®¾ç½®æœ€å¤§å¹¶å‘åç¨‹æ•°é‡ã€‚å¦‚æœnå°äº0ï¼Œå°†ä¸é™åˆ¶æœ€å¤§å¹¶å‘æ•°é‡ã€‚å¦åˆ™ï¼Œåˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸ºnçš„channelã€‚</p>
<h3>TryGoæ–¹æ³•</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>g <span class="token operator">*</span>Group<span class="token punctuation">)</span> <span class="token function">TryGo</span><span class="token punctuation">(</span>f <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> g<span class="token punctuation">.</span>sem <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token keyword">select</span> <span class="token punctuation">{</span>
		<span class="token keyword">case</span> g<span class="token punctuation">.</span>sem <span class="token operator">&lt;-</span> token<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">:</span>
			<span class="token comment">// Note: this allows barging iff channels in general allow barging.</span>
		<span class="token keyword">default</span><span class="token punctuation">:</span>
			<span class="token keyword">return</span> <span class="token boolean">false</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	g<span class="token punctuation">.</span>wg<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">defer</span> g<span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

		<span class="token keyword">if</span> err <span class="token operator">:=</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
			g<span class="token punctuation">.</span>errOnce<span class="token punctuation">.</span><span class="token function">Do</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				g<span class="token punctuation">.</span>err <span class="token operator">=</span> err
				<span class="token keyword">if</span> g<span class="token punctuation">.</span>cancel <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
					g<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span>err<span class="token punctuation">)</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>TryGo</code>æ–¹æ³•å’Œ<code>Go</code>æ–¹æ³•ç±»ä¼¼ï¼Œä½†æ˜¯åœ¨è·å–sem channelçš„tokenå¤±è´¥æ—¶ï¼Œç›´æ¥è¿”å›falseã€‚è€Œ<code>Go</code>æ–¹æ³•ä¼šä¸€ç›´ç­‰å¾…sem channelçš„tokenã€‚</p>
]]></content>
    <category term="ç¼–ç¨‹è¯­è¨€"/>
    <published>2024-10-18T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">sync.Condåº•å±‚åŸç†</title>
    <id>http://blog.cjhe.top/language/go/advance/sync-cond.html</id>
    <link href="http://blog.cjhe.top/language/go/advance/sync-cond.html"/>
    <updated>2024-10-10T12:23:49.000Z</updated>
    <summary type="text">Goè¯­è¨€sync.Condæ˜¯ä¸€ä¸ªæ¡ä»¶å˜é‡ã€‚é¡¾åæ€ä¹‰ï¼Œå½“æ¡ä»¶ä¸æ»¡è¶³æ—¶ï¼Œé€šè¿‡æ¡ä»¶å˜é‡è¿›å…¥ç¡çœ çŠ¶æ€ã€‚å½“æ¡ä»¶æ»¡è¶³æ—¶ï¼Œé€šè¿‡æ¡ä»¶å˜é‡å”¤é†’ç­‰å¾…çš„çº¿ç¨‹ã€‚sync.Condç”¨äºå¤šçº¿ç¨‹ä¸­çš„åŒæ­¥æœºåˆ¶ã€‚

ä½¿ç”¨ç¤ºä¾‹
sync.Condæä¾›ä¸‰ä¸ªå‡½æ•°ï¼š

Wait() // ä½¿å½“å‰goroutineè¿›å…¥é˜»å¡çŠ¶æ€ï¼Œç­‰å¾…å…¶ä»–goroutineå”¤é†’
Signal() // å”¤é†’å…¶ä¸­ä¸€ä¸ª...</summary>
    <content type="html"><![CDATA[<!-- more -->
<blockquote>
<p>Goè¯­è¨€<code>sync.Cond</code>æ˜¯ä¸€ä¸ªæ¡ä»¶å˜é‡ã€‚é¡¾åæ€ä¹‰ï¼Œå½“æ¡ä»¶ä¸æ»¡è¶³æ—¶ï¼Œé€šè¿‡æ¡ä»¶å˜é‡è¿›å…¥ç¡çœ çŠ¶æ€ã€‚å½“æ¡ä»¶æ»¡è¶³æ—¶ï¼Œé€šè¿‡æ¡ä»¶å˜é‡å”¤é†’ç­‰å¾…çš„çº¿ç¨‹ã€‚<code>sync.Cond</code>ç”¨äºå¤šçº¿ç¨‹ä¸­çš„åŒæ­¥æœºåˆ¶ã€‚</p>
</blockquote>
<h2>ä½¿ç”¨ç¤ºä¾‹</h2>
<p>sync.Condæä¾›ä¸‰ä¸ªå‡½æ•°ï¼š</p>
<ul>
<li>Wait() // ä½¿å½“å‰goroutineè¿›å…¥é˜»å¡çŠ¶æ€ï¼Œç­‰å¾…å…¶ä»–goroutineå”¤é†’</li>
<li>Signal() // å”¤é†’å…¶ä¸­ä¸€ä¸ªç­‰å¾…è¯¥æ¡ä»¶å˜é‡çš„goroutine</li>
<li>Broadcase() // å”¤é†’æ‰€æœ‰ç­‰å¾…è¯¥æ¡ä»¶å˜é‡çš„goroutine</li>
</ul>
<p>è¿™é‡Œå…ˆå±•ç¤ºå¹¿æ’­ç¤ºä¾‹</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">package</span> cond

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"fmt"</span>
	<span class="token string">"sync"</span>
	<span class="token string">"time"</span>
<span class="token punctuation">)</span>

<span class="token keyword">var</span> done <span class="token operator">=</span> <span class="token boolean">false</span>
<span class="token keyword">var</span> cond <span class="token operator">=</span> sync<span class="token punctuation">.</span><span class="token function">NewCond</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>sync<span class="token punctuation">.</span>Mutex<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">read</span><span class="token punctuation">(</span>name <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	cond<span class="token punctuation">.</span>L<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">for</span> <span class="token operator">!</span>done <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token string">"is waiting"</span><span class="token punctuation">)</span>
		cond<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token string">"has read"</span><span class="token punctuation">)</span>
	cond<span class="token punctuation">.</span>L<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">ExampleCondBroadcast</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> wg sync<span class="token punctuation">.</span>WaitGroup
	wg<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
	<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">defer</span> wg<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token function">read</span><span class="token punctuation">(</span><span class="token string">"one"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">defer</span> wg<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token function">read</span><span class="token punctuation">(</span><span class="token string">"two"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">defer</span> wg<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token function">read</span><span class="token punctuation">(</span><span class="token string">"three"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>
	done <span class="token operator">=</span> <span class="token boolean">true</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"broadcast"</span><span class="token punctuation">)</span>
	cond<span class="token punctuation">.</span><span class="token function">Broadcast</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	wg<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token comment">// Unordered output:</span>
	<span class="token comment">// one is waiting</span>
	<span class="token comment">// two is waiting</span>
	<span class="token comment">// three is waiting</span>
	<span class="token comment">// broadcast</span>
	<span class="token comment">// one has read</span>
	<span class="token comment">// two has read</span>
	<span class="token comment">// three has read</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="hint-container tip">
<p class="hint-container-title">æç¤º</p>
<p>è¿™é‡Œå¯åŠ¨ä¸‰ä¸ªåç¨‹ï¼Œdoneä¸ºfalseæ—¶ï¼Œé˜»å¡è‡ªå·±ã€‚å½“doneä¸ºtrueæ—¶ï¼Œæ‰“å°ä¿¡æ¯ã€‚å¦å¤–ä¸»çº¿ç¨‹å°†doneæ”¹ä¸ºtrueæ—¶ï¼Œé€šè¿‡broadcaseå¹¿æ’­ï¼Œæ­¤æ—¶å‰é¢ä¸‰ä¸ªåç¨‹å°†è¢«å”¤é†’ã€‚</p>
</div>
<p>æˆ‘ä»¬å†çœ‹çœ‹ä¸€ä¸ªä¸€ä¸ªé€šçŸ¥çš„ç¤ºä¾‹</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">ExampleCondSignal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> wg sync<span class="token punctuation">.</span>WaitGroup
	wg<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
	<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">defer</span> wg<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token function">read</span><span class="token punctuation">(</span><span class="token string">"one"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">defer</span> wg<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token function">read</span><span class="token punctuation">(</span><span class="token string">"two"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">defer</span> wg<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token function">read</span><span class="token punctuation">(</span><span class="token string">"three"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>
	done <span class="token operator">=</span> <span class="token boolean">true</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"signal"</span><span class="token punctuation">)</span>
	cond<span class="token punctuation">.</span><span class="token function">Signal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"signal"</span><span class="token punctuation">)</span>
	cond<span class="token punctuation">.</span><span class="token function">Signal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"signal"</span><span class="token punctuation">)</span>
	cond<span class="token punctuation">.</span><span class="token function">Signal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>
	wg<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token comment">// Unordered output:</span>
	<span class="token comment">// one is waiting</span>
	<span class="token comment">// two is waiting</span>
	<span class="token comment">// three is waiting</span>
	<span class="token comment">// signal</span>
	<span class="token comment">// one has read</span>
	<span class="token comment">// signal</span>
	<span class="token comment">// two has read</span>
	<span class="token comment">// signal</span>
	<span class="token comment">// three has read</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¿™é‡Œæ¯éš”ä¸€ç§’é’Ÿï¼Œæ‰“å°signalå­—ç¬¦ï¼Œå¹¶é€šè¿‡signal()å”¤é†’ä¸€ä¸ªåç¨‹ã€‚ç›´è‡³ä¸‰ä¸ªåç¨‹éƒ½è¢«å”¤é†’ã€‚</p>
<h2>åº•å±‚åŸç†</h2>
<h3>æ•°æ®ç»“æ„</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">type</span> Cond <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	noCopy noCopy

	<span class="token comment">// L is held while observing or changing the condition</span>
	L Locker

	notify  notifyList
	checker copyChecker
<span class="token punctuation">}</span>
</code></pre></div><ul>
<li><code>noCopy</code>ï¼šç”¨äºé˜²æ­¢æ‹·è´</li>
<li><code>L</code>ï¼šäº’æ–¥é”ï¼Œç”¨äºä¿æŠ¤<code>Cond</code>çš„å†…éƒ¨çŠ¶æ€</li>
<li><code>notify</code>ï¼šé€šçŸ¥åˆ—è¡¨ï¼Œç”¨äºå­˜å‚¨ç­‰å¾…çš„goroutine</li>
<li><code>checker</code>ï¼šç”¨äºæ£€æŸ¥æ˜¯å¦å‘ç”Ÿäº†æ‹·è´ï¼Œå…¶æœ¬è´¨ä¸Šæ˜¯åŒè¿‡æŒ‡é’ˆçš„åœ°å€å’Œå­˜å‚¨çš„å€¼æ˜¯å¦ä¸€è‡´åˆ¤æ–­ã€‚å¦‚æœå‘ç”Ÿæ‹·è´ï¼Œè¿è¡Œæ—¶ä¼španicã€‚</li>
</ul>
<h3>Wait</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>Cond<span class="token punctuation">)</span> <span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	c<span class="token punctuation">.</span>checker<span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// æ£€æŸ¥æ˜¯å¦å‘ç”Ÿäº†æ‹·è´</span>
	t <span class="token operator">:=</span> <span class="token function">runtime_notifyListAdd</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>c<span class="token punctuation">.</span>notify<span class="token punctuation">)</span> <span class="token comment">// å°†å½“å‰goroutineæ·»åŠ åˆ°é€šçŸ¥åˆ—è¡¨ä¸­</span>
	c<span class="token punctuation">.</span>L<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// è§£é”</span>
	<span class="token function">runtime_notifyListWait</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>c<span class="token punctuation">.</span>notify<span class="token punctuation">,</span> t<span class="token punctuation">)</span> <span class="token comment">// ç­‰å¾…é€šçŸ¥</span>
	c<span class="token punctuation">.</span>L<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// åŠ é”</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="hint-container important">
<p class="hint-container-title">é‡è¦</p>
<p>ç”±äºwaitå‡½æ•°æ˜¯å…ˆè§£é”ï¼Œå†åŠ é”ã€‚å› æ­¤éœ€è¦ä¿è¯åœ¨waitå‡½æ•°è°ƒç”¨ä¹‹å‰ï¼Œå·²ç»åŠ é”ã€‚å®˜æ–¹ç»™çš„ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code>c<span class="token punctuation">.</span>L<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> <span class="token operator">!</span><span class="token function">condition</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    c<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token operator">...</span> <span class="token builtin">make</span> use of condition <span class="token operator">...</span>
c<span class="token punctuation">.</span>L<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div></div>
<h3>Signal</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>Cond<span class="token punctuation">)</span> <span class="token function">Signal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	c<span class="token punctuation">.</span>checker<span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// æ£€æŸ¥æ˜¯å¦å‘ç”Ÿäº†æ‹·è´</span>
	<span class="token function">runtime_notifyListNotifyOne</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>c<span class="token punctuation">.</span>notify<span class="token punctuation">)</span> <span class="token comment">// é€šçŸ¥ä¸€ä¸ªç­‰å¾…çš„goroutine</span>
<span class="token punctuation">}</span>
</code></pre></div><h3>Broadcast</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>Cond<span class="token punctuation">)</span> <span class="token function">Broadcast</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	c<span class="token punctuation">.</span>checker<span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// æ£€æŸ¥æ˜¯å¦å‘ç”Ÿäº†æ‹·è´</span>
	<span class="token function">runtime_notifyListNotifyAll</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>c<span class="token punctuation">.</span>notify<span class="token punctuation">)</span> <span class="token comment">// é€šçŸ¥æ‰€æœ‰ç­‰å¾…çš„goroutine</span>
<span class="token punctuation">}</span>
</code></pre></div><h2>sync.Condå’Œchannelçš„åŒºåˆ«</h2>
<p>sync.Condå’Œchanneléƒ½å¯ä»¥ç”¨äºä¸€å¯¹å¤šçš„é€šçŸ¥ï¼Œsync.Condé€šè¿‡Broadcaseå¯ä»¥å”¤é†’æ‰€æœ‰è¢«é˜»å¡çš„goroutineï¼Œå¯ä»¥é€šè¿‡close(channel)å®ç°é€šçŸ¥æ‰€æœ‰è¢«é˜»å¡çš„goroutineã€‚ä½†æ˜¯closeæ“ä½œåªèƒ½å‘ç”Ÿä¸€æ¬¡ï¼Œè€Œsync.Condå¯ä»¥å¤šæ¬¡è°ƒç”¨Broadcaseã€‚</p>
<h2>ä¸ºä»€ä¹ˆsync.Condä¸èƒ½è¢«å¤åˆ¶</h2>
<p>sync.Condä¸­ç»´æŠ¤äº†ä¸€ä¸ªé˜»å¡çš„goroutineçš„åˆ—è¡¨ï¼Œå¦‚æœè¢«å¤åˆ¶ï¼Œé‚£ä¹ˆå°±ä¼šå‡ºç°ä¸¤ä¸ªsync.Condéƒ½åŒ…å«äº†è¿™ä¸ªåˆ—è¡¨ã€‚å¯èƒ½ä¼šå¯¼è‡´ä¸€äº›ç­‰å¾…çš„ goroutine æ°¸è¿œæ— æ³•è¢«å”¤é†’ï¼Œæˆ–è€…è¢«é”™è¯¯åœ°å”¤é†’ã€‚
æ­¤å¤–ï¼Œsync.Condè¿˜ç»´æŠ¤äº†ä¸€ä¸ªäº’æ–¥é”ï¼Œäº’æ–¥é”æœ¬èº«ä¹Ÿæ˜¯ç¦æ­¢å¤åˆ¶çš„ã€‚</p>
]]></content>
    <category term="ç¼–ç¨‹è¯­è¨€"/>
    <published>2024-09-24T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">sync.Onceåº•å±‚åŸç†</title>
    <id>http://blog.cjhe.top/language/go/advance/sync-once.html</id>
    <link href="http://blog.cjhe.top/language/go/advance/sync-once.html"/>
    <updated>2024-11-27T06:42:51.000Z</updated>
    <summary type="text">Goè¯­è¨€sync.Onceå¯ä»¥ä¿è¯æŸä¸ªå‡½æ•°åªæ‰§è¡Œä¸€æ¬¡ï¼Œå¸¸ç”¨äºå•ä¾‹æ¨¡å¼ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨sync.Onceçš„åº•å±‚å®ç°åŸç†ï¼Œä»¥ä¾¿æ›´å¥½åœ°ç†è§£å®ƒçš„å¹¶å‘å®‰å…¨ç‰¹æ€§ã€‚

ä½¿ç”¨æ–¹å¼
sync.Onceé€šè¿‡Doæ–¹æ³•å®ç°äº†åªæ‰§è¡Œä¸€æ¬¡çš„åŠŸèƒ½ã€‚åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨Doæ–¹æ³•æ—¶ï¼Œä¼ å…¥çš„å‡½æ•°ä¼šè¢«æ‰§è¡Œï¼Œè€Œåœ¨åç»­çš„è°ƒç”¨ä¸­ï¼Œä¼ å…¥çš„å‡½æ•°å°†ä¸ä¼šè¢«æ‰§è¡Œã€‚
åº•å±‚åŸç†
Â sync.Onceçš„åº•å±‚å®...</summary>
    <content type="html"><![CDATA[<!-- more -->
<blockquote>
<p>Goè¯­è¨€<code>sync.Once</code>å¯ä»¥ä¿è¯æŸä¸ªå‡½æ•°åªæ‰§è¡Œä¸€æ¬¡ï¼Œå¸¸ç”¨äºå•ä¾‹æ¨¡å¼ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨<code>sync.Once</code>çš„åº•å±‚å®ç°åŸç†ï¼Œä»¥ä¾¿æ›´å¥½åœ°ç†è§£å®ƒçš„å¹¶å‘å®‰å…¨ç‰¹æ€§ã€‚</p>
</blockquote>
<h2>ä½¿ç”¨æ–¹å¼</h2>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">ExampleOnce</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	once <span class="token operator">:=</span> sync<span class="token punctuation">.</span>Once<span class="token punctuation">{</span><span class="token punctuation">}</span>
	once<span class="token punctuation">.</span><span class="token function">Do</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"do once"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	once<span class="token punctuation">.</span><span class="token function">Do</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"do twice"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token comment">// Output:</span>
	<span class="token comment">// do once</span>
<span class="token punctuation">}</span>

</code></pre></div><p>sync.Onceé€šè¿‡<code>Do</code>æ–¹æ³•å®ç°äº†åªæ‰§è¡Œä¸€æ¬¡çš„åŠŸèƒ½ã€‚åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨<code>Do</code>æ–¹æ³•æ—¶ï¼Œä¼ å…¥çš„å‡½æ•°ä¼šè¢«æ‰§è¡Œï¼Œè€Œåœ¨åç»­çš„è°ƒç”¨ä¸­ï¼Œä¼ å…¥çš„å‡½æ•°å°†ä¸ä¼šè¢«æ‰§è¡Œã€‚</p>
<h2>åº•å±‚åŸç†</h2>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">type</span> Once <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	done atomic<span class="token punctuation">.</span>Uint32
	m    Mutex
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>o <span class="token operator">*</span>Once<span class="token punctuation">)</span> <span class="token function">Do</span><span class="token punctuation">(</span>f <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> o<span class="token punctuation">.</span>done<span class="token punctuation">.</span><span class="token function">Load</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>
		o<span class="token punctuation">.</span><span class="token function">doSlow</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>o <span class="token operator">*</span>Once<span class="token punctuation">)</span> <span class="token function">doSlow</span><span class="token punctuation">(</span>f <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	o<span class="token punctuation">.</span>m<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">defer</span> o<span class="token punctuation">.</span>m<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> o<span class="token punctuation">.</span>done<span class="token punctuation">.</span><span class="token function">Load</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>
		<span class="token keyword">defer</span> o<span class="token punctuation">.</span>done<span class="token punctuation">.</span><span class="token function">Store</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
		<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>sync.Onceçš„åº•å±‚å®ç°éå¸¸ç®€å•ï¼Œæ ¸å¿ƒä»£ç åªæœ‰çŸ­çŸ­çš„åå‡ è¡Œã€‚</p>
<ul>
<li>done: åŸå­æ“ä½œï¼Œç”¨äºè®°å½•å‡½æ•°æ˜¯å¦å·²ç»æ‰§è¡Œè¿‡ã€‚</li>
<li>m: äº’æ–¥é”ï¼Œç”¨äºä¿æŠ¤å‡½æ•°çš„æ‰§è¡Œã€‚</li>
</ul>
<div class="hint-container important">
<p class="hint-container-title">é‡è¦</p>
<p>å…¶ä¸­ç¬¬15è¡Œï¼Œé€šè¿‡åŒé‡æ£€æŸ¥ï¼Œä¿è¯å‡½æ•°åªæ‰§è¡Œä¸€æ¬¡ã€‚å› ä¸ºåœ¨è°ƒç”¨doSlowæ–¹å¼å‰ï¼Œdoneæ˜¯0ã€‚ä½†æ˜¯è°ƒç”¨doSlowæ–¹æ³•æ—¶ï¼Œdoneå¯èƒ½å·²è¢«å…¶ä»–åç¨‹ä¿®æ”¹ï¼Œå› æ­¤éœ€è¦åŒé‡æ£€æŸ¥ã€‚</p>
</div>
<h2>æ³¨æ„äº‹é¡¹</h2>
<h3>sync.Onceä¸èƒ½å¤åˆ¶</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">ExampleOnce2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	once <span class="token operator">:=</span> sync<span class="token punctuation">.</span>Once<span class="token punctuation">{</span><span class="token punctuation">}</span>
	wg <span class="token operator">:=</span> sync<span class="token punctuation">.</span>WaitGroup<span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
		wg<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
		<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">defer</span> wg<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			once <span class="token operator">:=</span> once
			once<span class="token punctuation">.</span><span class="token function">Do</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"do init"</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	wg<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token comment">// Output:</span>
	<span class="token comment">// do init</span>
	<span class="token comment">// do init</span>
	<span class="token comment">// do init</span>
	<span class="token comment">// do init</span>
	<span class="token comment">// do init</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="hint-container tip">
<p class="hint-container-title">æç¤º</p>
<p>è¿™æ˜¯ç”±äºsync.Onceé‡Œé¢çš„å†…éƒ¨ç±»å‹ä¸æ˜¯å¼•ç”¨ç±»å‹ï¼Œè¿›è¡Œå¤åˆ¶ä¼šå¾—åˆ°å…¨æ–°çš„å˜é‡ã€‚ä¸åŒçš„å˜é‡æ‰§è¡ŒDoæ–¹æ³•æ—¶ï¼Œäº’ä¸å½±å“ã€‚</p>
</div>
<h3>sync.Onceä¸èƒ½åµŒå¥—ä½¿ç”¨</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"fmt"</span>
	<span class="token string">"sync"</span>
<span class="token punctuation">)</span>

<span class="token keyword">var</span> once sync<span class="token punctuation">.</span>Once

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	once<span class="token punctuation">.</span><span class="token function">Do</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		once<span class="token punctuation">.</span><span class="token function">Do</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"do inside"</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"do outside"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><details class="hint-container details"><summary>æ‰§è¡Œç»“æœ</summary>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>fatal error: all goroutines are asleep - deadlock!

goroutine 1 [sync.Mutex.Lock]:
sync.runtime_SemacquireMutex(0x5a2200?, 0x80?, 0x5a1340?)
        D:/Go/src/runtime/sema.go:95 +0x25
sync.(*Mutex).lockSlow(0x6a969c)
        D:/Go/src/sync/mutex.go:173 +0x15d
sync.(*Mutex).Lock(...)
        D:/Go/src/sync/mutex.go:92
sync.(*Once).doSlow(0xc00008a000?, 0x5c3fe8)
        D:/Go/src/sync/once.go:72 +0x50
sync.(*Once).Do(...)
        D:/Go/src/sync/once.go:67
main.main.func1()
        D:/code/test/test/main.go:12 +0x2c
sync.(*Once).doSlow(0x657388?, 0xc00006c000?)
        D:/Go/src/sync/once.go:76 +0xb4
sync.(*Once).Do(...)
        D:/Go/src/sync/once.go:67
main.main()
        D:/code/test/test/main.go:11 +0x2c
exit status 2
</code></pre></div></details>
<div class="hint-container tip">
<p class="hint-container-title">æç¤º</p>
<p>è¿™æ˜¯ç”±äºsync.Onceå†…éƒ¨çš„é”åœ¨ç¬¬ä¸€æ¬¡æ‰§è¡Œçš„æ—¶å€™ï¼ŒåŠ é”æˆåŠŸï¼Œç­‰å¾…é‡Šæ”¾é”ã€‚ä½†æ˜¯åµŒå…¥æ‰§è¡Œçš„æ—¶å€™åˆç«äº‰è¿™ä¸ªé”ï¼Œå¯¼è‡´æ­»é”ã€‚</p>
</div>
<h2>å‚è€ƒèµ„æ–™</h2>
<ul>
<li><a href="https://mp.weixin.qq.com/s/glJ6X1ixSYFok4qb_UHY6A" target="_blank" rel="noopener noreferrer">æ¢ç´¢ Go sync.Once çš„å®ç°åŸç†</a></li>
</ul>
]]></content>
    <category term="ç¼–ç¨‹è¯­è¨€"/>
    <published>2024-09-24T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">GPUæœºå™¨æ­å»ºk8s</title>
    <id>http://blog.cjhe.top/devops/k8s/k8s-on-gpu.html</id>
    <link href="http://blog.cjhe.top/devops/k8s/k8s-on-gpu.html"/>
    <updated>2024-09-23T03:23:27.000Z</updated>
    <summary type="text">gpuæœºå™¨æ­å»ºk8s
æŸ¥çœ‹GPU
å¯ä»¥çœ‹åˆ°æœ‰å››å¼ nvidiaæ˜¾å¡å’Œnvidiaå£°å¡
æŸ¥çœ‹æ˜¯å¦å·²å®‰è£…gpu nvidiaé©±åŠ¨
æ­¤æ—¶å·²å®‰è£…nvidiaé©±åŠ¨
å¦‚æœæœªå®‰è£…ï¼šå‚è€ƒé“¾æ¥è¿›è¡Œå®‰è£…
æŸ¥çœ‹gpuå‹å·ã€gpué©±åŠ¨ç‰ˆæœ¬
å¯ä»¥çœ‹åˆ°å››å¼ æ˜¾å¡ï¼Œå¯¹åº”ç¼–å·æ˜¯ï¼š0ã€1ã€2ã€3ï¼Œå…¶ä¸­ï¼š0ã€1ã€2ä¸‰å¼ å¡å·²ç»æœ‰pythonè¿›ç¨‹æ­£åœ¨ä½¿ç”¨ã€‚
æŸ¥çœ‹dockerè¿è¡Œæ—¶
dockeré»˜...</summary>
    <content type="html"><![CDATA[<!-- more -->
<h1>gpuæœºå™¨æ­å»ºk8s</h1>
<h2>æŸ¥çœ‹GPU</h2>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>(base) root@ubuntu:~# lspci | grep -i nvidia
01:00.0 VGA compatible controller: NVIDIA Corporation Device 2230 (rev a1)
01:00.1 Audio device: NVIDIA Corporation Device 1aef (rev a1)
22:00.0 VGA compatible controller: NVIDIA Corporation Device 2230 (rev a1)
22:00.1 Audio device: NVIDIA Corporation Device 1aef (rev a1)
41:00.0 VGA compatible controller: NVIDIA Corporation Device 2230 (rev a1)
41:00.1 Audio device: NVIDIA Corporation Device 1aef (rev a1)
61:00.0 VGA compatible controller: NVIDIA Corporation Device 2230 (rev a1)
61:00.1 Audio device: NVIDIA Corporation Device 1aef (rev a1)
</code></pre></div><p>å¯ä»¥çœ‹åˆ°æœ‰å››å¼ nvidiaæ˜¾å¡å’Œnvidiaå£°å¡</p>
<h2>æŸ¥çœ‹æ˜¯å¦å·²å®‰è£…gpu nvidiaé©±åŠ¨</h2>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>(base) root@ubuntu:~# lsmod | grep  -i nvidia
nvidia_uvm           1216512  16

             61440  0
nvidia_modeset       1241088  1 nvidia_drm
nvidia              56471552  1128 nvidia_uvm,nvidia_modeset
drm_kms_helper        184320  4 ast,nvidia_drm
drm                   495616  7 drm_kms_helper,drm_vram_helper,ast,nvidia,nvidia_drm,ttm
</code></pre></div><p>æ­¤æ—¶å·²å®‰è£…nvidiaé©±åŠ¨</p>
<p>å¦‚æœæœªå®‰è£…ï¼šå‚è€ƒ<a href="https://docs.nvidia.com/cuda/cuda-installation-guide-linux/" target="_blank" rel="noopener noreferrer">é“¾æ¥</a>è¿›è¡Œå®‰è£…</p>
<h2>æŸ¥çœ‹gpuå‹å·ã€gpué©±åŠ¨ç‰ˆæœ¬</h2>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>(base) root@ubuntu:~# nvidia-smi
Wed May 29 03:28:30 2024
+</code></pre></div>]]></content>
    <category term="devops"/>
    <published>2024-09-23T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">å¼€æºé¡¹ç›®</title>
    <id>http://blog.cjhe.top/open-source-project/</id>
    <link href="http://blog.cjhe.top/open-source-project/"/>
    <updated>2024-09-09T07:40:20.000Z</updated>
    <summary type="html"><![CDATA[<p>è¿™é‡Œè®°å½•æˆ‘çš„å¼€æºé¡¹ç›®</p>
]]></summary>
    <content type="html"><![CDATA[<p>è¿™é‡Œè®°å½•æˆ‘çš„å¼€æºé¡¹ç›®</p>
<!-- more -->
]]></content>
    <category term="å¼€æºé¡¹ç›®"/>
    <published>2024-09-09T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">drawio æœ¬åœ°é›†æˆ</title>
    <id>http://blog.cjhe.top/open-source-project/drawio-store.html</id>
    <link href="http://blog.cjhe.top/open-source-project/drawio-store.html"/>
    <updated>2024-09-09T07:40:20.000Z</updated>
    <summary type="html"><![CDATA[<p>ä½¿ç”¨æœ¬åœ°å­˜å‚¨é›†æˆdrawioï¼Œç”¨äºå›¢é˜Ÿå…±äº«</p>
]]></summary>
    <content type="html"><![CDATA[<p>ä½¿ç”¨æœ¬åœ°å­˜å‚¨é›†æˆdrawioï¼Œç”¨äºå›¢é˜Ÿå…±äº«</p>
<!-- more -->
<h2>æˆªå›¾</h2>
<figure><figcaption>drawio-store</figcaption></figure>
<h2>æ”¶è—å†å²</h2>
<figure><a href="https://star-history.com/#hexiaopi/drawio-store&amp;Date" target="_blank" rel="noopener noreferrer"><img src="https://api.star-history.com/svg?repos=hexiaopi/drawio-store&amp;type=Date" alt="Star History Chart" tabindex="0" loading="lazy"></a><figcaption>Star History Chart</figcaption></figure>
]]></content>
    <category term="å¼€æºé¡¹ç›®"/>
    <published>2024-09-09T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">redis å¯è§†åŒ–ç®¡ç†å·¥å…·</title>
    <id>http://blog.cjhe.top/open-source-project/rdm-toy.html</id>
    <link href="http://blog.cjhe.top/open-source-project/rdm-toy.html"/>
    <updated>2024-09-09T07:40:20.000Z</updated>
    <summary type="html"><![CDATA[<p>redis å¯è§†åŒ–ç®¡ç†å·¥å…·</p>
]]></summary>
    <content type="html"><![CDATA[<p>redis å¯è§†åŒ–ç®¡ç†å·¥å…·</p>
<!-- more -->
<h2>åŠŸèƒ½</h2>
<ul>
<li>redis ç®¡ç†</li>
<li>db ç®¡ç†</li>
<li>key ç®¡ç†</li>
<li>æ”¯æŒå‘½ä»¤è¡Œ</li>
</ul>
<h2>ğŸ›  æŠ€æœ¯æ ˆ</h2>
<h3>å‰ç«¯</h3>
<ul>
<li>vue3</li>
<li>vite</li>
<li>pina</li>
<li>element-plus</li>
</ul>
<h3>åç«¯</h3>
<ul>
<li>go</li>
<li>redis</li>
<li>gin</li>
</ul>
<h2>å®‰è£…</h2>
<h3>å‰ç«¯</h3>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code>  <span class="token builtin class-name">cd</span> frontend
  <span class="token function">npm</span> <span class="token function">install</span>
</code></pre></div><h3>åç«¯</h3>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code>  <span class="token builtin class-name">cd</span> backend
  go mod tidy
</code></pre></div><h2>æœ¬åœ°è¿è¡Œ</h2>
<h3>å‰ç«¯</h3>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code>  <span class="token builtin class-name">cd</span> frontend
  <span class="token function">npm</span> run dev
</code></pre></div><h3>åç«¯</h3>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code>  <span class="token builtin class-name">cd</span> backend
  go run cmd/root.go
</code></pre></div><h2>æˆªå›¾</h2>
<p>







</p>
<h2>æ”¶è—å†å²</h2>
<figure><a href="https://star-history.com/#hexiaopi/rdm-toy&amp;Date" target="_blank" rel="noopener noreferrer"><img src="https://api.star-history.com/svg?repos=hexiaopi/rdm-toy&amp;type=Date" alt="Star History Chart" tabindex="0" loading="lazy"></a><figcaption>Star History Chart</figcaption></figure>
<h2>è®¸å¯è¯</h2>
<p><a href="https://choosealicense.com/licenses/mit/" target="_blank" rel="noopener noreferrer">MIT</a></p>
]]></content>
    <category term="å¼€æºé¡¹ç›®"/>
    <published>2024-09-09T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">SSEåè®®</title>
    <id>http://blog.cjhe.top/network/application-layer/SSE.html</id>
    <link href="http://blog.cjhe.top/network/application-layer/SSE.html"/>
    <updated>2024-09-09T07:40:20.000Z</updated>
    <summary type="html"><![CDATA[<blockquote>
<p>SSEå¸¸ç”¨äºæ¶ˆæ¯æ¨é€ï¼ŒChatGPTé‡‡ç”¨çš„å°±æ˜¯è¯¥æŠ€æœ¯ã€‚</p>
</blockquote>
]]></summary>
    <content type="html"><![CDATA[<blockquote>
<p>SSEå¸¸ç”¨äºæ¶ˆæ¯æ¨é€ï¼ŒChatGPTé‡‡ç”¨çš„å°±æ˜¯è¯¥æŠ€æœ¯ã€‚</p>
</blockquote>
<!-- more -->
<h2>ä»€ä¹ˆæ˜¯SSE</h2>
<p>SSE(Server-Sent Events)æ˜¯ä¸€ç§å…è®¸æœåŠ¡å™¨å‘å®¢æˆ·ç«¯æ¨é€æ¶ˆæ¯çš„æŠ€æœ¯ï¼Œè€Œæ— éœ€å®¢æˆ·ç«¯è½®è¯¢æœåŠ¡å™¨ã€‚å®ƒåŸºäºHTTPåè®®ï¼Œé€šè¿‡å»ºç«‹ä¸€ä¸ªæŒä¹…çš„è¿æ¥ï¼ŒæœåŠ¡ç«¯å¯ä»¥åœ¨å®¢æˆ·ç«¯ä¸å‘é€æ–°çš„è¯·æ±‚çš„æƒ…å†µä¸‹ï¼Œä¸»åŠ¨æŒç»­çš„å‘é€æ•°æ®ã€‚SSEé€šå¸¸ç”¨äºå®æ—¶æ¶ˆæ¯æ¨é€ã€å®æ—¶æ•°æ®æ›´æ–°ç­‰åœºæ™¯ã€‚</p>
<h2>SSEçš„å·¥ä½œåŸç†</h2>
<p>SSEçš„å·¥ä½œåŸç†åŸºäºHTTPåè®®ï¼Œé€šè¿‡å»ºç«‹ä¸€ä¸ªæŒä¹…çš„è¿æ¥ï¼ŒæœåŠ¡ç«¯å¯ä»¥åœ¨å®¢æˆ·ç«¯ä¸å‘é€æ–°çš„è¯·æ±‚çš„æƒ…å†µä¸‹ï¼Œä¸»åŠ¨æŒç»­çš„å‘é€æ•°æ®ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªHTTPè¯·æ±‚ï¼Œè¯·æ±‚å¤´ä¸­åŒ…å«<code>Accept: text/event-stream</code>ï¼Œè¡¨ç¤ºå®¢æˆ·ç«¯å¸Œæœ›æ¥æ”¶æœåŠ¡å™¨æ¨é€çš„äº‹ä»¶æµã€‚</li>
<li>æœåŠ¡å™¨æ¥æ”¶åˆ°è¯·æ±‚åï¼Œä¼šè¿”å›ä¸€ä¸ªHTTPå“åº”ï¼Œå“åº”å¤´ä¸­åŒ…å«<code>Content-Type: text/event-stream</code>ï¼Œè¡¨ç¤ºæœåŠ¡å™¨å°†è¿”å›ä¸€ä¸ªäº‹ä»¶æµã€‚å“åº”ä½“ä¸­åŒ…å«å¤šä¸ªäº‹ä»¶ï¼Œæ¯ä¸ªäº‹ä»¶ç”±ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®è¡Œç»„æˆï¼Œæ•°æ®è¡Œä¹‹é—´ç”¨æ¢è¡Œç¬¦åˆ†éš”ã€‚ä¸ä¼ ç»Ÿçš„HTTPè¯·æ±‚ä¸åŒï¼Œè¿™ä¸ªè¿æ¥ä¸ä¼šå†å‘é€å®Œä¸€æ¬¡å“åº”åç«‹å³å…³é—­ã€‚</li>
<li>å®¢æˆ·ç«¯æ¥æ”¶åˆ°æœåŠ¡å™¨æ¨é€çš„äº‹ä»¶æµåï¼Œä¼šè§£ææ¯ä¸ªäº‹ä»¶ï¼Œå¹¶æ ¹æ®äº‹ä»¶ç±»å‹è¿›è¡Œç›¸åº”çš„å¤„ç†ã€‚</li>
</ol>
<h2>SSEçš„ç¤ºä¾‹</h2>
<blockquote>
<p>ç¤ºä¾‹å±•ç¤ºï¼šåç«¯å‘å‰ç«¯æ¨é€è¿›åº¦ï¼Œå‰ç«¯å±•ç¤ºè¿›åº¦æ¡ã€‚<a href="https://github.com/pcpratheesh/golang-sse-progress-bar" target="_blank" rel="noopener noreferrer">ä»£ç è¯¦è§</a></p>
</blockquote>
<figure><figcaption>sse--pregress-bar</figcaption></figure>
<p>åç«¯ä»£ç åˆ†æï¼šé€šè¿‡<code>c.SSEvent</code>æ–¹æ³•ï¼Œå¾ªç¯åæ¬¡å‘å‰ç«¯æ¨é€è¿›åº¦æ¶ˆæ¯ï¼Œæœ€åæ¨é€å®Œæˆæ¶ˆæ¯ã€‚</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">progressor</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	noOfExecution <span class="token operator">:=</span> <span class="token number">10</span>
	progress <span class="token operator">:=</span> <span class="token number">0</span>
	<span class="token keyword">for</span> progress <span class="token operator">&lt;=</span> noOfExecution <span class="token punctuation">{</span>
		progressPercentage <span class="token operator">:=</span> <span class="token function">float64</span><span class="token punctuation">(</span>progress<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token function">float64</span><span class="token punctuation">(</span>noOfExecution<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span>

		c<span class="token punctuation">.</span><span class="token function">SSEvent</span><span class="token punctuation">(</span><span class="token string">"progress"</span><span class="token punctuation">,</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">{</span>
			<span class="token string">"currentTask"</span><span class="token punctuation">:</span>        progress<span class="token punctuation">,</span>
			<span class="token string">"progressPercentage"</span><span class="token punctuation">:</span> progressPercentage<span class="token punctuation">,</span>
			<span class="token string">"noOftasks"</span><span class="token punctuation">:</span>          noOfExecution<span class="token punctuation">,</span>
			<span class="token string">"completed"</span><span class="token punctuation">:</span>          <span class="token boolean">false</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token comment">// Flush the response to ensure the data is sent immediately</span>
		c<span class="token punctuation">.</span>Writer<span class="token punctuation">.</span><span class="token function">Flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

		progress <span class="token operator">+=</span> <span class="token number">1</span>
		time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	c<span class="token punctuation">.</span><span class="token function">SSEvent</span><span class="token punctuation">(</span><span class="token string">"progress"</span><span class="token punctuation">,</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">{</span>
		<span class="token string">"completed"</span><span class="token punctuation">:</span>          <span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token string">"progressPercentage"</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>

	<span class="token comment">// Flush the response to ensure the data is sent immediately</span>
	c<span class="token punctuation">.</span>Writer<span class="token punctuation">.</span><span class="token function">Flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token punctuation">}</span>
</code></pre></div><p>å‰ç«¯ä»£ç åˆ†æï¼šEventSourceå¯¹è±¡ç”¨äºç›‘å¬æœåŠ¡å™¨æ¨é€çš„äº‹ä»¶æµï¼Œå½“äº‹ä»¶æµåˆ°è¾¾æ—¶ï¼Œä¼šè§¦å‘<code>progress</code>äº‹ä»¶ï¼Œäº‹ä»¶å¤„ç†å‡½æ•°ä¸­è§£æäº‹ä»¶æ•°æ®ï¼Œå¹¶æ ¹æ®äº‹ä»¶ç±»å‹è¿›è¡Œç›¸åº”çš„å¤„ç†ã€‚</p>
<div class="language-javascript" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> eventSource <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EventSource</span><span class="token punctuation">(</span><span class="token string">'progress'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

eventSource<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'progress'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>data<span class="token punctuation">)</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>currentTask <span class="token operator">!=</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">progressBar</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>completed <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">closeEventStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2>SSE ç‰¹ç‚¹</h2>
<p><strong>å•å‘é€šä¿¡</strong></p>
<blockquote>
<p>SSE æ˜¯ä¸€ç§å•å‘çš„é€šä¿¡æ–¹å¼ï¼Œå³æœåŠ¡å™¨å‘å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯ï¼Œå®¢æˆ·ç«¯ä¸èƒ½ç›´æ¥å‘æœåŠ¡å™¨å‘é€æ¶ˆæ¯ã€‚å¦‚æœéœ€è¦åŒå‘é€šä¿¡ï¼Œå¯ä»¥ç»“åˆå…¶ä»–æŠ€æœ¯å¦‚ WebSocketã€‚</p>
</blockquote>
<p><strong>å®æ—¶æ€§</strong></p>
<blockquote>
<p>ç”±äºæœåŠ¡å™¨å¯ä»¥éšæ—¶å‘å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯ï¼ŒSSE å¯ä»¥å®ç°å®æ—¶çš„æ¶ˆæ¯æ¨é€ã€‚ä¾‹å¦‚ï¼Œåœ¨è‚¡ç¥¨äº¤æ˜“åº”ç”¨ä¸­ï¼ŒæœåŠ¡å™¨å¯ä»¥å®æ—¶å‘å®¢æˆ·ç«¯æ¨é€è‚¡ç¥¨ä»·æ ¼å˜åŒ–çš„æ¶ˆæ¯ã€‚</p>
</blockquote>
<p><strong>è½»é‡çº§</strong></p>
<blockquote>
<p>SSE ä½¿ç”¨ç®€å•çš„æ–‡æœ¬æ ¼å¼è¿›è¡Œæ¶ˆæ¯ä¼ è¾“ï¼Œä¸éœ€è¦å¤æ‚çš„äºŒè¿›åˆ¶åè®®ï¼Œå› æ­¤ç›¸å¯¹è½»é‡çº§ã€‚è¿™ä½¿å¾—å®ƒåœ¨ç½‘ç»œå¸¦å®½æœ‰é™çš„æƒ…å†µä¸‹ä¹Ÿèƒ½é«˜æ•ˆå·¥ä½œã€‚</p>
</blockquote>
<p><strong>å…¼å®¹æ€§å¥½</strong></p>
<blockquote>
<p>SSE åŸºäº HTTP åè®®ï¼Œå› æ­¤å¯ä»¥åœ¨å¤§å¤šæ•°ç°ä»£æµè§ˆå™¨ä¸­ä½¿ç”¨ï¼Œæ— éœ€å®‰è£…é¢å¤–çš„æ’ä»¶æˆ–è½¯ä»¶ã€‚</p>
</blockquote>
]]></content>
    <category term="ç½‘ç»œ"/>
    <published>2024-09-04T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">Context æ·±å…¥æºç åˆ†æ</title>
    <id>http://blog.cjhe.top/language/go/advance/context.html</id>
    <link href="http://blog.cjhe.top/language/go/advance/context.html"/>
    <updated>2024-08-29T07:13:18.000Z</updated>
    <summary type="html"><![CDATA[<p>åŸºç¡€ç¯‡ä¸­å·²ç»ä»‹ç»äº†Goè¯­è¨€Contextçš„ä½¿ç”¨æ–¹æ³•å’Œåœºæ™¯ï¼Œæœ¬èŠ‚æˆ‘ä»¬æ¥æ·±å…¥äº†è§£ä¸€ä¸‹Contextçš„æºç å®ç°ã€‚</p>
]]></summary>
    <content type="html"><![CDATA[<p>åŸºç¡€ç¯‡ä¸­å·²ç»ä»‹ç»äº†Goè¯­è¨€Contextçš„ä½¿ç”¨æ–¹æ³•å’Œåœºæ™¯ï¼Œæœ¬èŠ‚æˆ‘ä»¬æ¥æ·±å…¥äº†è§£ä¸€ä¸‹Contextçš„æºç å®ç°ã€‚</p>
<!-- more -->
<h2>å…³äºContext</h2>
<p>Contextæœ¬è´¨æ˜¯ä¸€ä¸ªæ¥å£ï¼Œå®šä¹‰å¦‚ä¸‹ï¼š</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">type</span> Context <span class="token keyword">interface</span> <span class="token punctuation">{</span>
	<span class="token function">Deadline</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>deadline time<span class="token punctuation">.</span>Time<span class="token punctuation">,</span> ok <span class="token builtin">bool</span><span class="token punctuation">)</span>
	<span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;-</span><span class="token keyword">chan</span> <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token function">Err</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">error</span>
	<span class="token function">Value</span><span class="token punctuation">(</span>key any<span class="token punctuation">)</span> any
<span class="token punctuation">}</span>
</code></pre></div><p>å…¶ä¸­ï¼š</p>
<ul>
<li><code>Deadline()</code>è¿”å›Contextçš„æˆªæ­¢æ—¶é—´ï¼Œè¿”å›å€¼ä¸ºæˆªæ­¢æ—¶é—´å’Œä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦è®¾ç½®äº†æˆªæ­¢æ—¶é—´ã€‚å¦‚æœè¿”å›çš„å¸ƒå°”å€¼ä¸ºfalseï¼Œè¡¨ç¤ºæ²¡æœ‰è®¾ç½®æˆªæ­¢æ—¶é—´ã€‚</li>
<li><code>Done()</code>è¿”å›ä¸€ä¸ªåªè¯»çš„channelï¼Œå½“Contextè¢«å–æ¶ˆæˆ–è€…æˆªæ­¢æ—¶é—´åˆ°è¾¾æ—¶ï¼Œè¯¥channelä¼šè¢«å…³é—­ã€‚åœ¨æ²¡æœ‰å…³é—­ä¹‹å‰ï¼Œä»channelè¯»å–ä¼šä¸€ç›´é˜»å¡ã€‚</li>
<li><code>Err()</code>è¿”å›Contextè¢«å–æ¶ˆçš„åŸå› ï¼Œå¦‚æœContextæ²¡æœ‰è¢«å–æ¶ˆï¼Œè¿”å›nilã€‚</li>
<li><code>Value()</code>è¿”å›Contextä¸­å­˜å‚¨çš„å€¼ï¼Œkeyä¸ºä»»æ„ç±»å‹ï¼Œvalueä¸ºä»»æ„ç±»å‹ã€‚</li>
</ul>
<h2>ç©ºçš„Context</h2>
<blockquote>
<p>æˆ‘ä»¬çŸ¥é“<code>Background()</code>å’Œ<code>TODO()</code>è¿”å›çš„Contextå¸¸ç”¨äºæ ¹èŠ‚ç‚¹ï¼Œæ— æ³•å–æ¶ˆï¼Œä¹Ÿæ²¡æœ‰è¶…æ—¶æ—¶é—´ï¼Œä¹Ÿè·å–ä¸åˆ°ä»»ä½•å…±äº«æ•°æ®ã€‚è¿™ç§ç©ºContextæ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ</p>
</blockquote>
<blockquote>
<p>Background()è¿”å› backgroundCtx{} ç±»å‹çš„Context</p>
</blockquote>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">Background</span><span class="token punctuation">(</span><span class="token punctuation">)</span> Context <span class="token punctuation">{</span>
	<span class="token keyword">return</span> backgroundCtx<span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote>
<p>TODO()è¿”å› todoCtx{} ç±»å‹çš„Context</p>
</blockquote>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">TODO</span><span class="token punctuation">(</span><span class="token punctuation">)</span> Context <span class="token punctuation">{</span>
	<span class="token keyword">return</span> todoCtx<span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å…¶ä¸­ï¼š<code>backgroundCtx</code>å’Œ<code>todoCtx</code>éƒ½æ˜¯ç»§æ‰¿äº†<code>emptyCtx</code>ç»“æ„ä½“ã€‚</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">type</span> backgroundCtx <span class="token keyword">struct</span><span class="token punctuation">{</span> emptyCtx <span class="token punctuation">}</span>

<span class="token keyword">type</span> todoCtx <span class="token keyword">struct</span><span class="token punctuation">{</span> emptyCtx <span class="token punctuation">}</span>
</code></pre></div><blockquote>
<p>emptyCtx æ˜¯ä¸€ä¸ªç©ºçš„Contextç»“æ„ä½“ï¼Œå®ƒå®ç°äº†Contextæ¥å£çš„æ‰€æœ‰æ–¹æ³•ã€‚</p>
</blockquote>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">type</span> emptyCtx <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>emptyCtx<span class="token punctuation">)</span> <span class="token function">Deadline</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>deadline time<span class="token punctuation">.</span>Time<span class="token punctuation">,</span> ok <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>emptyCtx<span class="token punctuation">)</span> <span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;-</span><span class="token keyword">chan</span> <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>emptyCtx<span class="token punctuation">)</span> <span class="token function">Err</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>emptyCtx<span class="token punctuation">)</span> <span class="token function">Value</span><span class="token punctuation">(</span>key any<span class="token punctuation">)</span> any <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>emptyCtx</code>ä»…ä»…å®ç°äº†<code>Context</code>æ¥å£æ–¹æ³•ï¼Œå´ä»€ä¹ˆä¹Ÿæ²¡åšã€‚</p>
<h2>ä¼ é€’æ•°æ®çš„Context</h2>
<p>WithValue()å‡½æ•°ç”¨äºåˆ›å»ºä¸€ä¸ªæºå¸¦äº†é”®å€¼å¯¹çš„Contextï¼Œç”¨äºä¼ é€’æ•°æ®ã€‚</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">WithValue</span><span class="token punctuation">(</span>parent Context<span class="token punctuation">,</span> key<span class="token punctuation">,</span> val any<span class="token punctuation">)</span> Context <span class="token punctuation">{</span>
	<span class="token keyword">if</span> parent <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">"cannot create context from nil parent"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> key <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">"nil key"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token operator">!</span>reflectlite<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Comparable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">"key is not comparable"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token operator">&amp;</span>valueCtx<span class="token punctuation">{</span>parent<span class="token punctuation">,</span> key<span class="token punctuation">,</span> val<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å…¶ä¸­ï¼š<code>valueCtx</code>å®šä¹‰å¦‚ä¸‹ï¼š</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">type</span> valueCtx <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	Context
	key<span class="token punctuation">,</span> val any
<span class="token punctuation">}</span>
</code></pre></div><p>å…¶ä¸­ï¼š</p>
<ul>
<li>Contextæ˜¯æ¥å£ï¼Œå­˜å‚¨äº†çˆ¶Contextå®ä¾‹ã€‚</li>
<li><code>key</code>å’Œ<code>val</code>æ˜¯ä»»æ„ç±»å‹çš„é”®å€¼å¯¹ã€‚</li>
</ul>
<p>ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°ä¸€ä¸ªvalueCtxåªå­˜å‚¨ä¸€ä¸ªé”®å€¼å¯¹ã€‚é‚£ä¹ˆå¤šä¸ªé”®å€¼å¯¹çš„çˆ¶å­å¦‚ä½•å…±äº«æ•°æ®çš„å‘¢ï¼Ÿ</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>valueCtx<span class="token punctuation">)</span> <span class="token function">Value</span><span class="token punctuation">(</span>key any<span class="token punctuation">)</span> any <span class="token punctuation">{</span>
	<span class="token keyword">if</span> c<span class="token punctuation">.</span>key <span class="token operator">==</span> key <span class="token punctuation">{</span>
		<span class="token keyword">return</span> c<span class="token punctuation">.</span>val
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token function">value</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>Context<span class="token punctuation">,</span> key<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">value</span><span class="token punctuation">(</span>c Context<span class="token punctuation">,</span> key any<span class="token punctuation">)</span> any <span class="token punctuation">{</span>
	<span class="token keyword">for</span> <span class="token punctuation">{</span>
		<span class="token keyword">switch</span> ctx <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token keyword">type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">case</span> <span class="token operator">*</span>valueCtx<span class="token punctuation">:</span>
			<span class="token keyword">if</span> key <span class="token operator">==</span> ctx<span class="token punctuation">.</span>key <span class="token punctuation">{</span>
				<span class="token keyword">return</span> ctx<span class="token punctuation">.</span>val
			<span class="token punctuation">}</span>
			c <span class="token operator">=</span> ctx<span class="token punctuation">.</span>Context
		<span class="token keyword">case</span> <span class="token operator">*</span>cancelCtx<span class="token punctuation">:</span>
			<span class="token keyword">if</span> key <span class="token operator">==</span> <span class="token operator">&amp;</span>cancelCtxKey <span class="token punctuation">{</span>
				<span class="token keyword">return</span> c
			<span class="token punctuation">}</span>
			c <span class="token operator">=</span> ctx<span class="token punctuation">.</span>Context
		<span class="token keyword">case</span> withoutCancelCtx<span class="token punctuation">:</span>
			<span class="token keyword">if</span> key <span class="token operator">==</span> <span class="token operator">&amp;</span>cancelCtxKey <span class="token punctuation">{</span>
				<span class="token comment">// This implements Cause(ctx) == nil</span>
				<span class="token comment">// when ctx is created using WithoutCancel.</span>
				<span class="token keyword">return</span> <span class="token boolean">nil</span>
			<span class="token punctuation">}</span>
			c <span class="token operator">=</span> ctx<span class="token punctuation">.</span>c
		<span class="token keyword">case</span> <span class="token operator">*</span>timerCtx<span class="token punctuation">:</span>
			<span class="token keyword">if</span> key <span class="token operator">==</span> <span class="token operator">&amp;</span>cancelCtxKey <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token operator">&amp;</span>ctx<span class="token punctuation">.</span>cancelCtx
			<span class="token punctuation">}</span>
			c <span class="token operator">=</span> ctx<span class="token punctuation">.</span>Context
		<span class="token keyword">case</span> backgroundCtx<span class="token punctuation">,</span> todoCtx<span class="token punctuation">:</span>
			<span class="token keyword">return</span> <span class="token boolean">nil</span>
		<span class="token keyword">default</span><span class="token punctuation">:</span>
			<span class="token keyword">return</span> c<span class="token punctuation">.</span><span class="token function">Value</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°<code>value()</code>å‡½æ•°ä¼šé€’å½’éå†çˆ¶Contextï¼Œç›´åˆ°æ‰¾åˆ°<code>key</code>å¯¹åº”çš„<code>value</code>ã€‚</p>
<h2>å¯å–æ¶ˆçš„Context</h2>
<p>å–æ¶ˆçš„æ¥å£å®šä¹‰å¦‚ä¸‹ï¼š</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">type</span> canceler <span class="token keyword">interface</span> <span class="token punctuation">{</span>
	<span class="token function">cancel</span><span class="token punctuation">(</span>removeFromParent <span class="token builtin">bool</span><span class="token punctuation">,</span> err<span class="token punctuation">,</span> cause <span class="token builtin">error</span><span class="token punctuation">)</span>
	<span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;-</span><span class="token keyword">chan</span> <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Goè¯­è¨€å¯å–æ¶ˆçš„Contextå®šä¹‰å¦‚ä¸‹ï¼š</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">type</span> cancelCtx <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	Context

	mu       sync<span class="token punctuation">.</span>Mutex            <span class="token comment">// protects following fields</span>
	done     atomic<span class="token punctuation">.</span>Value          <span class="token comment">// of chan struct{}, created lazily, closed by first cancel call</span>
	children <span class="token keyword">map</span><span class="token punctuation">[</span>canceler<span class="token punctuation">]</span><span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// set to nil by the first cancel call</span>
	err      <span class="token builtin">error</span>                 <span class="token comment">// set to non-nil by the first cancel call</span>
	cause    <span class="token builtin">error</span>                 <span class="token comment">// set to non-nil by the first cancel call</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å…¶ä¸­ï¼š</p>
<ul>
<li><code>Context</code>æ˜¯æ¥å£ï¼Œç”¨äºå­˜å‚¨çˆ¶Contextã€‚</li>
<li><code>mu</code>æ˜¯äº’æ–¥é”ï¼Œç”¨äºä¿æŠ¤<code>done</code>ã€<code>children</code>ã€<code>err</code>å’Œ<code>cause</code>å­—æ®µã€‚</li>
<li><code>done</code>æ˜¯ä¸€ä¸ªåŸå­å€¼ï¼Œç”¨äºä¿å­˜ä¸€ä¸ª<code>chan struct{}</code>ç±»å‹çš„å€¼ï¼Œè¯¥å€¼åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨<code>cancel()</code>æ–¹æ³•æ—¶è¢«åˆ›å»ºï¼Œå¹¶åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨<code>cancel()</code>æ–¹æ³•åè¢«å…³é—­ã€‚</li>
<li><code>children</code>æ˜¯ä¸€ä¸ªmapï¼Œç”¨äºä¿å­˜å­Contextï¼Œå­Contextåœ¨è°ƒç”¨<code>cancel()</code>æ–¹æ³•æ—¶ä¼šè¢«ç§»é™¤ã€‚</li>
<li><code>err</code>å’Œ<code>cause</code>æ˜¯é”™è¯¯ä¿¡æ¯ï¼Œ<code>err</code>æ˜¯å–æ¶ˆçš„åŸå› ï¼Œ<code>cause</code>æ˜¯å–æ¶ˆçš„æºå¤´ã€‚</li>
</ul>
<p><code>cancelCtx</code>å®ç°<code>canceler</code>çš„æ¥å£</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>cancelCtx<span class="token punctuation">)</span> <span class="token function">cancel</span><span class="token punctuation">(</span>removeFromParent <span class="token builtin">bool</span><span class="token punctuation">,</span> err<span class="token punctuation">,</span> cause <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> err <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">"context: internal error: missing cancel error"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> cause <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		cause <span class="token operator">=</span> err
	<span class="token punctuation">}</span>
	c<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> c<span class="token punctuation">.</span>err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		c<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span> <span class="token comment">// already canceled</span>
	<span class="token punctuation">}</span>
	c<span class="token punctuation">.</span>err <span class="token operator">=</span> err
	c<span class="token punctuation">.</span>cause <span class="token operator">=</span> cause
	d<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> c<span class="token punctuation">.</span>done<span class="token punctuation">.</span><span class="token function">Load</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> d <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		c<span class="token punctuation">.</span>done<span class="token punctuation">.</span><span class="token function">Store</span><span class="token punctuation">(</span>closedchan<span class="token punctuation">)</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		<span class="token function">close</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
    <span class="token comment">//éå†æ‰€æœ‰çš„å­Contextï¼Œè¿›è¡Œå–æ¶ˆ</span>
	<span class="token keyword">for</span> child <span class="token operator">:=</span> <span class="token keyword">range</span> c<span class="token punctuation">.</span>children <span class="token punctuation">{</span>
		<span class="token comment">// NOTE: acquiring the child's lock while holding parent's lock.</span>
		child<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> err<span class="token punctuation">,</span> cause<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	c<span class="token punctuation">.</span>children <span class="token operator">=</span> <span class="token boolean">nil</span>
	c<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

	<span class="token keyword">if</span> removeFromParent <span class="token punctuation">{</span>
		<span class="token function">removeChild</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>Context<span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token comment">//ä»çˆ¶èŠ‚ç‚¹ç§»é™¤å­èŠ‚ç‚¹</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>cancelCtx<span class="token punctuation">)</span> <span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;-</span><span class="token keyword">chan</span> <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">{</span>
	d <span class="token operator">:=</span> c<span class="token punctuation">.</span>done<span class="token punctuation">.</span><span class="token function">Load</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> d <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> d<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	c<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">defer</span> c<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	d <span class="token operator">=</span> c<span class="token punctuation">.</span>done<span class="token punctuation">.</span><span class="token function">Load</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//äºŒæ¬¡æ£€æŸ¥</span>
	<span class="token keyword">if</span> d <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		d <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
		c<span class="token punctuation">.</span>done<span class="token punctuation">.</span><span class="token function">Store</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> d<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å½“æˆ‘ä»¬è°ƒç”¨<code>WithCancel()</code>,å®é™…ä¸Šå°±ä¼šåˆ›å»ºä¸€ä¸ª<code>cancelCtx</code>ç±»å‹çš„Contextã€‚</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">WithCancel</span><span class="token punctuation">(</span>parent Context<span class="token punctuation">)</span> <span class="token punctuation">(</span>ctx Context<span class="token punctuation">,</span> cancel CancelFunc<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	c <span class="token operator">:=</span> <span class="token function">withCancel</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
	<span class="token keyword">return</span> c<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> c<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> Canceled<span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">withCancel</span><span class="token punctuation">(</span>parent Context<span class="token punctuation">)</span> <span class="token operator">*</span>cancelCtx <span class="token punctuation">{</span>
	<span class="token keyword">if</span> parent <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">"cannot create context from nil parent"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	c <span class="token operator">:=</span> <span class="token operator">&amp;</span>cancelCtx<span class="token punctuation">{</span><span class="token punctuation">}</span>
	c<span class="token punctuation">.</span><span class="token function">propagateCancel</span><span class="token punctuation">(</span>parent<span class="token punctuation">,</span> c<span class="token punctuation">)</span>
	<span class="token keyword">return</span> c
<span class="token punctuation">}</span>
</code></pre></div><p>å…¶ä¸­ï¼Œæœ€ä¸ºæ ¸å¿ƒçš„æ˜¯<code>c.propagateCancel(parent, c)</code>ï¼Œå®ƒå°†çˆ¶å­Contextå…³è”èµ·æ¥ã€‚</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>cancelCtx<span class="token punctuation">)</span> <span class="token function">propagateCancel</span><span class="token punctuation">(</span>parent Context<span class="token punctuation">,</span> child canceler<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	c<span class="token punctuation">.</span>Context <span class="token operator">=</span> parent  <span class="token comment">//è®°å½•çˆ¶å®ä¾‹</span>

	done <span class="token operator">:=</span> parent<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> done <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token comment">// parent is never canceled</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">select</span> <span class="token punctuation">{</span>
	<span class="token keyword">case</span> <span class="token operator">&lt;-</span>done<span class="token punctuation">:</span>
		<span class="token comment">// parent is already canceled</span>
		child<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> parent<span class="token punctuation">.</span><span class="token function">Err</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Cause</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span>
	<span class="token keyword">default</span><span class="token punctuation">:</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">if</span> p<span class="token punctuation">,</span> ok <span class="token operator">:=</span> <span class="token function">parentCancelCtx</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span> ok <span class="token punctuation">{</span> <span class="token comment">//å¦‚æœçˆ¶èŠ‚ç‚¹æ˜¯å¯å–æ¶ˆçš„Context</span>
		<span class="token comment">// parent is a *cancelCtx, or derives from one.</span>
		p<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token keyword">if</span> p<span class="token punctuation">.</span>err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
			<span class="token comment">// parent has already been canceled</span>
			child<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> p<span class="token punctuation">.</span>err<span class="token punctuation">,</span> p<span class="token punctuation">.</span>cause<span class="token punctuation">)</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> p<span class="token punctuation">.</span>children <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
				p<span class="token punctuation">.</span>children <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span>canceler<span class="token punctuation">]</span><span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
			p<span class="token punctuation">.</span>children<span class="token punctuation">[</span>child<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token punctuation">}</span>   <span class="token comment">//å°†å½“å‰cancelCtxæ·»åŠ åˆ°çˆ¶èŠ‚ç‚¹çš„childrenä¸­</span>
		<span class="token punctuation">}</span>
		p<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">if</span> a<span class="token punctuation">,</span> ok <span class="token operator">:=</span> parent<span class="token punctuation">.</span><span class="token punctuation">(</span>afterFuncer<span class="token punctuation">)</span><span class="token punctuation">;</span> ok <span class="token punctuation">{</span>
		<span class="token comment">// parent implements an AfterFunc method.</span>
		c<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		stop <span class="token operator">:=</span> a<span class="token punctuation">.</span><span class="token function">AfterFunc</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			child<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> parent<span class="token punctuation">.</span><span class="token function">Err</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Cause</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
		c<span class="token punctuation">.</span>Context <span class="token operator">=</span> stopCtx<span class="token punctuation">{</span>
			Context<span class="token punctuation">:</span> parent<span class="token punctuation">,</span>
			stop<span class="token punctuation">:</span>    stop<span class="token punctuation">,</span>
		<span class="token punctuation">}</span>
		c<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>

	goroutines<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">select</span> <span class="token punctuation">{</span>
		<span class="token keyword">case</span> <span class="token operator">&lt;-</span>parent<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
			child<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> parent<span class="token punctuation">.</span><span class="token function">Err</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Cause</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">//å¯åŠ¨ä¸€ä¸ªåç¨‹ï¼Œç­‰å¾…çˆ¶èŠ‚ç‚¹å–æ¶ˆã€‚ä¸€æ—¦çˆ¶èŠ‚ç‚¹å–æ¶ˆï¼Œåˆ™å°†å­èŠ‚ç‚¹ä¹Ÿå–æ¶ˆ</span>
		<span class="token keyword">case</span> <span class="token operator">&lt;-</span>child<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2>æœ‰è¶…æ—¶æ—¶é—´çš„Context</h2>
<blockquote>
<p>Goè¯­è¨€æä¾›äº†<code>WithDeadline()</code>å’Œ<code>WithDeadlineCause()</code>å‡½æ•°ç”¨äºåˆ›å»ºä¸€ä¸ªå¸¦è¶…æ—¶æ—¶é—´çš„Contextã€‚æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹è¿™ä¸ªå¸¦è¶…æ—¶æ—¶é—´çš„Contextçš„å®šä¹‰ï¼š</p>
</blockquote>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">type</span> timerCtx <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	cancelCtx
	timer <span class="token operator">*</span>time<span class="token punctuation">.</span>Timer
	deadline time<span class="token punctuation">.</span>Time
<span class="token punctuation">}</span>
</code></pre></div><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°<code>timerCtx</code>ç»§æ‰¿äº†<code>cancelCtx</code>ï¼Œå…·æœ‰å¯å–æ¶ˆåŠŸèƒ½ï¼ŒåŒæ—¶ä¸ºäº†å®ç°è¶…æ—¶æ§åˆ¶ï¼Œå¢åŠ äº†timerå’Œdeadlineå­—æ®µã€‚</p>
<p><code>timerCtx</code>é‡å†™äº†Deadline()å‡½æ•°ï¼Œå¦‚ä¸‹ï¼š</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>timerCtx<span class="token punctuation">)</span> <span class="token function">Deadline</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>deadline time<span class="token punctuation">.</span>Time<span class="token punctuation">,</span> ok <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> c<span class="token punctuation">.</span>deadline<span class="token punctuation">,</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ­¤å¤–ï¼Œ<code>timerCtx</code>è¿˜é‡å†™äº†<code>cancel()</code>å‡½æ•°ï¼Œå¦‚ä¸‹ï¼š</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>timerCtx<span class="token punctuation">)</span> <span class="token function">cancel</span><span class="token punctuation">(</span>removeFromParent <span class="token builtin">bool</span><span class="token punctuation">,</span> err<span class="token punctuation">,</span> cause <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	c<span class="token punctuation">.</span>cancelCtx<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> err<span class="token punctuation">,</span> cause<span class="token punctuation">)</span>
	<span class="token keyword">if</span> removeFromParent <span class="token punctuation">{</span>
		<span class="token comment">// Remove this timerCtx from its parent cancelCtx's children.</span>
		<span class="token function">removeChild</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>cancelCtx<span class="token punctuation">.</span>Context<span class="token punctuation">,</span> c<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	c<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> c<span class="token punctuation">.</span>timer <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		c<span class="token punctuation">.</span>timer<span class="token punctuation">.</span><span class="token function">Stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		c<span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token boolean">nil</span>
	<span class="token punctuation">}</span>
	c<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æˆ‘ä»¬é€šè¿‡<code>WithDeadline</code>å’Œ<code>WithDeadlineCause</code>å‡½æ•°åˆ›å»ºä¸€ä¸ªtimerCtxç±»å‹çš„Contextã€‚</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">WithDeadline</span><span class="token punctuation">(</span>parent Context<span class="token punctuation">,</span> d time<span class="token punctuation">.</span>Time<span class="token punctuation">)</span> <span class="token punctuation">(</span>Context<span class="token punctuation">,</span> CancelFunc<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token function">WithDeadlineCause</span><span class="token punctuation">(</span>parent<span class="token punctuation">,</span> d<span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">WithDeadlineCause</span><span class="token punctuation">(</span>parent Context<span class="token punctuation">,</span> d time<span class="token punctuation">.</span>Time<span class="token punctuation">,</span> cause <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>Context<span class="token punctuation">,</span> CancelFunc<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> parent <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">"cannot create context from nil parent"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> cur<span class="token punctuation">,</span> ok <span class="token operator">:=</span> parent<span class="token punctuation">.</span><span class="token function">Deadline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> ok <span class="token operator">&amp;&amp;</span> cur<span class="token punctuation">.</span><span class="token function">Before</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token comment">//å¦‚æœçˆ¶Contextå·²ç»è®¾ç½®äº†è¶…æ—¶æ—¶é—´ï¼Œå¹¶ä¸”å½“å‰è¶…æ—¶æ—¶é—´æ—©äºæ–°çš„è¶…æ—¶æ—¶é—´ï¼Œåˆ™ç›´æ¥è¿”å›ä¸€ä¸ªå–æ¶ˆçš„Context</span>
		<span class="token comment">// The current deadline is already sooner than the new one.</span>
		<span class="token keyword">return</span> <span class="token function">WithCancel</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	c <span class="token operator">:=</span> <span class="token operator">&amp;</span>timerCtx<span class="token punctuation">{</span>
		deadline<span class="token punctuation">:</span> d<span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
	c<span class="token punctuation">.</span>cancelCtx<span class="token punctuation">.</span><span class="token function">propagateCancel</span><span class="token punctuation">(</span>parent<span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token comment">//å°†çˆ¶å­Contextå…³è”èµ·æ¥</span>
	dur <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">Until</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>
	<span class="token keyword">if</span> dur <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token punctuation">{</span> 
		c<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> DeadlineExceeded<span class="token punctuation">,</span> cause<span class="token punctuation">)</span> <span class="token comment">// deadline has already passed</span>
		<span class="token keyword">return</span> c<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> c<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> Canceled<span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	c<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">defer</span> c<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> c<span class="token punctuation">.</span>err <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		c<span class="token punctuation">.</span>timer <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">AfterFunc</span><span class="token punctuation">(</span>dur<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">//ä½¿ç”¨time.AfterFuncåˆ›å»ºä¸€ä¸ªå®šæ—¶å™¨ï¼Œåœ¨å®šæ—¶å™¨è¶…æ—¶åè°ƒç”¨c.cancel()å‡½æ•°å–æ¶ˆContextã€‚</span>
			c<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> DeadlineExceeded<span class="token punctuation">,</span> cause<span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> c<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> c<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> Canceled<span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°timerCtxé›†æˆäº†cancelCtxï¼Œå¹¶å®ç°äº†è¶…æ—¶æ§åˆ¶é€»è¾‘ã€‚</p>
<h2>å–æ¶ˆå›è°ƒçš„Context</h2>
<p>Goè¯­è¨€æä¾›<code>AfterFunc</code>å‡½æ•°ï¼Œç”¨äºåœ¨Contextå–æ¶ˆåæ‰§è¡Œå›è°ƒå‡½æ•°ã€‚å…¶æœ¬è´¨ä¸Šåˆ›å»ºäº†ä¸€ä¸ª<code>afterFuncCtx</code>ï¼Œå®ƒçš„å®šä¹‰å¦‚ä¸‹ï¼š</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">type</span> afterFuncCtx <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	cancelCtx
	once sync<span class="token punctuation">.</span>Once <span class="token comment">// either starts running f or stops f from running</span>
	f    <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å…¶ä¸­ï¼š</p>
<ul>
<li><code>once</code>æ˜¯ä¸€ä¸ªsync.Onceç±»å‹çš„å˜é‡ï¼Œç”¨äºç¡®ä¿å›è°ƒå‡½æ•°åªæ‰§è¡Œä¸€æ¬¡ã€‚</li>
<li><code>f</code>æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œç”¨äºåœ¨Contextå–æ¶ˆåæ‰§è¡Œã€‚</li>
</ul>
<p>æˆ‘ä»¬çœ‹åˆ°afterFuncCtxç»§æ‰¿äº†cancelCtxï¼Œé‚£ä¹ˆå®ƒæ˜¯å¦‚ä½•å®ç°å–æ¶ˆæ—¶å›è°ƒåŠŸèƒ½å‘¢ï¼Ÿ</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>a <span class="token operator">*</span>afterFuncCtx<span class="token punctuation">)</span> <span class="token function">cancel</span><span class="token punctuation">(</span>removeFromParent <span class="token builtin">bool</span><span class="token punctuation">,</span> err<span class="token punctuation">,</span> cause <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	a<span class="token punctuation">.</span>cancelCtx<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> err<span class="token punctuation">,</span> cause<span class="token punctuation">)</span>
	<span class="token keyword">if</span> removeFromParent <span class="token punctuation">{</span>
		<span class="token function">removeChild</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>Context<span class="token punctuation">,</span> a<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	a<span class="token punctuation">.</span>once<span class="token punctuation">.</span><span class="token function">Do</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">go</span> a<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°<code>afterFuncCtx</code>é‡å†™äº†cancelå‡½æ•°ï¼Œå½“Contextå–æ¶ˆæ—¶ï¼Œä¼šæ‰§è¡Œå›è°ƒå‡½æ•°ã€‚once.Do()æ–¹æ³•ç¡®ä¿å›è°ƒå‡½æ•°åªæ‰§è¡Œä¸€æ¬¡ã€‚</p>
<p>é‚£ä¹ˆ<code>afterFuncCtx</code>æ˜¯æ€ä¹ˆåˆ›å»ºçš„å‘¢ï¼Ÿ</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">AfterFunc</span><span class="token punctuation">(</span>ctx Context<span class="token punctuation">,</span> f <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>stop <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	a <span class="token operator">:=</span> <span class="token operator">&amp;</span>afterFuncCtx<span class="token punctuation">{</span>
		f<span class="token punctuation">:</span> f<span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
	a<span class="token punctuation">.</span>cancelCtx<span class="token punctuation">.</span><span class="token function">propagateCancel</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> a<span class="token punctuation">)</span>  <span class="token comment">//å…³è”çˆ¶å­Context</span>
	<span class="token keyword">return</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span>
		stopped <span class="token operator">:=</span> <span class="token boolean">false</span>
		a<span class="token punctuation">.</span>once<span class="token punctuation">.</span><span class="token function">Do</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			stopped <span class="token operator">=</span> <span class="token boolean">true</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token keyword">if</span> stopped <span class="token punctuation">{</span>
			a<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> Canceled<span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> stopped
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="hint-container warning">
<p class="hint-container-title">æ³¨æ„</p>
<p>è¿™é‡Œæ³¨æ„è¿”å›stopå‡½æ•°ã€‚å¦‚æœåœ¨æ²¡æœ‰ç»“æŸå‰æ‰§è¡Œäº†stopå‡½æ•°ï¼Œå°†å¯¼è‡´onceå‡½æ•°æ‰§è¡Œï¼Œè¿™æ ·å›è°ƒå‡½æ•°å°†ä¸ä¼šæ‰§è¡Œã€‚</p>
</div>
<h2>å®Œæ•´çš„UML</h2>
<figure><figcaption>context</figcaption></figure>
<p>Goè¯­è¨€æä¾›äº†ä¸°å¯Œçš„Contextï¼Œç”¨äºè¶…æ—¶æ§åˆ¶ã€å–æ¶ˆæ§åˆ¶ã€ä¼ é€’æ•°æ®ç­‰ã€‚</p>
<p>å…¶æ ¸å¿ƒæ˜¯<code>cancelCtx</code>ç±»å‹ï¼Œ<code>timerCtx</code>å’Œ<code>afterFuncCtx</code>ç±»å‹éƒ½ç»§æ‰¿äº†<code>cancelCtx</code>ã€‚åˆ†åˆ«é‡å†™äº†ç›¸åº”çš„æ–¹æ³•ï¼Œå®ç°äº†è¶…æ—¶æ§åˆ¶å’Œå–æ¶ˆå›è°ƒåŠŸèƒ½ã€‚</p>
<p>æ­¤å¤–éœ€è¦å…³æ³¨Contextå¦‚ä½•å°†çˆ¶å­å…³è”èµ·æ¥ã€‚</p>
]]></content>
    <category term="ç¼–ç¨‹è¯­è¨€"/>
    <published>2024-08-28T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">Contextä½¿ç”¨æ–¹æ³•ä¸åœºæ™¯</title>
    <id>http://blog.cjhe.top/language/go/base/context.html</id>
    <link href="http://blog.cjhe.top/language/go/base/context.html"/>
    <updated>2024-08-22T13:12:02.000Z</updated>
    <summary type="html"><![CDATA[<blockquote>
<p>Goè¯­è¨€æä¾›Contextä¸Šä¸‹æ–‡ï¼Œå¸¸å¸¸ç”¨äºè¶…æ—¶æ§åˆ¶ã€å–æ¶ˆæ§åˆ¶ã€ä¼ é€’æ•°æ®ç­‰ï¼Œæœ¬æ–‡ä»‹ç»å®ƒçš„ä½¿ç”¨æ–¹æ³•ä»¥åŠåœºæ™¯</p>
</blockquote>
]]></summary>
    <content type="html"><![CDATA[<blockquote>
<p>Goè¯­è¨€æä¾›Contextä¸Šä¸‹æ–‡ï¼Œå¸¸å¸¸ç”¨äºè¶…æ—¶æ§åˆ¶ã€å–æ¶ˆæ§åˆ¶ã€ä¼ é€’æ•°æ®ç­‰ï¼Œæœ¬æ–‡ä»‹ç»å®ƒçš„ä½¿ç”¨æ–¹æ³•ä»¥åŠåœºæ™¯</p>
</blockquote>
<!-- more -->
<h2>Context ä½¿ç”¨æ–¹æ³•</h2>
<p>Go è¯­è¨€å®˜æ–¹æ¨èContextä½œä¸ºå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œè€ŒéåµŒå…¥åœ¨ç»“æ„ä½“ä¸­ã€‚ä¾‹å¦‚ï¼š</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">DoSomething</span><span class="token punctuation">(</span>ctx context<span class="token punctuation">.</span>Context<span class="token punctuation">,</span> arg Arg<span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
	<span class="token comment">// ... use ctx ...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Goè¯­è¨€æä¾›ä»¥ä¸‹å¸¸ç”¨å‡½æ•°ç”¨äºåˆ›å»ºContextï¼š</p>
<ul>
<li>context.Background()ï¼šè¿”å›ä¸€ä¸ªç©ºçš„Contextï¼Œé€šå¸¸ç”¨äºæ•´ä¸ªContextæ ‘çš„æ ¹èŠ‚ç‚¹ã€‚</li>
<li>context.TODO()ï¼šè¿”å›ä¸€ä¸ªç©ºçš„Contextï¼Œä¸€èˆ¬æˆ‘ä»¬ä¸ä½¿ç”¨ï¼Œå¦‚æœä½ ä¸çŸ¥é“ç”¨ä»€ä¹ˆçš„æ—¶å€™å¯ä»¥ä½¿ç”¨å®ƒã€‚</li>
<li>context.WithCancel(parent Context) (ctx Context, cancel CancelFunc)ï¼šè¿”å›ä¸€ä¸ªå¯å–æ¶ˆçš„Contextï¼ŒåŒæ—¶è¿”å›ä¸€ä¸ªå–æ¶ˆå‡½æ•°ç”¨äºå–æ¶ˆContextã€‚</li>
<li>context.WithoutCancel(parent Context) Context: è¿”å›ä¸€ä¸ªä¸å–æ¶ˆçš„Contextã€‚</li>
<li>context.WithDeadline(parent Context, deadline time.Time) (Context, CancelFunc)ï¼šè¿”å›ä¸€ä¸ªå¯å–æ¶ˆå¹¶ä¸”å¸¦è¶…æ—¶æ—¶é—´çš„Contextï¼ŒåŒæ—¶è¿”å›ä¸€ä¸ªå–æ¶ˆå‡½æ•°ç”¨äºå–æ¶ˆContextã€‚</li>
<li>context.WithDeadlineCause(parent Context, d time.Time, cause error) (Context, CancelFunc)ï¼šè¿”å›ä¸€ä¸ªå¯å–æ¶ˆå¹¶ä¸”å¸¦è¶…æ—¶æ—¶é—´å’Œé”™è¯¯åŸå› çš„Contextï¼ŒåŒæ—¶è¿”å›ä¸€ä¸ªå–æ¶ˆå‡½æ•°ç”¨äºå–æ¶ˆContextã€‚</li>
<li>context.WithTimeout(parent Context, timeout time.Duration) (Context, CancelFunc)ï¼šè¿”å›ä¸€ä¸ªå¯å–æ¶ˆå¹¶ä¸”å¸¦è¶…æ—¶æ—¶é—´çš„Contextï¼ŒåŒæ—¶è¿”å›ä¸€ä¸ªå–æ¶ˆå‡½æ•°ç”¨äºå–æ¶ˆContextã€‚</li>
<li>context.WithTimeoutCause(parent Context, timeout time.Duration, cause error) (Context, CancelFunc)ï¼šè¿”å›ä¸€ä¸ªå¯å–æ¶ˆå¹¶ä¸”å¸¦è¶…æ—¶æ—¶é—´å’Œé”™è¯¯åŸå› çš„Contextï¼ŒåŒæ—¶è¿”å›ä¸€ä¸ªå–æ¶ˆå‡½æ•°ç”¨äºå–æ¶ˆContextã€‚</li>
<li>context.WithValue(parent Context, key, val any) Contextï¼šè¿”å›ä¸€ä¸ªæºå¸¦äº†é”®å€¼å¯¹çš„Contextï¼Œç”¨äºä¼ é€’æ•°æ®ã€‚</li>
</ul>
<h2>Context ä½¿ç”¨åœºæ™¯</h2>
<h3>è¶…æ—¶æ§åˆ¶</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">ExampleContextTimeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	ctx<span class="token punctuation">,</span> cancel <span class="token operator">:=</span> context<span class="token punctuation">.</span><span class="token function">WithTimeout</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">Background</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">*</span>time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>
	<span class="token keyword">defer</span> <span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">for</span> <span class="token punctuation">{</span>
		<span class="token keyword">select</span> <span class="token punctuation">{</span>
		<span class="token keyword">case</span> <span class="token operator">&lt;-</span>ctx<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
			fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"timeout"</span><span class="token punctuation">)</span>
			<span class="token keyword">return</span>
		<span class="token keyword">case</span> <span class="token operator">&lt;-</span>time<span class="token punctuation">.</span><span class="token function">After</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span><span class="token punctuation">:</span>
			fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"3s done"</span><span class="token punctuation">)</span>
			<span class="token keyword">return</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// Output:</span>
	<span class="token comment">// timeout</span>
<span class="token punctuation">}</span>
</code></pre></div><p>é€šè¿‡è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œå°±å¯ä»¥ä¿è¯ä¸‹æ¸¸çš„ä¸šåŠ¡å¯ä»¥æ§åˆ¶åœ¨è§„å®šçš„æ—¶é—´å¤„ç†ã€‚å¸¸ç”¨åœ¨APIæ¥å£è¯·æ±‚ä¸­ã€GRPCè°ƒç”¨ã€æ•°æ®åº“æ“ä½œç­‰ç­‰ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªHTTPè¯·æ±‚ç¤ºä¾‹:</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"context"</span>
	<span class="token string">"fmt"</span>
	<span class="token string">"net/http"</span>
	<span class="token string">"time"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	req<span class="token punctuation">,</span> err <span class="token operator">:=</span> http<span class="token punctuation">.</span><span class="token function">NewRequest</span><span class="token punctuation">(</span><span class="token string">"GET"</span><span class="token punctuation">,</span> <span class="token string">"https://www.baidu.com"</span><span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"http.NewRequest err: %+v"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>

	ctx<span class="token punctuation">,</span> cancel <span class="token operator">:=</span> context<span class="token punctuation">.</span><span class="token function">WithTimeout</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span><span class="token function">Context</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token operator">*</span>time<span class="token punctuation">.</span>Millisecond<span class="token punctuation">)</span>
	<span class="token keyword">defer</span> <span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

	req <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">WithContext</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span>
	resp<span class="token punctuation">,</span> err <span class="token operator">:=</span> http<span class="token punctuation">.</span>DefaultClient<span class="token punctuation">.</span><span class="token function">Do</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"http.DefaultClient.Do err: %+v"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">defer</span> resp<span class="token punctuation">.</span>Body<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3>å–æ¶ˆæ§åˆ¶</h3>
<p>Goå¯ä»¥å®šä¹‰ä¸€ä¸ªå¯å–æ¶ˆçš„Contextï¼Œä¸»åŠ¨è°ƒç”¨cancelå‡½æ•°ï¼Œå°±å¯ä»¥å–æ¶ˆæ•´ä¸ªContextçš„ç”Ÿå‘½å‘¨æœŸã€‚ä¸€èˆ¬ç”¨åœ¨æ§åˆ¶å¤šä¸ªåç¨‹ä¸­çš„é€€å‡ºã€‚</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">ExampleContextCancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	ctx<span class="token punctuation">,</span> cancel <span class="token operator">:=</span> context<span class="token punctuation">.</span><span class="token function">WithCancel</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">Background</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span>ctx context<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">for</span> <span class="token punctuation">{</span>
			<span class="token keyword">select</span> <span class="token punctuation">{</span>
			<span class="token keyword">case</span> <span class="token operator">&lt;-</span>ctx<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
				fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"done"</span><span class="token punctuation">)</span>
				<span class="token keyword">return</span>
			<span class="token keyword">default</span><span class="token punctuation">:</span>
				fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"running"</span><span class="token punctuation">)</span>
				time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span>
	time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>
    <span class="token comment">// ä¸»åŠ¨å–æ¶ˆ</span>
	<span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>
	<span class="token comment">// Output:</span>
	<span class="token comment">// running</span>
	<span class="token comment">// running</span>
	<span class="token comment">// running</span>
	<span class="token comment">// done</span>
<span class="token punctuation">}</span>
</code></pre></div><h3>ä¼ é€’æ•°æ®</h3>
<p>Goçš„Contextå¯ä»¥ä¼ é€’æ•°æ®ï¼Œä»è€Œå®ç°æ•°æ®å…±äº«</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">ExampleContextValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	ctx <span class="token operator">:=</span> context<span class="token punctuation">.</span><span class="token function">WithValue</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">Background</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"key"</span><span class="token punctuation">,</span> <span class="token string">"value"</span><span class="token punctuation">)</span>
	<span class="token comment">// å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ª context.Context ç±»å‹çš„å‚æ•°</span>
	f <span class="token operator">:=</span> <span class="token keyword">func</span><span class="token punctuation">(</span>ctx context<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">Value</span><span class="token punctuation">(</span><span class="token string">"key"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token function">f</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span>
	<span class="token comment">// Output:</span>
	<span class="token comment">// value</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="hint-container tip">
<p class="hint-container-title">æç¤º</p>
<p>å»ºè®®å°†é€šç”¨çš„æ•°æ®æ”¾åœ¨contextä¸­ï¼Œä¾‹å¦‚ï¼štraceIdç­‰</p>
</div>
]]></content>
    <category term="ç¼–ç¨‹è¯­è¨€"/>
    <published>2024-08-21T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">é˜¿é‡Œå·´å·´MySQLå¼€å‘è§„èŒƒ</title>
    <id>http://blog.cjhe.top/database/mysql/develop-standard.html</id>
    <link href="http://blog.cjhe.top/database/mysql/develop-standard.html"/>
    <updated>2024-08-20T09:51:27.000Z</updated>
    <summary type="html"><![CDATA[<blockquote>
<p><a href="https://developer.aliyun.com/article/1573143" target="_blank" rel="noopener noreferrer">ã€è½¬è½½ã€‘é˜¿é‡Œå·´å·´MySQLå¼€å‘è§„èŒƒ</a></p>
</blockquote>
]]></summary>
    <content type="html"><![CDATA[<blockquote>
<p><a href="https://developer.aliyun.com/article/1573143" target="_blank" rel="noopener noreferrer">ã€è½¬è½½ã€‘é˜¿é‡Œå·´å·´MySQLå¼€å‘è§„èŒƒ</a></p>
</blockquote>
<!-- more -->
<h2>å»ºè¡¨è§„åˆ™</h2>
<ol>
<li>ã€å¼ºåˆ¶ã€‘è¡¨è¾¾<mark>æ˜¯</mark>ä¸<mark>å¦</mark>æ¦‚å¿µçš„å­—æ®µï¼Œå¿…é¡»ä½¿ç”¨ is_xxx çš„æ–¹å¼å‘½åï¼Œæ•°æ®ç±»å‹æ˜¯ unsigned tinyintï¼ˆ1 è¡¨ç¤ºæ˜¯ï¼Œ0 è¡¨ç¤ºå¦ï¼‰ã€‚</li>
</ol>
<div class="hint-container info">
<p class="hint-container-title">è¯´æ˜</p>
<p>ä»»ä½•å­—æ®µå¦‚æœä¸ºéè´Ÿæ•°ï¼Œå¿…é¡»æ˜¯ unsignedã€‚</p>
</div>
<div class="hint-container note">
<p class="hint-container-title">æ³¨</p>
<p>æ­£ä¾‹ï¼šè¡¨è¾¾é€»è¾‘åˆ é™¤çš„å­—æ®µå is_deletedï¼Œ1 è¡¨ç¤ºåˆ é™¤ï¼Œ0 è¡¨ç¤ºæœªåˆ é™¤ã€‚</p>
</div>
<ol start="2">
<li>ã€å¼ºåˆ¶ã€‘è¡¨åã€å­—æ®µåå¿…é¡»ä½¿ç”¨å°å†™å­—æ¯æˆ–æ•°å­—ï¼Œç¦æ­¢å‡ºç°æ•°å­—å¼€å¤´ï¼Œç¦æ­¢ä¸¤ä¸ªä¸‹åˆ’çº¿ä¸­é—´åªå‡ºç°æ•°å­—ã€‚æ•°æ®åº“å­—æ®µåçš„ä¿®æ”¹ä»£ä»·å¾ˆå¤§ï¼Œå› ä¸ºæ— æ³•è¿›è¡Œé¢„å‘å¸ƒï¼Œæ‰€ä»¥å­—æ®µåç§°éœ€è¦æ…é‡è€ƒè™‘ã€‚</li>
</ol>
<div class="hint-container info">
<p class="hint-container-title">è¯´æ˜</p>
<p>MySQL åœ¨ Windows ä¸‹ä¸åŒºåˆ†å¤§å°å†™ï¼Œä½†åœ¨ Linux ä¸‹é»˜è®¤æ˜¯åŒºåˆ†å¤§å°å†™ã€‚å› æ­¤ï¼Œæ•°æ®åº“åã€è¡¨åã€å­—æ®µåï¼Œéƒ½ä¸å…è®¸å‡ºç°ä»»ä½•å¤§å†™å­—æ¯ï¼Œé¿å…èŠ‚å¤–ç”Ÿæã€‚</p>
</div>
<div class="hint-container note">
<p class="hint-container-title">æ³¨</p>
<ul>
<li>æ­£ä¾‹ï¼šaliyun_adminï¼Œrdc_configï¼Œlevel3_name</li>
<li>åä¾‹ï¼šAliyunAdminï¼ŒrdcConfigï¼Œlevel_3_name</li>
</ul>
</div>
<ol start="3">
<li>ã€å¼ºåˆ¶ã€‘è¡¨åä¸ä½¿ç”¨å¤æ•°åè¯ã€‚</li>
</ol>
<div class="hint-container info">
<p class="hint-container-title">è¯´æ˜</p>
<p>è¡¨ååº”è¯¥ä»…ä»…è¡¨ç¤ºè¡¨é‡Œé¢çš„å®ä½“å†…å®¹ï¼Œä¸åº”è¯¥è¡¨ç¤ºå®ä½“æ•°é‡ï¼Œå¯¹åº”äº DO ç±»åä¹Ÿæ˜¯å•æ•°å½¢å¼ï¼Œç¬¦åˆè¡¨è¾¾ä¹ æƒ¯ã€‚</p>
</div>
<ol start="4">
<li>
<p>ã€å¼ºåˆ¶ã€‘ç¦ç”¨ä¿ç•™å­—ï¼Œå¦‚ descã€rangeã€matchã€delayed ç­‰ï¼Œè¯·å‚è€ƒ MySQL å®˜æ–¹ä¿ç•™å­—ã€‚</p>
</li>
<li>
<p>ã€å¼ºåˆ¶ã€‘ä¸»é”®ç´¢å¼•åä¸º pk_å­—æ®µåï¼›å”¯ä¸€ç´¢å¼•åä¸º uk_å­—æ®µåï¼›æ™®é€šç´¢å¼•ååˆ™ä¸º idx_å­—æ®µåã€‚</p>
</li>
</ol>
<blockquote>
<p>pk_ å³ primary keyï¼›uk_ å³ unique keyï¼›idx_ å³ index çš„ç®€ç§°ã€‚</p>
</blockquote>
<ol start="6">
<li>ã€å¼ºåˆ¶ã€‘å°æ•°ç±»å‹ä¸º decimalï¼Œç¦æ­¢ä½¿ç”¨ float å’Œ doubleã€‚</li>
</ol>
<div class="hint-container info">
<p class="hint-container-title">è¯´æ˜</p>
<p>åœ¨å­˜å‚¨çš„æ—¶å€™ï¼Œfloat å’Œ double éƒ½å­˜åœ¨ç²¾åº¦æŸå¤±çš„é—®é¢˜ï¼Œå¾ˆå¯èƒ½åœ¨æ¯”è¾ƒå€¼çš„æ—¶å€™ï¼Œå¾—åˆ°ä¸æ­£ç¡®çš„ç»“æœã€‚å¦‚æœå­˜å‚¨çš„æ•°æ®èŒƒå›´è¶…è¿‡decimal çš„èŒƒå›´ï¼Œå»ºè®®å°†æ•°æ®æ‹†æˆæ•´æ•°å’Œå°æ•°å¹¶åˆ†å¼€å­˜å‚¨ã€‚</p>
</div>
<ol start="7">
<li>
<p>ã€å¼ºåˆ¶ã€‘å¦‚æœå­˜å‚¨çš„å­—ç¬¦ä¸²é•¿åº¦å‡ ä¹ç›¸ç­‰ï¼Œä½¿ç”¨ char å®šé•¿å­—ç¬¦ä¸²ç±»å‹ã€‚</p>
</li>
<li>
<p>ã€å¼ºåˆ¶ã€‘varchar æ˜¯å¯å˜é•¿å­—ç¬¦ä¸²ï¼Œä¸é¢„å…ˆåˆ†é…å­˜å‚¨ç©ºé—´ï¼Œé•¿åº¦ä¸è¦è¶…è¿‡ 5000ï¼Œå¦‚æœå­˜å‚¨é•¿åº¦å¤§äºæ­¤å€¼ï¼Œå®šä¹‰å­—æ®µç±»å‹ä¸º textï¼Œç‹¬ç«‹å‡ºæ¥ä¸€å¼ è¡¨ï¼Œç”¨ä¸»é”®æ¥å¯¹åº”ï¼Œé¿å…å½±å“å…¶å®ƒå­—æ®µç´¢å¼•æ•ˆç‡ã€‚</p>
</li>
<li>
<p>ã€å¼ºåˆ¶ã€‘è¡¨å¿…å¤‡ä¸‰å­—æ®µï¼šid, gmt_create, gmt_modifiedã€‚</p>
</li>
</ol>
<div class="hint-container info">
<p class="hint-container-title">è¯´æ˜</p>
<p>å…¶ä¸­: id å¿…ä¸ºä¸»é”®ï¼Œç±»å‹ä¸º bigint unsignedã€å•è¡¨æ—¶è‡ªå¢ã€æ­¥é•¿ä¸º 1ã€‚gmt_create, gmt_modifiedçš„ç±»å‹å‡ä¸º datetime ç±»å‹ï¼Œå‰è€…ç°åœ¨æ—¶è¡¨ç¤ºä¸»åŠ¨å¼åˆ›å»ºï¼Œåè€…è¿‡å»åˆ†è¯è¡¨ç¤ºè¢«åŠ¨å¼æ›´æ–°ã€‚</p>
</div>
<ol start="10">
<li>ã€æ¨èã€‘è¡¨çš„å‘½åæœ€å¥½æ˜¯éµå¾ªâ€œä¸šåŠ¡åç§°_è¡¨çš„ä½œç”¨â€ã€‚</li>
</ol>
<div class="hint-container note">
<p class="hint-container-title">æ­£ä¾‹</p>
<p>alipay_task / force_project / trade_config</p>
</div>
<ol start="11">
<li>
<p>ã€æ¨èã€‘åº“åä¸åº”ç”¨åç§°å°½é‡ä¸€è‡´ã€‚</p>
</li>
<li>
<p>ã€æ¨èã€‘å¦‚æœä¿®æ”¹å­—æ®µå«ä¹‰æˆ–å¯¹å­—æ®µè¡¨ç¤ºçš„çŠ¶æ€è¿½åŠ æ—¶ï¼Œéœ€è¦åŠæ—¶æ›´æ–°å­—æ®µæ³¨é‡Šã€‚</p>
</li>
<li>
<p>ã€æ¨èã€‘å­—æ®µå…è®¸é€‚å½“å†—ä½™ï¼Œä»¥æé«˜æŸ¥è¯¢æ€§èƒ½ï¼Œä½†å¿…é¡»è€ƒè™‘æ•°æ®ä¸€è‡´ã€‚å†—ä½™å­—æ®µåº”éµå¾ªï¼š</p>
</li>
</ol>
<div class="hint-container info">
<p class="hint-container-title">è¯´æ˜</p>
<ul>
<li>1ï¼‰ä¸æ˜¯é¢‘ç¹ä¿®æ”¹çš„å­—æ®µã€‚</li>
<li>2ï¼‰ä¸æ˜¯å”¯ä¸€ç´¢å¼•çš„å­—æ®µã€‚</li>
<li>3ï¼‰ä¸æ˜¯ varchar è¶…é•¿å­—æ®µï¼Œæ›´ä¸èƒ½æ˜¯ text å­—æ®µã€‚</li>
</ul>
</div>
<div class="hint-container note">
<p class="hint-container-title">æ³¨</p>
<p>æ­£ä¾‹ï¼šå„ä¸šåŠ¡çº¿ç»å¸¸å†—ä½™å­˜å‚¨å•†å“åç§°ï¼Œé¿å…æŸ¥è¯¢æ—¶éœ€è¦è°ƒç”¨ IC æœåŠ¡è·å–ã€‚</p>
</div>
<ol start="14">
<li>ã€æ¨èã€‘å•è¡¨è¡Œæ•°è¶…è¿‡ 500 ä¸‡è¡Œæˆ–è€…å•è¡¨å®¹é‡è¶…è¿‡ 2GBï¼Œæ‰æ¨èè¿›è¡Œåˆ†åº“åˆ†è¡¨ã€‚</li>
</ol>
<div class="hint-container info">
<p class="hint-container-title">è¯´æ˜</p>
<p>å¦‚æœé¢„è®¡ä¸‰å¹´åçš„æ•°æ®é‡æ ¹æœ¬è¾¾ä¸åˆ°è¿™ä¸ªçº§åˆ«ï¼Œè¯·ä¸è¦åœ¨åˆ›å»ºè¡¨æ—¶å°±åˆ†åº“åˆ†è¡¨ã€‚</p>
</div>
<ol start="15">
<li>ã€å‚è€ƒã€‘åˆé€‚çš„å­—ç¬¦å­˜å‚¨é•¿åº¦ï¼Œä¸ä½†èŠ‚çº¦æ•°æ®åº“è¡¨ç©ºé—´ã€èŠ‚çº¦ç´¢å¼•å­˜å‚¨ï¼Œæ›´é‡è¦çš„æ˜¯æå‡æ£€ç´¢é€Ÿåº¦ã€‚</li>
</ol>
<div class="hint-container note">
<p class="hint-container-title">æ³¨</p>
<p>æ­£ä¾‹ï¼šæ— ç¬¦å·å€¼å¯ä»¥é¿å…è¯¯å­˜è´Ÿæ•°ï¼Œä¸”æ‰©å¤§äº†è¡¨ç¤ºèŒƒå›´ã€‚</p>
</div>
<p>| ç±»å‹ | å­—èŠ‚ | è¡¨ç¤ºèŒƒå›´ |
|</p>
]]></content>
    <category term="æ•°æ®å­˜å‚¨"/>
    <published>2024-08-20T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">Dockerç¯å¢ƒgoå¦‚ä½•è®¾ç½®maxprocs</title>
    <id>http://blog.cjhe.top/language/go/advance/gomaxprocs.html</id>
    <link href="http://blog.cjhe.top/language/go/advance/gomaxprocs.html"/>
    <updated>2024-07-12T03:25:46.000Z</updated>
    <summary type="text">æç¤º
Goè¯­è¨€ä½¿ç”¨GMPè°ƒåº¦æ¨¡å‹ï¼Œå…¶ä¸­Pçš„æ•°é‡é€šè¿‡GOMAXPROXSè®¾ç½®ï¼Œé»˜è®¤æ˜¯æœºå™¨çš„CPUæ ¸æ•°ã€‚


æ³¨æ„
ä½†æ˜¯ç”±äºDockeré€šè¿‡Cgroupsåšèµ„æºé™åˆ¶ï¼Œå­˜åœ¨çš„è¯Ÿç—…ï¼šåº”ç”¨ç¨‹åºåœ¨å®¹å™¨é‡Œè¯»å–åˆ°çš„CPUæ ¸æ•°æ˜¯å®¿ä¸»æœºä¸Šçš„æ•°æ®è€Œéå®é™…å®¹å™¨åˆ†é…çš„æ•°æ®ã€‚


è­¦å‘Š
è€Œé€šå¸¸æˆ‘ä»¬åœ¨Kubernetesé›†ç¾¤ä½¿ç”¨çš„å®¿ä¸»æœºé€šå¸¸æ˜¯100+æ ¸ï¼Œå®¹å™¨åˆ†é…çš„èµ„æºæ˜¯2c4gï¼Œè¿™...</summary>
    <content type="html"><![CDATA[<!-- more -->
<div class="hint-container tip">
<p class="hint-container-title">æç¤º</p>
<p>Goè¯­è¨€ä½¿ç”¨GMPè°ƒåº¦æ¨¡å‹ï¼Œå…¶ä¸­Pçš„æ•°é‡é€šè¿‡<code>GOMAXPROXS</code>è®¾ç½®ï¼Œé»˜è®¤æ˜¯æœºå™¨çš„CPUæ ¸æ•°ã€‚</p>
</div>
<div class="hint-container warning">
<p class="hint-container-title">æ³¨æ„</p>
<p>ä½†æ˜¯ç”±äºDockeré€šè¿‡Cgroupsåšèµ„æºé™åˆ¶ï¼Œå­˜åœ¨çš„è¯Ÿç—…ï¼šåº”ç”¨ç¨‹åºåœ¨å®¹å™¨é‡Œè¯»å–åˆ°çš„CPUæ ¸æ•°æ˜¯å®¿ä¸»æœºä¸Šçš„æ•°æ®è€Œéå®é™…å®¹å™¨åˆ†é…çš„æ•°æ®ã€‚</p>
</div>
<div class="hint-container caution">
<p class="hint-container-title">è­¦å‘Š</p>
<p>è€Œé€šå¸¸æˆ‘ä»¬åœ¨Kubernetesé›†ç¾¤ä½¿ç”¨çš„å®¿ä¸»æœºé€šå¸¸æ˜¯100+æ ¸ï¼Œå®¹å™¨åˆ†é…çš„èµ„æºæ˜¯2c4gï¼Œè¿™å°±å¯¼è‡´Goè°ƒåº¦å™¨ä¼šæ ¹æ®å®¿ä¸»æœºçš„æ ¸æ•°è®¾ç½®Pçš„æ•°é‡ï¼Œè¿™ä¼šå› ä¸ºPæ•°é‡è¿‡å¤šå¯¼è‡´ä¸å¿…è¦çš„èµ„æºäº‰æŠ¢ï¼Œåè€Œé™ä½æ€§èƒ½ã€‚</p>
</div>
<h2>å®éªŒ</h2>
<p>ä¸ºæ­¤æˆ‘ä»¬å‡†å¤‡ä¸€ä¸ªç®€å•çš„Goç¨‹åºå’ŒDockerfileï¼Œè¿›è¡Œå®éªŒéªŒè¯ã€‚</p>
<p>Goç¨‹åºåªæ‰“å°å®¹å™¨çš„GOMAXPROCSï¼Œå…¶ä¸­<code>runtime.GOMAXPROCS(0)</code>ï¼Œå½“ä¼ å€¼ä¸º0æ—¶ï¼Œè¿”å›å½“å‰çš„GOMAXPROCSå€¼ã€‚</p>
<p>Dockerfileå†…å®¹å¦‚ä¸‹ï¼š</p>
<div class="language-docker" data-ext="docker" data-title="docker"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">FROM</span> golang:1.21-alpine <span class="token keyword">AS</span> builder</span>

<span class="token instruction"><span class="token keyword">ENV</span> GO111MODULE=on</span>
<span class="token instruction"><span class="token keyword">ENV</span> GOPROXY=https://goproxy.cn,direct</span>

<span class="token instruction"><span class="token keyword">WORKDIR</span> /backend</span>

<span class="token instruction"><span class="token keyword">COPY</span> . /backend</span>

<span class="token instruction"><span class="token keyword">RUN</span> go mod tidy &amp;&amp; go build -o app</span>

<span class="token instruction"><span class="token keyword">FROM</span> alpine:latest</span>

<span class="token instruction"><span class="token keyword">WORKDIR</span> /app</span>

<span class="token instruction"><span class="token keyword">COPY</span> <span class="token options"><span class="token property">--from</span><span class="token punctuation">=</span><span class="token string">builder</span></span> /backend/app /app/app</span>

<span class="token instruction"><span class="token keyword">CMD</span> [<span class="token string">"./app"</span>]</span>
</code></pre></div><h3>æœªè®¾ç½®maxprocsçš„åœºæ™¯</h3>
<p>Goç¨‹åºå¦‚ä¸‹ï¼š</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"fmt"</span>
	<span class="token string">"runtime"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"maxprocs"</span><span class="token punctuation">,</span> runtime<span class="token punctuation">.</span><span class="token function">GOMAXPROCS</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ„å»ºé•œåƒ:</p>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">docker</span> build <span class="token parameter variable">-t</span> cpu-test:v0.1.0 <span class="token builtin class-name">.</span>
</code></pre></div><p>è¿è¡Œé•œåƒ:</p>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">--cpus</span><span class="token operator">=</span><span class="token number">1.0</span>  cpu-test:v0.1.0
</code></pre></div><p>è¿™é‡Œé€šè¿‡<code>--cpus=1.0</code>é™åˆ¶å®¹å™¨çš„CPUæ ¸æ•°ä¸º1ã€‚</p>
<p>æ‰§è¡Œç»“æœï¼š</p>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>maxprocs 20
</code></pre></div><div class="hint-container tip">
<p class="hint-container-title">æç¤º</p>
<p>æˆ‘çš„æœ¬æœºé€»è¾‘å¤„ç†å™¨æœ‰20ä¸ªï¼Œæ‰€ä»¥ç»“æœä¸º20</p>
</div>
<h3>è®¾ç½®maxprocsåœºæ™¯</h3>
<p>è¿™é‡Œä½¿ç”¨uberå…¬å¸å¼€æºçš„åº“æ¥ä¿®æ”¹maxprocsï¼ŒGoç¨‹åºå¦‚ä¸‹ï¼š</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"fmt"</span>
	<span class="token string">"runtime"</span>

	<span class="token boolean">_</span> <span class="token string">"go.uber.org/automaxprocs"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"maxprocs"</span><span class="token punctuation">,</span> runtime<span class="token punctuation">.</span><span class="token function">GOMAXPROCS</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ„å»ºé•œåƒ:</p>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">docker</span> build <span class="token parameter variable">-t</span> cpu-test:v0.1.1 <span class="token builtin class-name">.</span>
</code></pre></div><p>è¿è¡Œé•œåƒï¼š</p>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">--cpus</span><span class="token operator">=</span><span class="token number">1.0</span>  cpu-test:v0.1.1
</code></pre></div><p>æ‰§è¡Œç»“æœï¼š</p>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>2024/07/11 09:06:55 maxprocs: Updating GOMAXPROCS=1: determined from CPU quota
maxprocs 1
</code></pre></div><div class="hint-container tip">
<p class="hint-container-title">æç¤º</p>
<p>æˆ‘ä»¬çœ‹åˆ°maxprocså·²ç»è®¾ç½®ä¸ºæˆ‘ä»¬é™åˆ¶çš„æ ¸æ•°ï¼Œç”±äºå¼•å…¥çš„<code>automaxprocs</code>åº“è¿›è¡Œåˆå§‹åŒ–ï¼Œå› æ­¤å¤šæ‰“å°äº†ä¸€æ®µä¿¡æ¯ã€‚</p>
</div>
<h2>å‚è€ƒæ–‡çŒ®</h2>
<ul>
<li><a href="https://github.com/uber-go/automaxprocs" target="_blank" rel="noopener noreferrer">https://github.com/uber-go/automaxprocs</a></li>
<li><a href="https://blog.csdn.net/NUCEMLS/article/details/132528994" target="_blank" rel="noopener noreferrer">dockerå®¹å™¨ç¯å¢ƒgoç¨‹åºçš„GOMAXPROCSé—®é¢˜</a></li>
</ul>
]]></content>
    <category term="ç¼–ç¨‹è¯­è¨€"/>
    <published>2024-07-12T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">å†…å­˜å¯¹é½</title>
    <id>http://blog.cjhe.top/language/go/advance/memory-alignment.html</id>
    <link href="http://blog.cjhe.top/language/go/advance/memory-alignment.html"/>
    <updated>2024-10-10T12:23:49.000Z</updated>
    <summary type="html"><![CDATA[<blockquote>
<p>åˆç†çš„æ’åˆ—æ•°æ®æˆå‘˜çš„é¡ºåºï¼Œä½¿å¾—æ•´ä¸ªç»“æ„ä½“çš„ç©ºé—´å ç”¨æœ€å°åŒ–ã€‚</p>
</blockquote>
]]></summary>
    <content type="html"><![CDATA[<blockquote>
<p>åˆç†çš„æ’åˆ—æ•°æ®æˆå‘˜çš„é¡ºåºï¼Œä½¿å¾—æ•´ä¸ªç»“æ„ä½“çš„ç©ºé—´å ç”¨æœ€å°åŒ–ã€‚</p>
</blockquote>
<!-- more -->
<h2>ä»€ä¹ˆæ˜¯å†…å­˜å¯¹é½</h2>
<p>å†…å­˜å¯¹é½æ˜¯æŒ‡æ•°æ®åœ¨å†…å­˜ä¸­å­˜å‚¨çš„æ–¹å¼ï¼Œä»¥ä¼˜åŒ–å¤„ç†å™¨è®¿é—®ã€‚å¤„ç†å™¨ä¸€æ¬¡è®¿é—®ä¸€å®šæ•°é‡çš„è¿ç»­å­—èŠ‚ï¼ˆç§°ä¸ºâ€œå­—â€ï¼‰ï¼Œé€šå¸¸ä¸º 4 å­—èŠ‚æˆ– 8 å­—èŠ‚ã€‚ç¡¬ä»¶ä¼šå°†å†…å­˜çš„è¯»å†™å¯¹é½åˆ°æ•°æ®æ€»çº¿çš„å®½åº¦ï¼Œä»è€Œå¯ä»¥é™ä½ç¡¬ä»¶å®ç°çš„å¤æ‚åº¦ï¼Œåˆå¯ä»¥æå‡ä¼ è¾“çš„æ•ˆç‡ã€‚</p>
<h2>ä¸ºä»€ä¹ˆæœ‰å†…å­˜å¯¹é½</h2>
<ul>
<li>æœ‰äº›CPUå¯ä»¥è®¿é—®ä»»æ„åœ°å€ä¸Šçš„ä»»æ„æ•°æ®ï¼Œè€Œæœ‰äº›CPUåªèƒ½åœ¨ç‰¹å®šåœ°å€è®¿é—®æ•°æ®ï¼Œå› æ­¤ä¸åŒç¡¬ä»¶å¹³å°å…·æœ‰å·®å¼‚æ€§ï¼Œè¿™æ ·çš„ä»£ç å°±ä¸å…·æœ‰ç§»æ¤æ€§ï¼Œå¦‚æœåœ¨ç¼–è¯‘æ—¶ï¼Œå°†åˆ†é…çš„å†…å­˜è¿›è¡Œå¯¹é½ï¼Œè¿™å°±å…·æœ‰å¹³å°å¯ä»¥ç§»æ¤æ€§äº†</li>
<li>CPUæ¯æ¬¡å¯»å€éƒ½æ˜¯è¦æ¶ˆè´¹æ—¶é—´çš„ï¼Œå¹¶ä¸”CPU è®¿é—®å†…å­˜æ—¶ï¼Œå¹¶ä¸æ˜¯é€ä¸ªå­—èŠ‚è®¿é—®ï¼Œè€Œæ˜¯ä»¥å­—é•¿ï¼ˆword sizeï¼‰ä¸ºå•ä½è®¿é—®ï¼Œæ‰€ä»¥æ•°æ®ç»“æ„åº”è¯¥å°½å¯èƒ½åœ°åœ¨è‡ªç„¶è¾¹ç•Œä¸Šå¯¹é½ï¼Œå¦‚æœè®¿é—®æœªå¯¹é½çš„å†…å­˜ï¼Œå¤„ç†å™¨éœ€è¦åšä¸¤æ¬¡å†…å­˜è®¿é—®ï¼Œè€Œå¯¹é½çš„å†…å­˜è®¿é—®ä»…éœ€è¦ä¸€æ¬¡è®¿é—®ï¼Œå†…å­˜å¯¹é½åå¯ä»¥æå‡æ€§èƒ½ã€‚</li>
</ul>
<h2>å¯¹é½è§„åˆ™</h2>
<p>Goè¯­è¨€å†…å­˜å¯¹é½è§„åˆ™å‚è€ƒä¸¤æ–¹é¢å› ç´ ï¼š</p>
<ul>
<li>æ•°æ®ç±»å‹è‡ªèº«çš„å¤§å°ã€‚å¦‚æœæ˜¯å¤åˆç±»å‹ï¼Œä¼šå‚è€ƒæœ€å¤§æˆå‘˜çš„å¤§å°</li>
<li>ç¡¬ä»¶å¹³å°æœºå™¨å­—é•¿ï¼ˆ32ä½/64ä½ï¼‰</li>
</ul>
<p>| ç±»å‹ | 32ä½å¹³å°å¤§å° | 32ä½å¹³å°å¯¹é½è¾¹ç•Œ | 64ä½å¹³å°å¤§å° | 64ä½å¹³å°å¯¹é½è¾¹ç•Œ |
|</p>
]]></content>
    <category term="ç¼–ç¨‹è¯­è¨€"/>
    <published>2024-06-22T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">Goå‘½ä»¤</title>
    <id>http://blog.cjhe.top/language/go/base/command.html</id>
    <link href="http://blog.cjhe.top/language/go/base/command.html"/>
    <updated>2024-06-20T09:04:51.000Z</updated>
    <summary type="text">æˆ‘ä»¬å¯ä»¥æ‰§è¡Œgo -hæˆ–è€…go --helpæŸ¥çœ‹Goè¯­è¨€å‘½ä»¤ã€‚
Goè¯­è¨€å‘½ä»¤åŒ…å«äº†ä¸€æ•´å¥—å·¥å…·é“¾ï¼ŒåŒ…æ‹¬ï¼šæ–‡æ¡£ã€ä»£ç æ£€æŸ¥ã€æ ¼å¼åŒ–ã€ç¼–è¯‘ã€æµ‹è¯•ã€ä¾èµ–ç®¡ç†ã€åŒ…ç®¡ç†ç­‰ã€‚
go bug
go bugå‘½ä»¤ç”¨äºç”Ÿæˆä¸€ä¸ªbugæŠ¥å‘Šæ¨¡æ¿ã€‚è¯¥å‘½ä»¤ä¼šæ”¶é›†ä½ çš„Goç¯å¢ƒå’Œç³»ç»Ÿçš„ä¿¡æ¯ï¼Œå¹¶æ‰“å¼€é»˜è®¤æµè§ˆå™¨åœ¨Goçš„å®˜æ–¹Githubåˆ›å»ºæ–°çš„issueã€‚
go build
go buildå‘½...</summary>
    <content type="html"><![CDATA[<!-- more -->
<p>æˆ‘ä»¬å¯ä»¥æ‰§è¡Œ<code>go -h</code>æˆ–è€…<code>go --help</code>æŸ¥çœ‹Goè¯­è¨€å‘½ä»¤ã€‚</p>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code>go <span class="token parameter variable">-h</span>
</code></pre></div><div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>Go is a tool for managing Go source code.

Usage:

        go &lt;command&gt; [arguments]

The commands are:

        bug         start a bug report
        build       compile packages and dependencies
        clean       remove object files and cached files
        doc         show documentation for package or symbol
        env         print Go environment information
        fix         update packages to use new APIs
        fmt         gofmt (reformat) package sources
        generate    generate Go files by processing source
        get         add dependencies to current module and install them
        install     compile and install packages and dependencies
        list        list packages or modules
        mod         module maintenance
        work        workspace maintenance
        run         compile and run Go program
        test        test packages
        tool        run specified go tool
        version     print Go version
        vet         report likely mistakes in packages
</code></pre></div><p>Goè¯­è¨€å‘½ä»¤åŒ…å«äº†ä¸€æ•´å¥—å·¥å…·é“¾ï¼ŒåŒ…æ‹¬ï¼šæ–‡æ¡£ã€ä»£ç æ£€æŸ¥ã€æ ¼å¼åŒ–ã€ç¼–è¯‘ã€æµ‹è¯•ã€ä¾èµ–ç®¡ç†ã€åŒ…ç®¡ç†ç­‰ã€‚</p>
<h2>go bug</h2>
<p><code>go bug</code>å‘½ä»¤ç”¨äºç”Ÿæˆä¸€ä¸ªbugæŠ¥å‘Šæ¨¡æ¿ã€‚è¯¥å‘½ä»¤ä¼šæ”¶é›†ä½ çš„Goç¯å¢ƒå’Œç³»ç»Ÿçš„ä¿¡æ¯ï¼Œå¹¶æ‰“å¼€é»˜è®¤æµè§ˆå™¨åœ¨Goçš„å®˜æ–¹Githubåˆ›å»ºæ–°çš„issueã€‚</p>
<h2>go build</h2>
<p><code>go build</code>å‘½ä»¤ç”¨äºç¼–è¯‘æˆ‘ä»¬æŒ‡å®šçš„æºç æ–‡ä»¶æˆ–ä»£ç åŒ…ä»¥åŠå®ƒä»¬çš„ä¾èµ–åŒ…ã€‚</p>
<h3>ç”¨æ³•</h3>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code>go build <span class="token punctuation">[</span>-o output<span class="token punctuation">]</span> <span class="token punctuation">[</span>build flags<span class="token punctuation">]</span> <span class="token punctuation">[</span>packages<span class="token punctuation">]</span>
</code></pre></div><p>-o ç”¨äºæŒ‡å®šè¾“å‡ºäºŒè¿›åˆ¶æ–‡ä»¶åç§°ï¼Œä¾‹å¦‚ï¼š</p>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>go build -o app-user main.go
</code></pre></div><h2>go clean</h2>
<p><code>go clean</code>ä¼šåˆ é™¤æ‰æ‰§è¡Œå…¶å®ƒå‘½ä»¤æ—¶äº§ç”Ÿçš„ä¸€äº›æ–‡ä»¶å’Œç›®å½•ï¼ŒåŒ…æ‹¬ï¼š</p>
<ol>
<li>
<p>åœ¨ä½¿ç”¨<code>go build</code>å‘½ä»¤æ—¶åœ¨å½“å‰ä»£ç åŒ…ä¸‹ç”Ÿæˆçš„ä¸åŒ…ååŒåæˆ–è€…ä¸Goæºç æ–‡ä»¶åŒåçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚åœ¨Windowsä¸‹ï¼Œåˆ™æ˜¯ä¸åŒ…ååŒåæˆ–è€…Goæºç æ–‡ä»¶åŒåä¸”å¸¦æœ‰â€œ.exeâ€åç¼€çš„æ–‡ä»¶ã€‚</p>
</li>
<li>
<p>åœ¨æ‰§è¡Œ<code>go test</code>å‘½ä»¤å¹¶åŠ å…¥<code>-c</code>æ ‡è®°æ—¶åœ¨å½“å‰ä»£ç åŒ…ä¸‹ç”Ÿæˆçš„ä»¥åŒ…ååŠ â€œ.testâ€åç¼€ä¸ºåçš„æ–‡ä»¶ã€‚åœ¨Windowsä¸‹ï¼Œåˆ™æ˜¯ä»¥åŒ…ååŠ â€œ.test.exeâ€åç¼€ä¸ºåçš„æ–‡ä»¶ã€‚æˆ‘ä»¬ä¼šåœ¨åé¢ä¸“é—¨ä»‹ç»<code>go test</code>å‘½ä»¤ã€‚</p>
</li>
<li>
<p>å¦‚æœæ‰§è¡Œ<code>go clean</code>å‘½ä»¤æ—¶å¸¦æœ‰æ ‡è®°<code>-i</code>ï¼Œåˆ™ä¼šåŒæ—¶åˆ é™¤å®‰è£…å½“å‰ä»£ç åŒ…æ—¶æ‰€äº§ç”Ÿçš„ç»“æœæ–‡ä»¶ã€‚å¦‚æœå½“å‰ä»£ç åŒ…ä¸­åªåŒ…å«åº“æºç æ–‡ä»¶ï¼Œåˆ™ç»“æœæ–‡ä»¶æŒ‡çš„å°±æ˜¯åœ¨å·¥ä½œåŒºçš„pkgç›®å½•çš„ç›¸åº”ç›®å½•ä¸‹çš„å½’æ¡£æ–‡ä»¶ã€‚å¦‚æœå½“å‰ä»£ç åŒ…ä¸­åªåŒ…å«ä¸€ä¸ªå‘½ä»¤æºç æ–‡ä»¶ï¼Œåˆ™ç»“æœæ–‡ä»¶æŒ‡çš„å°±æ˜¯åœ¨å·¥ä½œåŒºçš„binç›®å½•ä¸‹çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚</p>
</li>
<li>
<p>è¿˜æœ‰ä¸€äº›ç›®å½•å’Œæ–‡ä»¶æ˜¯åœ¨ç¼–è¯‘Goæˆ–Cæºç æ–‡ä»¶æ—¶ç•™åœ¨ç›¸åº”ç›®å½•ä¸­çš„ã€‚åŒ…æ‹¬ï¼šâ€œ_objâ€å’Œâ€œ_testâ€ç›®å½•ï¼Œåç§°ä¸ºâ€œ_testmain.goâ€ã€â€œtest.outâ€ã€â€œbuild.outâ€æˆ–â€œa.outâ€çš„æ–‡ä»¶ï¼Œåç§°ä»¥â€œ.5â€ã€â€œ.6â€ã€â€œ.8â€ã€â€œ.aâ€ã€â€œ.oâ€æˆ–â€œ.soâ€ä¸ºåç¼€çš„æ–‡ä»¶ã€‚è¿™äº›ç›®å½•å’Œæ–‡ä»¶æ˜¯åœ¨æ‰§è¡Œ<code>go build</code>å‘½ä»¤æ—¶ç”Ÿæˆåœ¨ä¸´æ—¶ç›®å½•ä¸­çš„ã€‚å¦‚æœä½ å¿˜è®°äº†è¿™ä¸ªä¸´æ—¶ç›®å½•æ˜¯æ€ä¹ˆå›äº‹å„¿ï¼Œå¯ä»¥å†å›é¡¾ä¸€ä¸‹å‰é¢å…³äº<code>go build</code>å‘½ä»¤çš„ä»‹ç»ã€‚ä¸´æ—¶ç›®å½•çš„åç§°ä»¥<code>go-build</code>ä¸ºå‰ç¼€ã€‚</p>
</li>
<li>
<p>å¦‚æœæ‰§è¡Œ<code>go clean</code>å‘½ä»¤æ—¶å¸¦æœ‰æ ‡è®°<code>-r</code>ï¼Œåˆ™è¿˜åŒ…æ‹¬å½“å‰ä»£ç åŒ…çš„æ‰€æœ‰ä¾èµ–åŒ…çš„ä¸Šè¿°ç›®å½•å’Œæ–‡ä»¶ã€‚</p>
</li>
</ol>
<h2>go doc</h2>
<p><code>go doc</code>å‘½ä»¤ç”¨äºæŸ¥çœ‹Goè¯­è¨€çš„æ–‡æ¡£ã€‚</p>
<p>æ¯”å¦‚ï¼šæŸ¥çœ‹sync.Mapæ–‡æ¡£ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code>go doc sync.Map
</code></pre></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>package sync // import "sync"

type Map struct {
        // Has unexported fields.
}
    Map is like a Go map[any]any but is safe for concurrent use by multiple
    goroutines without additional locking or coordination. Loads, stores,
    and deletes run in amortized constant time.

    The Map type is specialized. Most code should use a plain Go map instead,
    with separate locking or coordination, for better type safety and to make it
    easier to maintain other invariants along with the map content.

    The Map type is optimized for two common use cases: (1) when the entry for
    a given key is only ever written once but read many times, as in caches
    that only grow, or (2) when multiple goroutines read, write, and overwrite
    entries for disjoint sets of keys. In these two cases, use of a Map may
    significantly reduce lock contention compared to a Go map paired with a
    separate Mutex or RWMutex.

    The zero Map is empty and ready for use. A Map must not be copied after
    first use.

    In the terminology of the Go memory model, Map arranges that a write
    operation â€œsynchronizes beforeâ€ any read operation that observes the effect
    of the write, where read and write operations are defined as follows. Load,
    LoadAndDelete, LoadOrStore, Swap, CompareAndSwap, and CompareAndDelete
    are read operations; Delete, LoadAndDelete, Store, and Swap are write
    operations; LoadOrStore is a write operation when it returns loaded set to
    false; CompareAndSwap is a write operation when it returns swapped set to
    true; and CompareAndDelete is a write operation when it returns deleted set
    to true.

func (m *Map) CompareAndDelete(key, old any) (deleted bool)
func (m *Map) CompareAndSwap(key, old, new any) bool
func (m *Map) Delete(key any)
func (m *Map) Load(key any) (value any, ok bool)
func (m *Map) LoadAndDelete(key any) (value any, loaded bool)
func (m *Map) LoadOrStore(key, value any) (actual any, loaded bool)
func (m *Map) Range(f func(key, value any) bool)
func (m *Map) Store(key, value any)
func (m *Map) Swap(key, value any) (previous any, loaded bool)
</code></pre></div><h2>go env</h2>
<p><code>go env</code>ç”¨äºæ‰“å°Goè¯­è¨€çš„ç¯å¢ƒä¿¡æ¯ã€‚</p>
<p><strong>Go111Module</strong></p>
<p>Go111Moduleæ˜¯Goè¯­è¨€çš„æ¨¡å—ç®¡ç†åŠŸèƒ½çš„å¼€å…³ã€‚å®ƒçš„å€¼å¯ä»¥æ˜¯offã€onæˆ–autoã€‚</p>
<p><strong>GOARCH</strong></p>
<p>GOARCHæ˜¯Goè¯­è¨€çš„ç›®æ ‡æ¶æ„ï¼Œä¾‹å¦‚amd64ã€386ç­‰ã€‚</p>
<p><strong>GOBIN</strong></p>
<p>GOBINæ˜¯Goè¯­è¨€çš„å¯æ‰§è¡Œæ–‡ä»¶çš„è¾“å‡ºè·¯å¾„ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸º$GOPATH/binã€‚</p>
<p><strong>GOCACHE</strong></p>
<p>GOCACHEæ˜¯Goè¯­è¨€çš„ç¼“å­˜ç›®å½•ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸º$HOME/.cache/go-buildã€‚</p>
<p><strong>GOENV</strong></p>
<p>GOENVçš„å€¼æ˜¯Goè¯­è¨€çš„ç¯å¢ƒå˜é‡æ–‡ä»¶ã€‚</p>
<p><strong>GOEXE</strong></p>
<p>GOEXEçš„å€¼ä¼šè¢«ä½œä¸ºå¯æ‰§è¡Œæ–‡ä»¶çš„åç¼€ã€‚å®ƒçš„å€¼ä¸GOOSçš„å€¼å­˜åœ¨ä¸€å®šå…³ç³»ï¼Œå³åªæœ‰GOOSçš„å€¼ä¸ºâ€œwindowsâ€æ—¶GOEXEçš„å€¼æ‰ä¼šæ˜¯â€œ.exeâ€ï¼Œå¦åˆ™å…¶å€¼å°±ä¸ºç©ºå­—ç¬¦ä¸²â€œâ€ã€‚è¿™ä¸åœ¨å„ä¸ªæ“ä½œç³»ç»Ÿä¸‹çš„å¯æ‰§è¡Œæ–‡ä»¶çš„é»˜è®¤åç¼€æ˜¯ä¸€è‡´çš„ã€‚</p>
<p><strong>GOFLAGS</strong></p>
<p>GOFLAGSçš„å€¼æ˜¯Goè¯­è¨€çš„ç¼–è¯‘å™¨å‚æ•°ã€‚</p>
<p><strong>GOHOSTARCH</strong></p>
<p>GOHOSTARCHçš„å€¼æ˜¯Goè¯­è¨€çš„ç¼–è¯‘ç¯å¢ƒçš„ç›®æ ‡æ¶æ„ã€‚</p>
<p><strong>GOHOSTOS</strong></p>
<p>GOHOSTOSçš„å€¼æ˜¯Goè¯­è¨€çš„ç¼–è¯‘ç¯å¢ƒçš„ç›®æ ‡æ“ä½œç³»ç»Ÿã€‚</p>
<p><strong>GOINSECURE</strong></p>
<p>GOINSECUREçš„å€¼æ˜¯Goè¯­è¨€çš„å†…éƒ¨å®‰å…¨æœºåˆ¶çš„å¼€å…³ã€‚å®ƒçš„å€¼å¯ä»¥æ˜¯offã€onæˆ–autoã€‚</p>
<p><strong>GOMODCACHE</strong></p>
<p>GOMODCACHEçš„å€¼æ˜¯Goè¯­è¨€çš„æ¨¡å—ç¼“å­˜ç›®å½•ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸º$GOPATH/pkg/modã€‚</p>
<p><strong>GONOPROXY</strong></p>
<p>GONOPROXYçš„å€¼æ˜¯Goè¯­è¨€çš„ç§æœ‰ä»£ç†çš„åŒ…è·¯å¾„ã€‚</p>
<p><strong>GONOSUMER</strong></p>
<p>GONOSUMERçš„å€¼æ˜¯Goè¯­è¨€çš„ç§æœ‰æ ¡éªŒå’Œæ•°æ®åº“çš„åŒ…è·¯å¾„ã€‚</p>
<p><strong>GOOS</strong></p>
<p>GOOSæ˜¯Goè¯­è¨€çš„ç›®æ ‡æ“ä½œç³»ç»Ÿï¼Œä¾‹å¦‚linuxã€windowsç­‰ã€‚</p>
<p><strong>GOPATH</strong></p>
<p>GOPATHæ˜¯Goè¯­è¨€çš„å·¥ä½œåŒºç›®å½•çš„ç»å¯¹è·¯å¾„ã€‚æˆ‘ä»¬éœ€è¦æ˜¾å¼çš„è®¾ç½®ç¯å¢ƒå˜é‡GOPATHã€‚å¦‚æœæœ‰å¤šä¸ªå·¥ä½œåŒºï¼Œé‚£ä¹ˆå¤šä¸ªå·¥ä½œåŒºçš„ç»å¯¹è·¯å¾„ä¹‹é—´éœ€è¦ç”¨åˆ†éš”ç¬¦åˆ†éš”ã€‚åœ¨windowsæ“ä½œç³»ç»Ÿä¸‹ï¼Œè¿™ä¸ªåˆ†éš”ç¬¦ä¸ºâ€œ;â€ã€‚åœ¨å…¶å®ƒæ“ä½œç³»ç»Ÿä¸‹ï¼Œè¿™ä¸ªåˆ†éš”ç¬¦ä¸ºâ€œ:â€ã€‚æ³¨æ„ï¼ŒGOPATHçš„å€¼ä¸èƒ½ä¸GOROOTçš„å€¼ç›¸åŒã€‚</p>
<p><strong>GOPRIVATE</strong></p>
<p>GOPRIVATEçš„å€¼æ˜¯Goè¯­è¨€çš„ç§æœ‰æ¨¡å—çš„åŒ…è·¯å¾„ã€‚</p>
<p><strong>GOPROXY</strong></p>
<p>GOPROXYçš„å€¼æ˜¯Goè¯­è¨€çš„ä»£ç†æœåŠ¡å™¨çš„åœ°å€ã€‚</p>
<p><strong>GOROOT</strong></p>
<p>GOROOTçš„å€¼æ˜¯Goè¯­è¨€çš„å®‰è£…ç›®å½•çš„ç»å¯¹è·¯å¾„ã€‚</p>
<p><strong>GOSUMDB</strong></p>
<p>GOSUMDBçš„å€¼æ˜¯Goè¯­è¨€çš„æ ¡éªŒå’Œæ•°æ®åº“çš„åœ°å€ã€‚</p>
<p><strong>GOTMPDIR</strong></p>
<p>GOTMPDIRçš„å€¼æ˜¯Goè¯­è¨€çš„ä¸´æ—¶æ–‡ä»¶çš„è¾“å‡ºè·¯å¾„ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸º$GOPATH/pkg/modã€‚</p>
<p><strong>GOTOOLCHAIN</strong></p>
<p>GOTOOLCHAINå…è®¸æ‚¨æŒ‡å®šè¦ä½¿ç”¨çš„ç‰¹å®šå·¥å…·é“¾ç‰ˆæœ¬ã€‚</p>
<p><strong>GOTOOLDIR</strong></p>
<p>GOTOOLDIRçš„å€¼æ˜¯Goè¯­è¨€çš„å·¥å…·ç›®å½•çš„ç»å¯¹è·¯å¾„ã€‚</p>
<p><strong>GOVCS</strong></p>
<p>GOVCSçš„å€¼æ˜¯Goè¯­è¨€çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚</p>
<p><strong>GOVERSION</strong></p>
<p>GOVERSIONçš„å€¼æ˜¯Goè¯­è¨€çš„ç‰ˆæœ¬å·ã€‚</p>
<p><strong>GCCGO</strong></p>
<p>GCCGOçš„å€¼æ˜¯Goè¯­è¨€çš„ç¼–è¯‘å™¨å‚æ•°ã€‚</p>
<p><strong>GOAMD64</strong></p>
<p>GOAMD64çš„å€¼æ˜¯Goè¯­è¨€çš„ç¼–è¯‘å™¨å‚æ•°ã€‚</p>
<h2>go fix</h2>
<p><code>go fix</code>å‘½ä»¤ç”¨äºè‡ªåŠ¨ä¿®å¤Goä»£ç ä¸­çš„é”™è¯¯ã€‚</p>
<h3>è¯­æ³•</h3>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code>go fix <span class="token punctuation">[</span>build flags<span class="token punctuation">]</span> <span class="token punctuation">[</span>packages<span class="token punctuation">]</span>
</code></pre></div><h3>é€‰é¡¹</h3>
<ul>
<li><code>-n</code>ï¼šåªæ‰“å°å°†è¦è¿›è¡Œçš„ä¿®å¤æ“ä½œï¼Œè€Œä¸å®é™…æ‰§è¡Œã€‚</li>
<li><code>-v</code>ï¼šæ‰“å°å‡ºæ¯ä¸ªè¢«ä¿®å¤çš„æ–‡ä»¶åã€‚</li>
</ul>
<h2>go fmt</h2>
<p><code>go fmt</code>ç”¨äºæ ¼å¼åŒ–Goä»£ç ã€‚</p>
<h3>è¯­æ³•</h3>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code>go <span class="token function">fmt</span> <span class="token punctuation">[</span>-n<span class="token punctuation">]</span> <span class="token punctuation">[</span>-x<span class="token punctuation">]</span> <span class="token punctuation">[</span>packages<span class="token punctuation">]</span>
</code></pre></div><h3>é€‰é¡¹</h3>
<ul>
<li><code>-n</code>: æ‰“å°æ ¼å¼åŒ–åçš„ä»£ç ï¼Œä½†ä¸å®é™…å†™å…¥æ–‡ä»¶ã€‚</li>
<li><code>-x</code>: æ‰“å°æ ¼å¼åŒ–åçš„ä»£ç ï¼Œå¹¶æ·»åŠ è¡Œå·å’Œç¼©è¿›ã€‚</li>
</ul>
<h2>go generate</h2>
<h2>go get</h2>
<p><code>go get</code>å¯ä»¥æ ¹æ®è¦æ±‚å’Œå®é™…æƒ…å†µä»äº’è”ç½‘ä¸Šä¸‹è½½æˆ–æ›´æ–°æŒ‡å®šçš„ä»£ç åŒ…åŠå…¶ä¾èµ–åŒ…ï¼Œå¹¶å¯¹å®ƒä»¬è¿›è¡Œç¼–è¯‘å’Œå®‰è£…</p>
<h2>go install</h2>
<p><code>go install</code>ç”¨äºç¼–è¯‘å¹¶å®‰è£…æŒ‡å®šçš„ä»£ç åŒ…åŠå®ƒä»¬çš„ä¾èµ–åŒ…ã€‚</p>
<h2>go list</h2>
<p><code>go list</code>å‘½ä»¤çš„ä½œç”¨æ˜¯åˆ—å‡ºæŒ‡å®šçš„ä»£ç åŒ…çš„ä¿¡æ¯ã€‚</p>
<h2>go mod</h2>
<h2>go run</h2>
<p><code>go run</code>å‘½ä»¤ç”¨äºç¼–è¯‘å¹¶è¿è¡ŒGoç¨‹åºã€‚</p>
<h2>go test</h2>
<p><code>go test</code>å‘½ä»¤ç”¨äºå¯¹Goè¯­è¨€ç¼–å†™çš„ç¨‹åºè¿›è¡Œæµ‹è¯•ã€‚</p>
<h2>go tool</h2>
<h2>go version</h2>
<p><code>go version</code>å‘½ä»¤ç”¨äºæ‰“å°å½“å‰ç³»ç»ŸGoè¯­è¨€çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚</p>
<h3>è¯­æ³•</h3>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code>go version
</code></pre></div><p>è¾“å‡ºç»“æœï¼š</p>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>go version go1.22.2 windows/amd64
</code></pre></div><h2>go vet</h2>
<p><code>go vet</code>å‘½ä»¤ç”¨äºæ£€æŸ¥Goä»£ç ä¸­çš„é”™è¯¯å’Œæ½œåœ¨çš„æ€§èƒ½é—®é¢˜ã€‚</p>
<h3>è¯­æ³•</h3>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code>go vet <span class="token punctuation">[</span>-n<span class="token punctuation">]</span> <span class="token punctuation">[</span>-x<span class="token punctuation">]</span> <span class="token punctuation">[</span>build flags<span class="token punctuation">]</span> <span class="token punctuation">[</span>packages<span class="token punctuation">]</span>
</code></pre></div><h3>é€‰é¡¹</h3>
<ul>
<li><code>-n</code>ï¼šæ‰“å°å‡ºéœ€è¦æ£€æŸ¥çš„åŒ…åï¼Œä½†ä¸æ‰§è¡Œæ£€æŸ¥ã€‚</li>
<li><code>-x</code>ï¼šæ‰“å°å‡ºéœ€è¦æ£€æŸ¥çš„åŒ…åå’Œæ–‡ä»¶åï¼Œä½†ä¸æ‰§è¡Œæ£€æŸ¥ã€‚</li>
</ul>
]]></content>
    <category term="ç¼–ç¨‹è¯­è¨€"/>
    <published>2024-06-14T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">Goè¯­è¨€æ–‡ç« </title>
    <id>http://blog.cjhe.top/language/go/recommend/article.html</id>
    <link href="http://blog.cjhe.top/language/go/recommend/article.html"/>
    <updated>2024-06-12T01:26:48.000Z</updated>
    <summary type="text">Goè¯­è¨€è§„èŒƒ
Uberå…¬å¸Goè¯­è¨€ç¼–ç è§„èŒƒ
Goä»£ç è¯„å®¡å¸¸è§é”™è¯¯æ¸…å•
GoåŒ…è§„èŒƒ
ç¨€åœŸæ˜è¿›-å¦‚ä½•å†™å‡ºä¼˜é›…çš„Golangä»£ç 
ç¨€åœŸæ˜è¿›-Goè¯­è¨€å®è·µï¼šç¼–å†™å¯ç»´æŠ¤çš„ç¨‹åºçš„å»ºè®®
Goå®˜æ–¹ä»£ç å®¡æŸ¥</summary>
    <content type="html"><![CDATA[<!-- more -->
<h2>Goè¯­è¨€è§„èŒƒ</h2>
<p><a href="https://github.com/xxjwxc/uber_go_guide_cn" target="_blank" rel="noopener noreferrer">Uberå…¬å¸Goè¯­è¨€ç¼–ç è§„èŒƒ</a></p>
<p><a href="https://github.com/golang/go/wiki/CodeReviewComments" target="_blank" rel="noopener noreferrer">Goä»£ç è¯„å®¡å¸¸è§é”™è¯¯æ¸…å•</a></p>
<p><a href="https://rakyll.org/style-packages/" target="_blank" rel="noopener noreferrer">GoåŒ…è§„èŒƒ</a></p>
<p>ç¨€åœŸæ˜è¿›-å¦‚ä½•å†™å‡ºä¼˜é›…çš„Golangä»£ç <a href="https://juejin.cn/post/6844903976509390856" target="_blank" rel="noopener noreferrer"></a></p>
<p>ç¨€åœŸæ˜è¿›-Goè¯­è¨€å®è·µï¼šç¼–å†™å¯ç»´æŠ¤çš„ç¨‹åºçš„å»ºè®®<a href="https://juejin.cn/post/6844904035611328520" target="_blank" rel="noopener noreferrer"></a></p>
<p>Goå®˜æ–¹ä»£ç å®¡æŸ¥<a href="https://github.com/golang/go/wiki/CodeReviewComments" target="_blank" rel="noopener noreferrer"></a></p>
]]></content>
    <category term="ç¼–ç¨‹è¯­è¨€"/>
    <published>2024-06-12T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">Goè¯­è¨€ç¤¾åŒº</title>
    <id>http://blog.cjhe.top/language/go/recommend/community.html</id>
    <link href="http://blog.cjhe.top/language/go/recommend/community.html"/>
    <updated>2024-06-12T01:26:48.000Z</updated>
    <summary type="text">Goç¤¾åŒº</summary>
    <content type="html"><![CDATA[<!-- more -->
<h2>Goç¤¾åŒº</h2>
]]></content>
    <category term="ç¼–ç¨‹è¯­è¨€"/>
    <published>2024-06-12T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">Goè¯­è¨€ç»ƒä¹ </title>
    <id>http://blog.cjhe.top/language/go/recommend/example.html</id>
    <link href="http://blog.cjhe.top/language/go/recommend/example.html"/>
    <updated>2024-06-12T01:26:48.000Z</updated>
    <summary type="text">Goç»ƒä¹ </summary>
    <content type="html"><![CDATA[<!-- more -->
<h2>Goç»ƒä¹ </h2>
]]></content>
    <category term="ç¼–ç¨‹è¯­è¨€"/>
    <published>2024-04-16T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">Goæµ‹è¯•</title>
    <id>http://blog.cjhe.top/language/go/test/</id>
    <link href="http://blog.cjhe.top/language/go/test/"/>
    <updated>2024-06-11T13:34:41.000Z</updated>
    <category term="ç¼–ç¨‹è¯­è¨€"/>
    <published>2024-06-11T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">Goè¯­è¨€MySQLæµ‹è¯•</title>
    <id>http://blog.cjhe.top/language/go/test/mysql-test.html</id>
    <link href="http://blog.cjhe.top/language/go/test/mysql-test.html"/>
    <updated>2024-06-12T01:26:48.000Z</updated>
    <summary type="text">Goé¡¹ç›®ä¸­ç»å¸¸ä½¿ç”¨MySQLä½œä¸ºå­˜å‚¨ï¼Œä¸€èˆ¬å†™æµ‹è¯•ä¼šå»ºç«‹çœŸå®è¿æ¥è¿›è¡Œæµ‹è¯•ï¼Œä½†å¸¦æ¥çš„é—®é¢˜æœ‰å¾ˆå¤šï¼š

ä¾èµ–æµ‹è¯•æ•°æ®ï¼Œå¦‚æœæ•°æ®åº“ä¸­æŸä¸ªæ•°æ®å˜æ›´å¯¼è‡´æµ‹è¯•ç”¨ä¾‹å¤±è´¥
ä¾èµ–æ•°æ®åº“ç¯å¢ƒï¼Œå¦‚æœæ— æ³•è¿é€šå°†å¯¼è‡´æµ‹è¯•å¤±è´¥

å› æ­¤ï¼Œä¼˜ç§€çš„é¡¹ç›®ä¼šæœç»è¿™äº›é—®é¢˜ã€‚æœ¬æ–‡ä»‹ç»Goè¯­è¨€çš„sql/driverçš„mockåº“ã€‚
å®‰è£…mockåº“
å®˜ç½‘ç”¨ä¾‹
ä¸šåŠ¡SQLå‡½æ•°
Â Â 
ç›¸å…³ä¿¡æ¯
record...</summary>
    <content type="html"><![CDATA[<!-- more -->
<p>Goé¡¹ç›®ä¸­ç»å¸¸ä½¿ç”¨MySQLä½œä¸ºå­˜å‚¨ï¼Œä¸€èˆ¬å†™æµ‹è¯•ä¼šå»ºç«‹çœŸå®è¿æ¥è¿›è¡Œæµ‹è¯•ï¼Œä½†å¸¦æ¥çš„é—®é¢˜æœ‰å¾ˆå¤šï¼š</p>
<ul>
<li>ä¾èµ–æµ‹è¯•æ•°æ®ï¼Œå¦‚æœæ•°æ®åº“ä¸­æŸä¸ªæ•°æ®å˜æ›´å¯¼è‡´æµ‹è¯•ç”¨ä¾‹å¤±è´¥</li>
<li>ä¾èµ–æ•°æ®åº“ç¯å¢ƒï¼Œå¦‚æœæ— æ³•è¿é€šå°†å¯¼è‡´æµ‹è¯•å¤±è´¥</li>
</ul>
<p>å› æ­¤ï¼Œä¼˜ç§€çš„é¡¹ç›®ä¼šæœç»è¿™äº›é—®é¢˜ã€‚æœ¬æ–‡ä»‹ç»Goè¯­è¨€çš„<code>sql/driver</code>çš„mockåº“ã€‚</p>
<h2>å®‰è£…mockåº“</h2>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code>go get github.com/DATA-DOG/go-sqlmock
</code></pre></div><h2>å®˜ç½‘ç”¨ä¾‹</h2>
<h3>ä¸šåŠ¡SQLå‡½æ•°</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"database/sql"</span>

	<span class="token boolean">_</span> <span class="token string">"github.com/go-sql-driver/mysql"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">recordStats</span><span class="token punctuation">(</span>db <span class="token operator">*</span>sql<span class="token punctuation">.</span>DB<span class="token punctuation">,</span> userID<span class="token punctuation">,</span> productID <span class="token builtin">int64</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>err <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	tx<span class="token punctuation">,</span> err <span class="token operator">:=</span> db<span class="token punctuation">.</span><span class="token function">Begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">switch</span> err <span class="token punctuation">{</span>
		<span class="token keyword">case</span> <span class="token boolean">nil</span><span class="token punctuation">:</span>
			err <span class="token operator">=</span> tx<span class="token punctuation">.</span><span class="token function">Commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token keyword">default</span><span class="token punctuation">:</span>
			tx<span class="token punctuation">.</span><span class="token function">Rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

	<span class="token keyword">if</span> <span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">=</span> tx<span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token string">"UPDATE products SET views = views + 1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">=</span> tx<span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token string">"INSERT INTO product_viewers (user_id, product_id) VALUES (?, ?)"</span><span class="token punctuation">,</span> userID<span class="token punctuation">,</span> productID<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="hint-container info">
<p class="hint-container-title">ç›¸å…³ä¿¡æ¯</p>
<p><code>recordStats</code> å‡½æ•°è´Ÿè´£è®°å½•ç”¨æˆ·æµè§ˆäº§å“ä¿¡æ¯ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>æ›´æ–°å•†å“çš„ views ä¸ªæ•°+1</li>
<li>æ’å…¥ä¸€æ¡ç”¨æˆ·æµè§ˆå•†å“æ•°æ®åˆ° product_viewers è¡¨</li>
</ul>
<p>ä»¥ä¸Šä¸¤ä¸ªæ“ä½œåœ¨åŒä¸€ä¸ªäº‹ç‰©ä¸­æ‰§è¡Œ</p>
</div>
<h3>æˆåŠŸçš„æµ‹è¯•ç”¨ä¾‹</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">TestShouldUpdateStats</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	db<span class="token punctuation">,</span> mock<span class="token punctuation">,</span> err <span class="token operator">:=</span> sqlmock<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		t<span class="token punctuation">.</span><span class="token function">Fatalf</span><span class="token punctuation">(</span><span class="token string">"an error '%s' was not expected when opening a stub database connection"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">defer</span> db<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

	mock<span class="token punctuation">.</span><span class="token function">ExpectBegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	mock<span class="token punctuation">.</span><span class="token function">ExpectExec</span><span class="token punctuation">(</span><span class="token string">"UPDATE products"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WillReturnResult</span><span class="token punctuation">(</span>sqlmock<span class="token punctuation">.</span><span class="token function">NewResult</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	mock<span class="token punctuation">.</span><span class="token function">ExpectExec</span><span class="token punctuation">(</span><span class="token string">"INSERT INTO product_viewers"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithArgs</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WillReturnResult</span><span class="token punctuation">(</span>sqlmock<span class="token punctuation">.</span><span class="token function">NewResult</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	mock<span class="token punctuation">.</span><span class="token function">ExpectCommit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

	<span class="token comment">// now we execute our method</span>
	<span class="token keyword">if</span> err <span class="token operator">=</span> <span class="token function">recordStats</span><span class="token punctuation">(</span>db<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		t<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">"error was not expected while updating stats: %s"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// we make sure that all expectations were met</span>
	<span class="token keyword">if</span> err <span class="token operator">:=</span> mock<span class="token punctuation">.</span><span class="token function">ExpectationsWereMet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		t<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">"there were unfulfilled expectations: %s"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="hint-container info">
<p class="hint-container-title">ç›¸å…³ä¿¡æ¯</p>
<p>å…¶ä¸­ï¼š</p>
<ul>
<li>8-11è¡Œä¸ºæˆ‘ä»¬æœŸæœ›æ‰§è¡Œçš„SQLè¯­å¥ï¼ŒåŒ…æ‹¬è¿”å›å€¼ã€‚</li>
<li>19è¡Œæ£€éªŒæ˜¯å¦ç¬¦åˆæˆ‘ä»¬çš„æœŸæœ›ã€‚</li>
</ul>
</div>
<h3>å¤±è´¥çš„æµ‹è¯•ç”¨ä¾‹</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">TestShouldRollbackStatUpdatesOnFailure</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	db<span class="token punctuation">,</span> mock<span class="token punctuation">,</span> err <span class="token operator">:=</span> sqlmock<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		t<span class="token punctuation">.</span><span class="token function">Fatalf</span><span class="token punctuation">(</span><span class="token string">"an error '%s' was not expected when opening a stub database connection"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">defer</span> db<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

	mock<span class="token punctuation">.</span><span class="token function">ExpectBegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	mock<span class="token punctuation">.</span><span class="token function">ExpectExec</span><span class="token punctuation">(</span><span class="token string">"UPDATE products"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WillReturnResult</span><span class="token punctuation">(</span>sqlmock<span class="token punctuation">.</span><span class="token function">NewResult</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	mock<span class="token punctuation">.</span><span class="token function">ExpectExec</span><span class="token punctuation">(</span><span class="token string">"INSERT INTO product_viewers"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
		<span class="token function">WithArgs</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
		<span class="token function">WillReturnError</span><span class="token punctuation">(</span>fmt<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">"some error"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	mock<span class="token punctuation">.</span><span class="token function">ExpectRollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

	<span class="token comment">// now we execute our method</span>
	<span class="token keyword">if</span> err <span class="token operator">=</span> <span class="token function">recordStats</span><span class="token punctuation">(</span>db<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		t<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">"was expecting an error, but there was none"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// we make sure that all expectations were met</span>
	<span class="token keyword">if</span> err <span class="token operator">:=</span> mock<span class="token punctuation">.</span><span class="token function">ExpectationsWereMet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		t<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">"there were unfulfilled expectations: %s"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="hint-container info">
<p class="hint-container-title">ç›¸å…³ä¿¡æ¯</p>
<p>å…¶ä¸­</p>
<ul>
<li>ç¬¬10è¡Œæ¨¡æ‹Ÿæ‰§è¡Œæ’å…¥å¤±è´¥é”™è¯¯ï¼Œç¬¬13è¡ŒæœŸæœ›äº‹åŠ¡å›æ»šã€‚</li>
<li>ç¬¬16è¡ŒæŒ‰ç…§é¢„æœŸè‚¯å®šè¿”å›é”™è¯¯</li>
<li>ç¬¬19è¡Œåˆ™æ£€éªŒæ˜¯å¦ç¬¦åˆæˆ‘ä»¬çš„é¢„æœŸ</li>
</ul>
</div>
<h2>å°è¯•ç‰›åˆ€</h2>
<h3>ä¸šåŠ¡daoå±‚</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">type</span> UserDao <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	db <span class="token operator">*</span>gorm<span class="token punctuation">.</span>DB
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">NewUserDao</span><span class="token punctuation">(</span>db <span class="token operator">*</span>gorm<span class="token punctuation">.</span>DB<span class="token punctuation">)</span> <span class="token operator">*</span>UserDao <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token operator">&amp;</span>UserDao<span class="token punctuation">{</span>db<span class="token punctuation">:</span> db<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>dao <span class="token operator">*</span>UserDao<span class="token punctuation">)</span> <span class="token function">Get</span><span class="token punctuation">(</span>ctx context<span class="token punctuation">.</span>Context<span class="token punctuation">,</span> options <span class="token operator">...</span>store<span class="token punctuation">.</span>Option<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token operator">*</span>model<span class="token punctuation">.</span>User<span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	user <span class="token operator">:=</span> model<span class="token punctuation">.</span>User<span class="token punctuation">{</span><span class="token punctuation">}</span>
	query <span class="token operator">:=</span> dao<span class="token punctuation">.</span>db<span class="token punctuation">.</span><span class="token function">WithContext</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Model</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>model<span class="token punctuation">.</span>User<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> option <span class="token operator">:=</span> <span class="token keyword">range</span> options <span class="token punctuation">{</span>
		option<span class="token punctuation">.</span><span class="token punctuation">(</span>Option<span class="token punctuation">)</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> err <span class="token operator">:=</span> query<span class="token punctuation">.</span><span class="token function">First</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>user<span class="token punctuation">)</span><span class="token punctuation">.</span>Error<span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> err
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token operator">&amp;</span>user<span class="token punctuation">,</span> <span class="token boolean">nil</span>
<span class="token punctuation">}</span>
</code></pre></div><p>daoå±‚ä½¿ç”¨gorm ORMæ¡†æ¶ï¼Œä½†ä¸å¦¨ç¢æˆ‘ä»¬é‡‡ç”¨go-sqlmockè¿›è¡Œæµ‹è¯•</p>
<h3>æµ‹è¯•ç”¨ä¾‹</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">TestUserDao_Get</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	db<span class="token punctuation">,</span> mock<span class="token punctuation">,</span> err <span class="token operator">:=</span> sqlmock<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span>sqlmock<span class="token punctuation">.</span><span class="token function">QueryMatcherOption</span><span class="token punctuation">(</span>sqlmock<span class="token punctuation">.</span>QueryMatcherEqual<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		t<span class="token punctuation">.</span><span class="token function">Fatalf</span><span class="token punctuation">(</span><span class="token string">"an error '%s' was not expected when opening a stub database connection"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">defer</span> db<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	gdb<span class="token punctuation">,</span> err <span class="token operator">:=</span> gorm<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span>mysql<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span>mysql<span class="token punctuation">.</span>Config<span class="token punctuation">{</span>DriverName<span class="token punctuation">:</span> <span class="token string">"mysql"</span><span class="token punctuation">,</span> Conn<span class="token punctuation">:</span> db<span class="token punctuation">,</span> SkipInitializeWithVersion<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>gorm<span class="token punctuation">.</span>Config<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		t<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	dao <span class="token operator">:=</span> <span class="token function">NewUserDao</span><span class="token punctuation">(</span>gdb<span class="token punctuation">)</span>

	<span class="token punctuation">{</span> <span class="token comment">//æ ¹æ®nameæŸ¥è¯¢ç”¨æˆ·</span>
		rows <span class="token operator">:=</span> sqlmock<span class="token punctuation">.</span><span class="token function">NewRows</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">"id"</span><span class="token punctuation">,</span> <span class="token string">"name"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">AddRow</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"admin"</span><span class="token punctuation">)</span>
		mock<span class="token punctuation">.</span><span class="token function">ExpectQuery</span><span class="token punctuation">(</span><span class="token string">"SELECT * FROM `sys_user` WHERE name = ? ORDER BY `sys_user`.`id` LIMIT ?"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithArgs</span><span class="token punctuation">(</span><span class="token string">"admin"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WillReturnRows</span><span class="token punctuation">(</span>rows<span class="token punctuation">)</span>
		user<span class="token punctuation">,</span> err <span class="token operator">:=</span> dao<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">Background</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">NewOption</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithUserName</span><span class="token punctuation">(</span><span class="token string">"admin"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
			t<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
		t<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span>
		<span class="token keyword">if</span> err <span class="token operator">:=</span> mock<span class="token punctuation">.</span><span class="token function">ExpectationsWereMet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
			t<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">"there were unfulfilled expectations: %s"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token punctuation">{</span> <span class="token comment">//æ ¹æ®idæŸ¥è¯¢ç”¨æˆ·</span>
		rows <span class="token operator">:=</span> sqlmock<span class="token punctuation">.</span><span class="token function">NewRows</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">"id"</span><span class="token punctuation">,</span> <span class="token string">"name"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">AddRow</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"admin"</span><span class="token punctuation">)</span>
		mock<span class="token punctuation">.</span><span class="token function">ExpectQuery</span><span class="token punctuation">(</span><span class="token string">"SELECT * FROM `sys_user` WHERE id = ? ORDER BY `sys_user`.`id` LIMIT ?"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithArgs</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WillReturnRows</span><span class="token punctuation">(</span>rows<span class="token punctuation">)</span>
		user<span class="token punctuation">,</span> err <span class="token operator">:=</span> dao<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">Background</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">NewOption</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithId</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
			t<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
		t<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span>
		<span class="token keyword">if</span> err <span class="token operator">:=</span> mock<span class="token punctuation">.</span><span class="token function">ExpectationsWereMet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
			t<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">"there were unfulfilled expectations: %s"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="hint-container info">
<p class="hint-container-title">ç›¸å…³ä¿¡æ¯</p>
<p>å…¶ä¸­ï¼š</p>
<ul>
<li>ç¬¬2è¡Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸¥æ ¼çš„åŒ¹é…æ–¹å¼ï¼Œå³<code>sqlmock.QueryMatcherEqual</code>ï¼Œå³è¦æ±‚SQLè¯­å¥å®Œå…¨ä¸€è‡´ï¼Œå¦åˆ™ä¼šæŠ¥é”™SQLä¸æ˜¯æœŸæœ›æ‰€å¾—ã€‚</li>
<li>ç”±äºä½¿ç”¨äº†GORMæ¡†æ¶ï¼Œæ‰€ä»¥ç¬¬7è¡Œéœ€è¦åˆå§‹åŒ–gdbï¼Œä½†æ˜¯ç”±äºGORMåˆå§‹åŒ–ä¼šæ‰§è¡Œ<code>SELECT VERSION()</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é€šè¿‡<code>SkipInitializeWithVersion</code>è·³è¿‡åˆå§‹åŒ–ã€‚</li>
</ul>
</div>
<p>é‡è§çš„ä¸€äº›é—®é¢˜ï¼š</p>
<div class="hint-container warning">
<p class="hint-container-title">æ³¨æ„</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code>	<span class="token punctuation">{</span> <span class="token comment">//æ ¹æ®nameæŸ¥è¯¢ç”¨æˆ·</span>
		rows <span class="token operator">:=</span> sqlmock<span class="token punctuation">.</span><span class="token function">NewRows</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">"id"</span><span class="token punctuation">,</span> <span class="token string">"name"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">AddRow</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"admin"</span><span class="token punctuation">)</span>
		mock<span class="token punctuation">.</span><span class="token function">ExpectQuery</span><span class="token punctuation">(</span><span class="token string">"SELECT * FROM `sys_user` WHERE name = ? ORDER BY `sys_user`.`id` LIMIT 1"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithArgs</span><span class="token punctuation">(</span><span class="token string">"admin"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WillReturnRows</span><span class="token punctuation">(</span>rows<span class="token punctuation">)</span>
		user<span class="token punctuation">,</span> err <span class="token operator">:=</span> dao<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">Background</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">NewOption</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithUserName</span><span class="token punctuation">(</span><span class="token string">"admin"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
			t<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
		t<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span>
		<span class="token keyword">if</span> err <span class="token operator">:=</span> mock<span class="token punctuation">.</span><span class="token function">ExpectationsWereMet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
			t<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">"there were unfulfilled expectations: %s"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
</code></pre></div><p>ç¬¬3è¡Œï¼Œæˆ‘ä»¬é€šè¿‡ç›´æ¥å†™æ­»<code>LIMIT 1</code>è€Œä¸æ˜¯<code>LIMIT ?</code>æ¥é™åˆ¶æŸ¥è¯¢ç»“æœï¼Œä½†å®é™…æ‰§è¡Œæ—¶ï¼Œä¼šæŠ¥é”™SQLä¸æ˜¯æœŸæœ›æ‰€å¾—ï¼Œå¯¼è‡´æµ‹è¯•ç”¨ä¾‹ä¸é€šè¿‡ã€‚å› æ­¤éœ€è¦ç‰¹åˆ«æ³¨æ„ï¼Œéœ€è¦é€šè¿‡ä¼ å‚çš„æ–¹å¼ã€‚</p>
</div>
<h2>ä¸ªäººè§‚ç‚¹</h2>
<p>go-sqlmocké€šè¿‡å®šä¹‰æˆ‘ä»¬æœŸæœ›çš„SQLè¯­å¥ï¼Œç„¶åé€šè¿‡æ¨¡æ‹Ÿæ‰§è¡Œï¼Œæ¥è¾¾åˆ°æµ‹è¯•çš„ç›®çš„ã€‚ä½†æˆ‘ä»¬é€šå¸¸ä½¿ç”¨ç›¸å…³çš„ORMæ¡†æ¶ï¼Œå¦‚GORMï¼Œå·²ç»ä¸å†å†™SQLè¯­å¥ï¼Œæ¡†æ¶ä¼šè‡ªåŠ¨å¸®åŠ©æˆ‘ä»¬è¡¥å……å®Œæ•´ã€‚å› æ­¤å¯¹äºä¸€èˆ¬è‚‰çœ¼å¯ä»¥å®¡æŸ¥çš„ä»£ç ï¼Œæˆ‘è§‰å¾—ä½¿ç”¨go-sqlmockè¿›è¡Œæµ‹è¯•æ„ä¹‰ä¸å¤§ã€‚</p>
<p>å¦‚æœæœ‰éå¸¸å¤æ‚çš„SQLè¯­å¥ï¼Œæˆ–è€…ORMæ¡†æ¶æ— æ³•æ»¡è¶³éœ€æ±‚ï¼Œå°¤å…¶æ˜¯ä¸€äº›ä¸šåŠ¡é€»è¾‘ä¸‹æ²‰åˆ°daoå±‚ï¼Œé‚£ä¹ˆä½¿ç”¨go-sqlmockè¿›è¡Œæµ‹è¯•æ˜¯å€¼å¾—çš„ã€‚</p>
<h2>å‚è€ƒæ–‡çŒ®</h2>
<ul>
<li><a href="https://www.liwenzhou.com/posts/Go/unit-test-2/" target="_blank" rel="noopener noreferrer">ææ–‡å‘¨</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/693058578" target="_blank" rel="noopener noreferrer">çŸ¥ä¹</a></li>
</ul>
]]></content>
    <category term="ç¼–ç¨‹è¯­è¨€"/>
    <published>2024-06-11T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">Nacos</title>
    <id>http://blog.cjhe.top/database/nacos/</id>
    <link href="http://blog.cjhe.top/database/nacos/"/>
    <updated>2024-05-29T08:27:34.000Z</updated>
    <content type="html"><![CDATA[<!-- more -->
]]></content>
    <category term="æ•°æ®å­˜å‚¨"/>
    <published>2024-05-29T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">Nacosç›‘æ§</title>
    <id>http://blog.cjhe.top/database/nacos/nacos-monitor.html</id>
    <link href="http://blog.cjhe.top/database/nacos/nacos-monitor.html"/>
    <updated>2024-05-29T08:27:34.000Z</updated>
    <summary type="text">Nacosæ”¯æŒPrometheus metricsï¼Œæ¥å£åœ°å€ï¼š/nacos/actuator/prometheusã€‚ ä½†æ˜¯éœ€è¦é…ç½®å»å¼€å¯è¯¥æ¥å£
ä¿®æ”¹é…ç½®
å°†Nacosé…ç½®æ–‡æ–‡ä»¶ï¼šapplication.propertiesä¸­ä¸‹è¡Œæ³¨é‡Šå–æ¶ˆ
é‡å¯Nacos
éªŒè¯æŒ‡æ ‡
nacos-metricsnacos-metrics
é…ç½®é¢æ¿
nacos-grafana...</summary>
    <content type="html"><![CDATA[<!-- more -->
<p>Nacosæ”¯æŒPrometheus metricsï¼Œæ¥å£åœ°å€ï¼š/nacos/actuator/prometheusã€‚ ä½†æ˜¯éœ€è¦é…ç½®å»å¼€å¯è¯¥æ¥å£</p>
<h2>ä¿®æ”¹é…ç½®</h2>
<p>å°†Nacosé…ç½®æ–‡æ–‡ä»¶ï¼šapplication.propertiesä¸­ä¸‹è¡Œæ³¨é‡Šå–æ¶ˆ</p>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>management.endpoints.web.exposure.include=*
</code></pre></div><h2>é‡å¯Nacos</h2>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sh</span> bin/shutdown.sh
<span class="token function">sh</span> bin/startup.sh <span class="token parameter variable">-m</span> standalone
</code></pre></div><h2>éªŒè¯æŒ‡æ ‡</h2>
<figure><figcaption>nacos-metrics</figcaption></figure>
<h2>é…ç½®é¢æ¿</h2>
<figure><figcaption>nacos-grafana</figcaption></figure>
]]></content>
    <category term="æ•°æ®å­˜å‚¨"/>
    <published>2024-05-29T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">sync.Mapåº•å±‚åŸç†</title>
    <id>http://blog.cjhe.top/language/go/advance/sync-map.html</id>
    <link href="http://blog.cjhe.top/language/go/advance/sync-map.html"/>
    <updated>2024-10-10T12:23:49.000Z</updated>
    <summary type="text">Go è¯­è¨€åŸç”Ÿçš„mapæ˜¯éå¹¶å‘å®‰å…¨çš„ï¼Œåœ¨å¹¶å‘åœºæ™¯ä¸‹ï¼Œä½¿ç”¨mapå¯èƒ½ä¼šå¯¼è‡´æ•°æ®ç«äº‰å’Œpanicã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒGo è¯­è¨€æä¾›äº†sync.Mapï¼Œå®ƒæ˜¯ä¸€ä¸ªå¹¶å‘å®‰å…¨çš„mapã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨sync.Mapçš„åº•å±‚å®ç°åŸç†ï¼Œä»¥ä¾¿æ›´å¥½åœ°ç†è§£å®ƒçš„å¹¶å‘å®‰å…¨ç‰¹æ€§ã€‚

åŸºæœ¬ç”¨æ³•
sync.Mapæä¾›äº†ä¸°å¯Œçš„APIï¼Œç”¨äºå¯¹mapçš„æŸ¥è¯¢ã€å­˜å‚¨ã€éå†ã€åˆ é™¤ç­‰æ“ä½œã€‚...</summary>
    <content type="html"><![CDATA[<!-- more -->
<blockquote>
<p>Go è¯­è¨€åŸç”Ÿçš„mapæ˜¯éå¹¶å‘å®‰å…¨çš„ï¼Œåœ¨å¹¶å‘åœºæ™¯ä¸‹ï¼Œä½¿ç”¨mapå¯èƒ½ä¼šå¯¼è‡´æ•°æ®ç«äº‰å’Œpanicã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒGo è¯­è¨€æä¾›äº†sync.Mapï¼Œå®ƒæ˜¯ä¸€ä¸ªå¹¶å‘å®‰å…¨çš„mapã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨sync.Mapçš„åº•å±‚å®ç°åŸç†ï¼Œä»¥ä¾¿æ›´å¥½åœ°ç†è§£å®ƒçš„å¹¶å‘å®‰å…¨ç‰¹æ€§ã€‚</p>
</blockquote>
<h2>åŸºæœ¬ç”¨æ³•</h2>
<p>sync.Mapæä¾›äº†ä¸°å¯Œçš„APIï¼Œç”¨äºå¯¹mapçš„æŸ¥è¯¢ã€å­˜å‚¨ã€éå†ã€åˆ é™¤ç­‰æ“ä½œã€‚</p>
<h3>å­˜å‚¨</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code>	<span class="token comment">// å­˜å‚¨</span>
	m<span class="token punctuation">.</span><span class="token function">Store</span><span class="token punctuation">(</span><span class="token string">"1"</span><span class="token punctuation">,</span> <span class="token string">"one"</span><span class="token punctuation">)</span>
	m<span class="token punctuation">.</span><span class="token function">Store</span><span class="token punctuation">(</span><span class="token string">"2"</span><span class="token punctuation">,</span> <span class="token string">"two"</span><span class="token punctuation">)</span>
</code></pre></div><h3>æŸ¥è¯¢</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code>	<span class="token comment">// æŸ¥è¯¢</span>
	one<span class="token punctuation">,</span> ok <span class="token operator">:=</span> m<span class="token punctuation">.</span><span class="token function">Load</span><span class="token punctuation">(</span><span class="token string">"1"</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> <span class="token operator">!</span>ok <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"key 1 not found"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>one<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
</code></pre></div><h3>éå†</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code>	<span class="token comment">// éå†</span>
	m<span class="token punctuation">.</span><span class="token function">Range</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value any<span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"key:"</span><span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token string">"value:"</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span>
		<span class="token keyword">return</span> <span class="token boolean">true</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="hint-container tip">
<p class="hint-container-title">æç¤º</p>
<p>Rangeå‚æ•°ä¼ é€’çš„æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªboolç±»å‹ï¼Œè¡¨ç¤ºæ˜¯å¦ç»§ç»­éå†ã€‚</p>
<ul>
<li>å¦‚æœæ˜¯trueï¼Œåˆ™ç»§ç»­éå†ã€‚</li>
<li>å¦‚æœæ˜¯falseï¼Œåˆ™ä¸ç»§ç»­éå†ã€‚</li>
</ul>
</div>
<h3>åˆ é™¤</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code>	<span class="token comment">// åˆ é™¤</span>
	m<span class="token punctuation">.</span><span class="token function">Delete</span><span class="token punctuation">(</span><span class="token string">"1"</span><span class="token punctuation">)</span>
	one<span class="token punctuation">,</span> ok <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">Load</span><span class="token punctuation">(</span><span class="token string">"1"</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> <span class="token operator">!</span>ok <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"key 1 not found"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>one<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
</code></pre></div><h3>æŸ¥è¯¢å¹¶è®¾ç½®é»˜è®¤å€¼</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code>	<span class="token comment">// æŸ¥è¯¢ï¼Œä¸å­˜åœ¨çš„æƒ…å†µä¸‹å­˜å‚¨é»˜è®¤å€¼</span>
	two<span class="token punctuation">,</span> loaded <span class="token operator">:=</span> m<span class="token punctuation">.</span><span class="token function">LoadOrStore</span><span class="token punctuation">(</span><span class="token string">"2"</span><span class="token punctuation">,</span> <span class="token string">"two"</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"three:"</span><span class="token punctuation">,</span> two<span class="token punctuation">,</span> <span class="token string">"loaded:"</span><span class="token punctuation">,</span> loaded<span class="token punctuation">)</span>
	three<span class="token punctuation">,</span> loaded <span class="token operator">:=</span> m<span class="token punctuation">.</span><span class="token function">LoadOrStore</span><span class="token punctuation">(</span><span class="token string">"3"</span><span class="token punctuation">,</span> <span class="token string">"three"</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"three:"</span><span class="token punctuation">,</span> three<span class="token punctuation">,</span> <span class="token string">"loaded:"</span><span class="token punctuation">,</span> loaded<span class="token punctuation">)</span>
</code></pre></div><h3>æŸ¥è¯¢å¹¶åˆ é™¤</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code>	<span class="token comment">// æŸ¥è¯¢å¹¶åˆ é™¤</span>
	three<span class="token punctuation">,</span> loaded <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">LoadAndDelete</span><span class="token punctuation">(</span><span class="token string">"3"</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"three:"</span><span class="token punctuation">,</span> three<span class="token punctuation">,</span> <span class="token string">"loaded:"</span><span class="token punctuation">,</span> loaded<span class="token punctuation">)</span>
	four<span class="token punctuation">,</span> loaded <span class="token operator">:=</span> m<span class="token punctuation">.</span><span class="token function">LoadAndDelete</span><span class="token punctuation">(</span><span class="token string">"4"</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"four:"</span><span class="token punctuation">,</span> four<span class="token punctuation">,</span> <span class="token string">"loaded:"</span><span class="token punctuation">,</span> loaded<span class="token punctuation">)</span>
</code></pre></div><h3>äº¤æ¢</h3>
<p>å…¶å®å°±æ˜¯æ›´æ–°</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code>	<span class="token comment">// äº¤æ¢</span>
	two<span class="token punctuation">,</span> loaded <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">Swap</span><span class="token punctuation">(</span><span class="token string">"2"</span><span class="token punctuation">,</span> <span class="token string">"double"</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"two:"</span><span class="token punctuation">,</span> two<span class="token punctuation">,</span> <span class="token string">"loaded:"</span><span class="token punctuation">,</span> loaded<span class="token punctuation">)</span>
	two<span class="token punctuation">,</span> ok <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">Load</span><span class="token punctuation">(</span><span class="token string">"2"</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>two<span class="token punctuation">,</span> ok<span class="token punctuation">)</span>
</code></pre></div><h3>æŒ‡å®šæ—§å€¼äº¤æ¢</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code>	<span class="token comment">// äº¤æ¢ï¼Œä»…å½“æ—§å€¼ç›¸åŒæ—¶æ‰è¿›è¡Œäº¤æ¢</span>
	result <span class="token operator">:=</span> m<span class="token punctuation">.</span><span class="token function">CompareAndSwap</span><span class="token punctuation">(</span><span class="token string">"2"</span><span class="token punctuation">,</span> <span class="token string">"two"</span><span class="token punctuation">,</span> <span class="token string">"double"</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
	result <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">CompareAndSwap</span><span class="token punctuation">(</span><span class="token string">"2"</span><span class="token punctuation">,</span> <span class="token string">"double"</span><span class="token punctuation">,</span> <span class="token string">"two"</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
</code></pre></div><p>ç›¸æ¯”è¾ƒSwapæ–¹æ³•ï¼ŒCompareAndSwapæ–¹æ³•å¤šäº†ä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°ç”¨äºæŒ‡å®šæ—§å€¼ã€‚ä»…å½“æ—§å€¼ä¸æŒ‡å®šçš„æ—§å€¼ç›¸åŒæ—¶ï¼Œæ‰ä¼šè¿›è¡Œäº¤æ¢æ“ä½œã€‚</p>
<h2>åº•å±‚åŸç†</h2>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">type</span> Map <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	mu Mutex
	read atomic<span class="token punctuation">.</span>Pointer<span class="token punctuation">[</span>readOnly<span class="token punctuation">]</span>
	dirty <span class="token keyword">map</span><span class="token punctuation">[</span>any<span class="token punctuation">]</span><span class="token operator">*</span>entry
	misses <span class="token builtin">int</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å…¶ä¸­ï¼š</p>
<ul>
<li><strong>mu</strong>ï¼šç”¨äºä¿æŠ¤<code>dirty</code>çš„äº’æ–¥é”ã€‚</li>
<li><strong>read</strong>ï¼šåªè¯»çš„mapï¼Œä½¿ç”¨åŸå­æ“ä½œï¼Œå› æ­¤å¯ä»¥æ— é”çš„å¹¶å‘è®¿é—®ï¼Œå…¶åº•å±‚åˆ™å¯¹åº”<code>readOnly</code>ã€‚</li>
<li><strong>dirty</strong>ï¼šå¯å†™çš„mapã€‚</li>
<li><strong>misses</strong>ï¼šä»readè¯»å–missæ¬¡æ•°ã€‚</li>
</ul>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">type</span> readOnly <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	m       <span class="token keyword">map</span><span class="token punctuation">[</span>any<span class="token punctuation">]</span><span class="token operator">*</span>entry
	amended <span class="token builtin">bool</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> entry <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	p atomic<span class="token punctuation">.</span>Pointer<span class="token punctuation">[</span>any<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>readOnly.amended</code>è¡¨ç¤º<code>dirty</code>ä¸­æ˜¯å¦å­˜åœ¨<code>read</code>ä¸­ä¸å­˜åœ¨çš„keyã€‚</p>
<h3>sync.Mapçš„æŸ¥è¯¢è¿‡ç¨‹</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>Map<span class="token punctuation">)</span> <span class="token function">Load</span><span class="token punctuation">(</span>key any<span class="token punctuation">)</span> <span class="token punctuation">(</span>value any<span class="token punctuation">,</span> ok <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	read <span class="token operator">:=</span> m<span class="token punctuation">.</span><span class="token function">loadReadOnly</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	e<span class="token punctuation">,</span> ok <span class="token operator">:=</span> read<span class="token punctuation">.</span>m<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
	<span class="token keyword">if</span> <span class="token operator">!</span>ok <span class="token operator">&amp;&amp;</span> read<span class="token punctuation">.</span>amended <span class="token punctuation">{</span>
		m<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		read <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">loadReadOnly</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		e<span class="token punctuation">,</span> ok <span class="token operator">=</span> read<span class="token punctuation">.</span>m<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
		<span class="token keyword">if</span> <span class="token operator">!</span>ok <span class="token operator">&amp;&amp;</span> read<span class="token punctuation">.</span>amended <span class="token punctuation">{</span>
			e<span class="token punctuation">,</span> ok <span class="token operator">=</span> m<span class="token punctuation">.</span>dirty<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
			m<span class="token punctuation">.</span><span class="token function">missLocked</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
		m<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token operator">!</span>ok <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> <span class="token boolean">false</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> e<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æˆ‘ä»¬çœ‹åˆ°ï¼Œsync.Mapçš„æŸ¥è¯¢è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>é¦–å…ˆå°è¯•ä»<code>read</code>è¯»å–ã€‚</li>
<li>åŠ é”ï¼Œå†æ¬¡ä»<code>read</code>ä¸­äºŒæ¬¡æ£€æŸ¥ã€‚</li>
<li>å¦‚æœ<code>read</code>ä¸­æ²¡æœ‰æ‰¾åˆ°ï¼Œå¹¶ä¸”<code>dirty</code>ä¸­å­˜åœ¨è¯¥keyï¼Œåˆ™ä»<code>dirty</code>ä¸­è¯»å–ã€‚</li>
<li>å¦‚æœ<code>read</code>å’Œ<code>dirty</code>éƒ½æ²¡æœ‰æ‰¾åˆ°ï¼Œè¿”å›nilã€‚</li>
</ol>
<div class="hint-container tip">
<p class="hint-container-title">æç¤º</p>
<ul>
<li>
<p>ç¬¬6è¡Œï¼Œè¿›è¡ŒäºŒæ¬¡æ£€æŸ¥ã€‚å› ä¸ºå¯èƒ½æœ‰å…¶ä»–çº¿ç¨‹å·²ç»åœ¨readæ·»åŠ äº†å¯¹åº”çš„keyï¼Œéœ€è¦double checkï¼ŒäºŒæ¬¡æ£€æŸ¥åœ¨syncåŒ…ä¸­ç»å¸¸ä¼šçœ‹åˆ°ï¼Œæˆ‘ä»¬ä¹Ÿä¼šåœ¨å•ä¾‹è®¾è®¡æ¨¡å¼å€Ÿé‰´è¯¥æ–¹æ³•ã€‚</p>
</li>
<li>
<p>æˆ‘ä»¬ä¹Ÿçœ‹åˆ°<code>read.amended</code>å­—æ®µå­˜åœ¨çš„ä»·å€¼ï¼Œå¿…è¦çš„æ•°æ®å†—ä½™ä¼šå¸¦æ¥å¤æ‚è¯»çš„é™ä½ï¼Œå€¼å¾—å­¦ä¹ ã€‚</p>
</li>
<li>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¦‚æœå¯ä»¥ä»<code>read</code>æŸ¥è¯¢åˆ°æ•°æ®ï¼Œæ•´ä¸ªè¿‡ç¨‹æ˜¯å¯ä»¥ä¸ç”¨åŠ é”çš„ã€‚</p>
</li>
</ul>
</div>
<p>è¿™é‡Œéœ€è¦å…³æ³¨<code>missLocked</code>æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ç”¨äºè®°å½•missæ¬¡æ•°ã€‚</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>Map<span class="token punctuation">)</span> <span class="token function">missLocked</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	m<span class="token punctuation">.</span>misses<span class="token operator">++</span>
	<span class="token keyword">if</span> m<span class="token punctuation">.</span>misses <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>dirty<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>
	m<span class="token punctuation">.</span>read<span class="token punctuation">.</span><span class="token function">Store</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>readOnly<span class="token punctuation">{</span>m<span class="token punctuation">:</span> m<span class="token punctuation">.</span>dirty<span class="token punctuation">}</span><span class="token punctuation">)</span>
	m<span class="token punctuation">.</span>dirty <span class="token operator">=</span> <span class="token boolean">nil</span>
	m<span class="token punctuation">.</span>misses <span class="token operator">=</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="hint-container warning">
<p class="hint-container-title">æ³¨æ„</p>
<p>æˆ‘ä»¬çœ‹åˆ°å¦‚æœä»<code>read</code>ä¸­æŸ¥ä¸åˆ°æ•°æ®çš„<code>miss</code>æ¬¡æ•°å¦‚æœè¶…è¿‡äº†<code>dirty</code>çš„é•¿åº¦ï¼Œå°±ä¼šå°†<code>dirty</code>æå‡ä¸º<code>read</code>ã€‚</p>
</div>
<h3>sync.Mapçš„å­˜å‚¨è¿‡ç¨‹</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>Map<span class="token punctuation">)</span> <span class="token function">Store</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value any<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token boolean">_</span><span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">Swap</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å…¶åº•å±‚è°ƒç”¨çš„æ˜¯Swapæ–¹æ³•ï¼Œæˆ‘ä»¬ç»§ç»­è·Ÿè¿›</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>Map<span class="token punctuation">)</span> <span class="token function">Swap</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value any<span class="token punctuation">)</span> <span class="token punctuation">(</span>previous any<span class="token punctuation">,</span> loaded <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	read <span class="token operator">:=</span> m<span class="token punctuation">.</span><span class="token function">loadReadOnly</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> e<span class="token punctuation">,</span> ok <span class="token operator">:=</span> read<span class="token punctuation">.</span>m<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span> ok <span class="token punctuation">{</span>
		<span class="token keyword">if</span> v<span class="token punctuation">,</span> ok <span class="token operator">:=</span> e<span class="token punctuation">.</span><span class="token function">trySwap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> ok <span class="token punctuation">{</span>
			<span class="token keyword">if</span> v <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> <span class="token boolean">false</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> <span class="token operator">*</span>v<span class="token punctuation">,</span> <span class="token boolean">true</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	m<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	read <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">loadReadOnly</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> e<span class="token punctuation">,</span> ok <span class="token operator">:=</span> read<span class="token punctuation">.</span>m<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span> ok <span class="token punctuation">{</span>
		<span class="token keyword">if</span> e<span class="token punctuation">.</span><span class="token function">unexpungeLocked</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			m<span class="token punctuation">.</span>dirty<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> e
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> v <span class="token operator">:=</span> e<span class="token punctuation">.</span><span class="token function">swapLocked</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> v <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
			loaded <span class="token operator">=</span> <span class="token boolean">true</span>
			previous <span class="token operator">=</span> <span class="token operator">*</span>v
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> e<span class="token punctuation">,</span> ok <span class="token operator">:=</span> m<span class="token punctuation">.</span>dirty<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span> ok <span class="token punctuation">{</span>
		<span class="token keyword">if</span> v <span class="token operator">:=</span> e<span class="token punctuation">.</span><span class="token function">swapLocked</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> v <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
			loaded <span class="token operator">=</span> <span class="token boolean">true</span>
			previous <span class="token operator">=</span> <span class="token operator">*</span>v
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token operator">!</span>read<span class="token punctuation">.</span>amended <span class="token punctuation">{</span>
			m<span class="token punctuation">.</span><span class="token function">dirtyLocked</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			m<span class="token punctuation">.</span>read<span class="token punctuation">.</span><span class="token function">Store</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>readOnly<span class="token punctuation">{</span>m<span class="token punctuation">:</span> read<span class="token punctuation">.</span>m<span class="token punctuation">,</span> amended<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
		m<span class="token punctuation">.</span>dirty<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">newEntry</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	m<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> previous<span class="token punctuation">,</span> loaded
<span class="token punctuation">}</span>
</code></pre></div><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œsync.Mapçš„å­˜å‚¨è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>é¦–å…ˆå°è¯•ä»<code>read</code>è¯»å–ã€‚</li>
<li>å¦‚æœ<code>read</code>ä¸­æ‰¾åˆ°äº†ï¼Œåˆ™ç›´æ¥æ›´æ–°ã€‚ç”±äº<code>read</code>å’Œ<code>dirty</code>ç›¸åŒçš„keyå¼•ç”¨äº†åŒä¸€ä¸ª<code>entry</code>ï¼Œå› æ­¤å¯¹<code>read</code>çš„ä¿®æ”¹ï¼Œ<code>dirty</code>ä¹Ÿä¼šç”Ÿæ•ˆã€‚å› æ­¤å¯ä»¥ç›´æ¥é€€å‡ºã€‚</li>
<li>å¦‚æœ<code>read</code>ä¸­æ‰¾ä¸åˆ°ï¼Œdouble check readã€‚</li>
<li>å¦‚æœ<code>dirty</code>æ‰¾åˆ°ï¼Œåˆ™ç›´æ¥æ›´æ–°ã€‚</li>
<li>å¦‚æœ<code>read</code>å’Œ<code>dirty</code>å‡æ‰¾ä¸åˆ°ï¼Œç›´æ¥å­˜å‚¨åœ¨dirtyä¸­ã€‚</li>
</ol>
<p>è¿™é‡Œéœ€è¦å…³æ³¨ä¸€ä¸‹<code>dirtyLocked</code>æ–¹æ³•</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>Map<span class="token punctuation">)</span> <span class="token function">dirtyLocked</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> m<span class="token punctuation">.</span>dirty <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>

	read <span class="token operator">:=</span> m<span class="token punctuation">.</span><span class="token function">loadReadOnly</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	m<span class="token punctuation">.</span>dirty <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span>any<span class="token punctuation">]</span><span class="token operator">*</span>entry<span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>read<span class="token punctuation">.</span>m<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">for</span> k<span class="token punctuation">,</span> e <span class="token operator">:=</span> <span class="token keyword">range</span> read<span class="token punctuation">.</span>m <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token operator">!</span>e<span class="token punctuation">.</span><span class="token function">tryExpungeLocked</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			m<span class="token punctuation">.</span>dirty<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> e
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="hint-container note">
<p class="hint-container-title">æ³¨</p>
<p>è¯¥æ–¹æ³•å¦‚ä½•å‘ç°<code>dirty</code>ä¸ºnilï¼Œåˆ™å°†<code>read</code>æ‹·è´è‡³<code>dirty</code>ä¸­</p>
</div>
<h3>sync.Mapçš„åˆ é™¤è¿‡ç¨‹</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>Map<span class="token punctuation">)</span> <span class="token function">Delete</span><span class="token punctuation">(</span>key any<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	m<span class="token punctuation">.</span><span class="token function">LoadAndDelete</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å…¶åº•å±‚è°ƒç”¨äº†LoadAndDeleteæ–¹æ³•ï¼Œæˆ‘ä»¬ç»§ç»­è·Ÿè¿›</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>Map<span class="token punctuation">)</span> <span class="token function">LoadAndDelete</span><span class="token punctuation">(</span>key any<span class="token punctuation">)</span> <span class="token punctuation">(</span>value any<span class="token punctuation">,</span> loaded <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	read <span class="token operator">:=</span> m<span class="token punctuation">.</span><span class="token function">loadReadOnly</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	e<span class="token punctuation">,</span> ok <span class="token operator">:=</span> read<span class="token punctuation">.</span>m<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
	<span class="token keyword">if</span> <span class="token operator">!</span>ok <span class="token operator">&amp;&amp;</span> read<span class="token punctuation">.</span>amended <span class="token punctuation">{</span>
		m<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		read <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">loadReadOnly</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		e<span class="token punctuation">,</span> ok <span class="token operator">=</span> read<span class="token punctuation">.</span>m<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
		<span class="token keyword">if</span> <span class="token operator">!</span>ok <span class="token operator">&amp;&amp;</span> read<span class="token punctuation">.</span>amended <span class="token punctuation">{</span>
			e<span class="token punctuation">,</span> ok <span class="token operator">=</span> m<span class="token punctuation">.</span>dirty<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
			<span class="token function">delete</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>dirty<span class="token punctuation">,</span> key<span class="token punctuation">)</span>
			m<span class="token punctuation">.</span><span class="token function">missLocked</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
		m<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> ok <span class="token punctuation">{</span>
		<span class="token keyword">return</span> e<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œsync.Mapçš„åˆ é™¤è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>é¦–å…ˆå°è¯•ä»<code>read</code>è¯»å–ï¼Œå¦‚æœ<code>read</code>ä¸­æ‰¾åˆ°äº†ï¼Œåˆ™ç›´æ¥åˆ é™¤ã€‚</li>
<li>å¦‚æœ<code>read</code>ä¸­æ‰¾ä¸åˆ°ï¼Œå¹¶ä¸”å­˜åœ¨keyåœ¨dirtyä¸­ï¼Œdouble check readã€‚</li>
<li>å¦‚æœ<code>dirty</code>æ‰¾åˆ°ï¼Œåˆ™ç›´æ¥åˆ é™¤ã€‚å¦‚æœ<code>read</code>ä¸­æ‰¾åˆ°äº†ï¼Œåˆ™ç›´æ¥åˆ é™¤ã€‚</li>
<li>å¦‚æœ<code>read</code>å’Œ<code>dirty</code>å‡æ‰¾ä¸åˆ°ï¼Œç›´æ¥è¿”å›ã€‚</li>
</ol>
<div class="hint-container tip">
<p class="hint-container-title">æç¤º</p>
<p>ç¬¬16è¡Œï¼Œç”±äº<code>read</code>å’Œ<code>dirty</code>ç›¸åŒçš„keyå¼•ç”¨äº†åŒä¸€ä¸ª<code>entry</code>ï¼Œå› æ­¤å¯¹<code>read</code>çš„ä¿®æ”¹ï¼Œ<code>dirty</code>ä¹Ÿä¼šç”Ÿæ•ˆã€‚</p>
</div>
<h3>sync.Mapçš„éå†è¿‡ç¨‹</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>Map<span class="token punctuation">)</span> <span class="token function">Range</span><span class="token punctuation">(</span>f <span class="token keyword">func</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value any<span class="token punctuation">)</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	read <span class="token operator">:=</span> m<span class="token punctuation">.</span><span class="token function">loadReadOnly</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> read<span class="token punctuation">.</span>amended <span class="token punctuation">{</span>
		m<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		read <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">loadReadOnly</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token keyword">if</span> read<span class="token punctuation">.</span>amended <span class="token punctuation">{</span>
			read <span class="token operator">=</span> readOnly<span class="token punctuation">{</span>m<span class="token punctuation">:</span> m<span class="token punctuation">.</span>dirty<span class="token punctuation">}</span>
			copyRead <span class="token operator">:=</span> read
			m<span class="token punctuation">.</span>read<span class="token punctuation">.</span><span class="token function">Store</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>copyRead<span class="token punctuation">)</span>
			m<span class="token punctuation">.</span>dirty <span class="token operator">=</span> <span class="token boolean">nil</span>
			m<span class="token punctuation">.</span>misses <span class="token operator">=</span> <span class="token number">0</span>
		<span class="token punctuation">}</span>
		m<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">for</span> k<span class="token punctuation">,</span> e <span class="token operator">:=</span> <span class="token keyword">range</span> read<span class="token punctuation">.</span>m <span class="token punctuation">{</span>
		v<span class="token punctuation">,</span> ok <span class="token operator">:=</span> e<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token keyword">if</span> <span class="token operator">!</span>ok <span class="token punctuation">{</span>
			<span class="token keyword">continue</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token operator">!</span><span class="token function">f</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">break</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="hint-container note">
<p class="hint-container-title">æ³¨</p>
<p>æˆ‘ä»¬æ³¨æ„åˆ°ï¼Œ7-11è¡Œï¼Œä¼šå°†dirtyå¤åˆ¶åˆ°readä¸­ï¼Œå¹¶ä¸”å°†dirtyç½®ä¸ºnilã€‚</p>
</div>
<h2>å‚è€ƒæ–‡çŒ®</h2>
<ul>
<li><a href="https://juejin.cn/post/7156957188840226829" target="_blank" rel="noopener noreferrer">æ·±å…¥ç†è§£ Go sync.map</a></li>
<li><a href="https://www.cnblogs.com/qcrao-2018/p/12833787.html" target="_blank" rel="noopener noreferrer">æ·±åº¦è§£å¯† Go è¯­è¨€ä¹‹ sync.map</a></li>
<li><a href="https://blog.baiguiren.com/2023/01/17/golang/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20go%20sync.Map%20-%20%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86/" target="_blank" rel="noopener noreferrer">æ·±å…¥ç†è§£ go sync.Map - åŸºæœ¬åŸç†</a></li>
<li><a href="https://blog.baiguiren.com/2023/01/18/golang/go%20sync.Map%20%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/" target="_blank" rel="noopener noreferrer">go sync.Map è®¾è®¡ä¸å®ç°</a></li>
</ul>
]]></content>
    <category term="ç¼–ç¨‹è¯­è¨€"/>
    <published>2024-05-27T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">å¦‚ä½•ç¦æ­¢æ‹·è´</title>
    <id>http://blog.cjhe.top/language/go/advance/no-copy.html</id>
    <link href="http://blog.cjhe.top/language/go/advance/no-copy.html"/>
    <updated>2024-10-10T12:23:49.000Z</updated>
    <summary type="text">ç¦æ­¢æ‹·è´çš„ç›®çš„æ˜¯ä¸è®©ç”¨æˆ·å¯¹å¯¹è±¡è¿›è¡Œæ‹·è´ï¼Œæ¯”å¦‚ï¼šsync.WaitGroup

é‚£ä¹ˆGoè¯­è¨€æ˜¯å¦‚ä½•ç¦æ­¢æ‹·è´çš„å‘¢ï¼Ÿ
WaitGroupä¸ºä½•ç¦æ­¢æ‹·è´
è¿˜æ˜¯ä»¥sync.WaitGroupä¸ºä¾‹ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å®ƒçš„æºç ï¼š
æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œsync.WaitGroupç»“æ„ä½“ä¸­æœ‰ä¸€ä¸ªnoCopyçš„åŒ¿åç»“æ„ä½“ï¼Œå¹¶ä¸”å®ç°äº†Lockå’ŒUnlockæ–¹æ³•ã€‚é€šè¿‡å†…åµŒäº†noCopyï¼Œs...</summary>
    <content type="html"><![CDATA[<!-- more -->
<blockquote>
<p>ç¦æ­¢æ‹·è´çš„ç›®çš„æ˜¯ä¸è®©ç”¨æˆ·å¯¹å¯¹è±¡è¿›è¡Œæ‹·è´ï¼Œæ¯”å¦‚ï¼šsync.WaitGroup</p>
</blockquote>
<p>é‚£ä¹ˆGoè¯­è¨€æ˜¯å¦‚ä½•ç¦æ­¢æ‹·è´çš„å‘¢ï¼Ÿ</p>
<h2>WaitGroupä¸ºä½•ç¦æ­¢æ‹·è´</h2>
<p>è¿˜æ˜¯ä»¥sync.WaitGroupä¸ºä¾‹ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å®ƒçš„æºç ï¼š</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">type</span> WaitGroup <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    noCopy noCopy
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

<span class="token comment">// noCopy may be added to structs which must not be copied</span>
<span class="token comment">// after the first use.</span>
<span class="token comment">//</span>
<span class="token comment">// See https://golang.org/issues/8005#issuecomment-190753527</span>
<span class="token comment">// for details.</span>
<span class="token comment">//</span>
<span class="token comment">// Note that it must not be embedded, due to the Lock and Unlock methods.</span>
<span class="token keyword">type</span> noCopy <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// Lock is a no-op used by -copylocks checker from `go vet`.</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span><span class="token operator">*</span>noCopy<span class="token punctuation">)</span> <span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span><span class="token operator">*</span>noCopy<span class="token punctuation">)</span> <span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ<code>sync.WaitGroup</code>ç»“æ„ä½“ä¸­æœ‰ä¸€ä¸ª<code>noCopy</code>çš„åŒ¿åç»“æ„ä½“ï¼Œå¹¶ä¸”å®ç°äº†<code>Lock</code>å’Œ<code>Unlock</code>æ–¹æ³•ã€‚é€šè¿‡å†…åµŒäº†<code>noCopy</code>ï¼Œsync.WaitGroupå°±ç¦æ­¢äº†æ‹·è´ã€‚</p>
<p>å…¶å®åŸç†å¾ˆç®€å•ï¼Œå°±æ˜¯é€šè¿‡<code>go vet</code>æ£€æŸ¥ï¼Œå¦‚æœå‘ç°ç»“æ„ä½“ä¸­åŒ…å«<code>noCopy</code>ï¼Œå°±ä¼šæç¤ºç¦æ­¢æ‹·è´ã€‚</p>
<h2>è‡ªå·±å®ç°ç¦æ­¢æ‹·è´</h2>
<p>é‚£ä¹ˆæˆ‘ä»¬å®šä¹‰è‡ªå·±çš„ç»“æ„ä½“ï¼ŒéªŒè¯æ˜¯å¦èƒ½å¤Ÿç¦æ­¢æ‹·è´</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">type</span> Demo <span class="token keyword">struct</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span><span class="token operator">*</span>Demo<span class="token punctuation">)</span> <span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span><span class="token operator">*</span>Demo<span class="token punctuation">)</span> <span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">Copy</span><span class="token punctuation">(</span>d Demo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	d <span class="token operator">:=</span> Demo<span class="token punctuation">{</span><span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%+v"</span><span class="token punctuation">,</span> d<span class="token punctuation">)</span>
	<span class="token function">Copy</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>
	d2 <span class="token operator">:=</span> d
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%+v"</span><span class="token punctuation">,</span> d2<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><details class="hint-container details"><summary>æ‰§è¡Œç»“æœ</summary>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>$ go run main.go
{}{}
</code></pre></div></details>
<p>è¿è¡Œç»“æœä¾ç„¶æ˜¯æ­£å¸¸çš„ï¼Œä½†æ˜¯æˆ‘ä»¬é€šè¿‡<code>go vet</code>æ£€æŸ¥ä¸€ä¸‹ï¼š</p>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>$ go vet .\main.go
# command-line-arguments
# [command-line-arguments]
.\main.go:11:13: Copy passes lock by value: command-line-arguments.Demo
.\main.go:16:20: call of fmt.Printf copies lock value: command-line-arguments.Demo
.\main.go:17:7: call of Copy copies lock value: command-line-arguments.Demo
.\main.go:18:8: assignment copies lock value to d2: command-line-arguments.Demo
.\main.go:19:20: call of fmt.Printf copies lock value: command-line-arguments.Demo
</code></pre></div><p>æˆ‘ä»¬çœ‹åˆ°go vetæç¤ºäº†5ä¸ªcommand-line-arguments.noCopyé—®é¢˜ï¼š</p>
<ul>
<li>ç¬¬11è¡Œï¼Œå®šä¹‰Copyå‡½æ•°ä¼ å‚ï¼Œæœ¬è´¨æ˜¯å¯¹è±¡æ‹·è´ï¼›</li>
<li>ç¬¬16è¡Œï¼Œfmt.Printfå‡½æ•°è°ƒç”¨ï¼Œæœ¬è´¨æ˜¯å¯¹è±¡æ‹·è´ï¼›</li>
<li>ç¬¬17è¡Œï¼ŒCopyå‡½æ•°è°ƒç”¨ï¼Œæœ¬è´¨æ˜¯å¯¹è±¡æ‹·è´ï¼›</li>
<li>ç¬¬18è¡Œï¼Œdèµ‹å€¼ç»™d2ï¼Œä¹Ÿæ˜¯æ‹·è´ï¼›</li>
<li>ç¬¬19è¡Œï¼Œfmt.Printfå‡½æ•°è°ƒç”¨ï¼Œæœ¬è´¨æ˜¯å‚æ•°æ‹·è´ã€‚</li>
</ul>
<h2>æ€»ç»“</h2>
<p>è¦æƒ³ç¦æ­¢æ‹·è´ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªç»“æ„ä½“ï¼Œåªéœ€å®ç°<code>Lock</code>æ–¹æ³•å’Œ<code>Unlock</code>æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">type</span> Demo <span class="token keyword">struct</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span><span class="token operator">*</span>Demo<span class="token punctuation">)</span> <span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span><span class="token operator">*</span>Demo<span class="token punctuation">)</span> <span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><p>æˆ–è€…ç±»ä¼¼<code>sync.WaitGroup</code>å†…åµŒ<code>noCopy</code>ç»“æ„ä½“ã€‚æ¨èä½¿ç”¨è¯¥æ–¹å¼ï¼</p>
<p>è¦æƒ³æ£€æµ‹è‡ªå·±æ˜¯å¦æ‹·è´äº†ç¦æ­¢æ‹·è´çš„ç»“æ„ä½“ï¼Œå¯ä»¥ä½¿ç”¨<code>go vet</code>å‘½ä»¤ï¼Œè¯¥å‘½ä»¤ä¼šæ£€æµ‹å‡º<code>noCopy</code>ç»“æ„ä½“çš„é—®é¢˜ã€‚</p>
]]></content>
    <category term="ç¼–ç¨‹è¯­è¨€"/>
    <published>2024-05-24T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">Minio</title>
    <id>http://blog.cjhe.top/database/minio/</id>
    <link href="http://blog.cjhe.top/database/minio/"/>
    <updated>2024-05-20T03:37:50.000Z</updated>
    <content type="html"><![CDATA[<!-- more -->
]]></content>
    <category term="æ•°æ®å­˜å‚¨"/>
    <published>2024-05-20T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">MongoDB</title>
    <id>http://blog.cjhe.top/database/mongodb/</id>
    <link href="http://blog.cjhe.top/database/mongodb/"/>
    <updated>2024-05-20T03:37:50.000Z</updated>
    <content type="html"><![CDATA[<!-- more -->
]]></content>
    <category term="æ•°æ®å­˜å‚¨"/>
    <published>2024-05-20T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">ä½¿ç”¨Makefileå’ŒHelm-Dashobardä¸¤æ­¥å®ç°k8sæœåŠ¡å¤šç¯å¢ƒæ›´æ–°</title>
    <id>http://blog.cjhe.top/devops/k8s/makefile-deploy.html</id>
    <link href="http://blog.cjhe.top/devops/k8s/makefile-deploy.html"/>
    <updated>2024-08-27T02:59:10.000Z</updated>
    <summary type="html"><![CDATA[<h2>èƒŒæ™¯</h2>
<p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦é¢‘ç¹çš„æ›´æ–°k8sæœåŠ¡ï¼Œå¦‚æœæ¯æ¬¡æ›´æ–°éƒ½éœ€è¦æ‰‹åŠ¨æ‰§è¡Œä¸€ç³»åˆ—çš„å‘½ä»¤ï¼Œé‚£å°†ä¼šéå¸¸ç¹çã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§è‡ªåŠ¨åŒ–çš„æ–¹å¼æ¥æ›´æ–°k8sæœåŠ¡ã€‚</p>
<h2>è§£å†³æ–¹æ¡ˆ</h2>
<p>ä½¿ç”¨Makefileæ¥å®šä¹‰æ›´æ–°k8sæœåŠ¡çš„æµç¨‹ï¼Œå¹¶ä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·ï¼ˆå¦‚gitã€dockerç­‰ï¼‰æ¥æ‰§è¡ŒMakefileä¸­çš„å‘½ä»¤ã€‚è¿™æ ·ï¼Œæ¯æ¬¡æ›´æ–°æœåŠ¡æ—¶ï¼Œåªéœ€è¦æ‰§è¡Œä¸€æ¡å‘½ä»¤å³å¯å®Œæˆæ›´æ–°æ“ä½œã€‚</p>
]]></summary>
    <content type="html"><![CDATA[<h2>èƒŒæ™¯</h2>
<p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦é¢‘ç¹çš„æ›´æ–°k8sæœåŠ¡ï¼Œå¦‚æœæ¯æ¬¡æ›´æ–°éƒ½éœ€è¦æ‰‹åŠ¨æ‰§è¡Œä¸€ç³»åˆ—çš„å‘½ä»¤ï¼Œé‚£å°†ä¼šéå¸¸ç¹çã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§è‡ªåŠ¨åŒ–çš„æ–¹å¼æ¥æ›´æ–°k8sæœåŠ¡ã€‚</p>
<h2>è§£å†³æ–¹æ¡ˆ</h2>
<p>ä½¿ç”¨Makefileæ¥å®šä¹‰æ›´æ–°k8sæœåŠ¡çš„æµç¨‹ï¼Œå¹¶ä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·ï¼ˆå¦‚gitã€dockerç­‰ï¼‰æ¥æ‰§è¡ŒMakefileä¸­çš„å‘½ä»¤ã€‚è¿™æ ·ï¼Œæ¯æ¬¡æ›´æ–°æœåŠ¡æ—¶ï¼Œåªéœ€è¦æ‰§è¡Œä¸€æ¡å‘½ä»¤å³å¯å®Œæˆæ›´æ–°æ“ä½œã€‚</p>
<!-- more -->
<h2>å…·ä½“å®ç°</h2>
<h3>å®šä¹‰åŸºç¡€çš„å˜é‡</h3>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token assign-left variable">APP_NAME</span><span class="token operator">=</span>hhm-disposal
<span class="token assign-left variable">DOCKER_HARBOR</span><span class="token operator">=</span><span class="token number">127.0</span>.0.1:8760
GIT_VERSION <span class="token operator">=</span> <span class="token variable"><span class="token variable">$(</span>shell <span class="token function">git</span> describe <span class="token parameter variable">--tags</span><span class="token variable">)</span></span>
envs <span class="token operator">=</span> prod pre
</code></pre></div><ul>
<li>DOCKER_HARBORæ˜¯é•œåƒä»“åº“docker hubçš„åœ°å€</li>
<li>envsæ˜¯å¤šä¸ªç¯å¢ƒï¼Œå› ä¸ºæˆ‘ä»¬åœ¨k8sç¯å¢ƒéƒ¨ç½²å¤šä¸ªç¯å¢ƒï¼Œå¦‚ç”Ÿäº§ç¯å¢ƒã€é¢„å‘å¸ƒç¯å¢ƒç­‰</li>
<li>GIT_VERSIONæ˜¯å½“å‰gitä»“åº“çš„ç‰ˆæœ¬å·</li>
</ul>
<h3>docker build</h3>
<p>æ„å»ºæœ¬åœ°é•œåƒ</p>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>docker-build:
	docker build -t $(DOCKER_HARBOR)/idata/$(APP_NAME):$(GIT_VERSION) .
</code></pre></div><h3>docker push</h3>
<p>æ¨é€æœ¬åœ°é•œåƒè‡³docker hub</p>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>docker-push:
	docker push $(DOCKER_HARBOR)/idata/$(APP_NAME):$(GIT_VERSION)
</code></pre></div><h3>helm package</h3>
<p>helmæ‰“åŒ…æœ¬åœ°chartåŒ…ï¼Œç”±äºæˆ‘ä»¬è¦åŸºäºä¸€ä¸ªdockeré•œåƒéƒ¨ç½²åœ¨ä¸åŒçš„ç¯å¢ƒï¼Œå› æ­¤è¿™é‡Œä¼šæœ‰å¤šä¸ªç¯å¢ƒçš„chartåŒ…</p>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>helm-package:
	@for env in $(envs);\
		do echo 'helm package' $$env;\
		cp deployments/disposal/env/$$env/values.yaml deployments/disposal/values.yaml;\
		cp deployments/disposal/env/$$env/Chart.yaml deployments/disposal/Chart.yaml;\
		cp config/config.$$env.toml deployments/disposal/config/config.local.toml;\
		helm lint --strict deployments/disposal;\
		helm package deployments/disposal --version $(GIT_VERSION) --app-version $(GIT_VERSION);\
	done
</code></pre></div><h3>helm push</h3>
<p>helmæ¨é€chartåŒ…è‡³chartä»“åº“</p>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>helm-push: 
	@for env in $(envs);\
		do echo 'helm push' $$env;\
		helm cm-push disposal-$$env-$(GIT_VERSION).tgz hhm;\
	dones
</code></pre></div><h3>helm clean</h3>
<p>æ¸…ç†æœ¬åœ°çš„chartåŒ…æ–‡ä»¶</p>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>helm-clean: 
	@for env in $(envs);\
		do echo 'helm clean' $$env;\
		rm -rf disposal-$$env-$(GIT_VERSION).tgz;\
	done
</code></pre></div><h3>ä¸²é€šä»¥ä¸Šå‘½ä»¤</h3>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>k8s: docker-build docker-push helm-package helm-push helm-clean
</code></pre></div><p>è¿™æ ·æˆ‘ä»¬åªéœ€è¦æ‰§è¡Œ<code>make k8s</code>å°±å¯ä»¥å°†è¿™äº›ç¹æ‚çš„å‘½ä»¤ä¸²é€šèµ·æ¥ã€‚</p>
<h2>ä¸¤æ­¥å®Œæˆk8sæœåŠ¡æ›´æ–°</h2>
<p>ç¬¬ä¸€æ­¥ï¼šé€šè¿‡Makefileçš„<code>make k8s</code>å®ç°é•œåƒçš„æ„å»ºã€é•œåƒçš„æ¨é€ã€chartåŒ…çš„æ„å»ºã€chartåŒ…çš„æ¨é€ï¼›
ç¬¬äºŒæ­¥ï¼šé€šè¿‡helm-dashboardè¿›è¡ŒæœåŠ¡çš„æ›´æ–°ï¼›</p>
<h2>æ²‰æ·€çš„Makefileè„šæœ¬</h2>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>APP_NAME=hhm-disposal
DOCKER_HARBOR=127.0.0.1:8760
GIT_VERSION = $(shell git describe --tags)
envs = prod pre

version:
	@echo $(GIT_VERSION)

k8s: docker-build docker-push helm-package helm-push helm-clean

lint:
	golangci-lint run ./...

build:
	GOOS=linux go build 

clean:
	go clean

swagger:
	swag init

docker-build:
	docker build -t $(DOCKER_HARBOR)/idata/$(APP_NAME):$(GIT_VERSION) .

docker-push:
	docker push $(DOCKER_HARBOR)/idata/$(APP_NAME):$(GIT_VERSION)

helm-package:
	@for env in $(envs);\
		do echo 'helm package' $$env;\
		cp deployments/disposal/env/$$env/values.yaml deployments/disposal/values.yaml;\
		cp deployments/disposal/env/$$env/Chart.yaml deployments/disposal/Chart.yaml;\
		cp config/config.$$env.toml deployments/disposal/config/config.local.toml;\
		helm lint --strict deployments/disposal;\
		helm package deployments/disposal --version $(GIT_VERSION) --app-version $(GIT_VERSION);\
	done

helm-push: 
	@for env in $(envs);\
		do echo 'helm push' $$env;\
		helm cm-push disposal-$$env-$(GIT_VERSION).tgz hhm;\
	done

helm-clean: 
	@for env in $(envs);\
		do echo 'helm clean' $$env;\
		rm -rf disposal-$$env-$(GIT_VERSION).tgz;\
	done
</code></pre></div>]]></content>
    <category term="devops"/>
    <published>2024-05-12T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">Helmä»“åº“chartmuseumç®€ä»‹</title>
    <id>http://blog.cjhe.top/devops/k8s/chartmuseum.html</id>
    <link href="http://blog.cjhe.top/devops/k8s/chartmuseum.html"/>
    <updated>2024-08-27T02:59:10.000Z</updated>
    <summary type="html"><![CDATA[<p>chartmuseumæ˜¯Helmçš„chartä»“åº“ï¼Œå®ƒæ”¯æŒå¤šç§å­˜å‚¨åç«¯ï¼Œå¦‚æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿã€Amazon S3ã€Google Cloud Storageã€Openstack Swiftã€Azure Blob Storageã€Minioç­‰ã€‚</p>
]]></summary>
    <content type="html"><![CDATA[<p>chartmuseumæ˜¯Helmçš„chartä»“åº“ï¼Œå®ƒæ”¯æŒå¤šç§å­˜å‚¨åç«¯ï¼Œå¦‚æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿã€Amazon S3ã€Google Cloud Storageã€Openstack Swiftã€Azure Blob Storageã€Minioç­‰ã€‚</p>
<!-- more -->
<h2>chartmuseum éƒ¨ç½²</h2>
<p>è¿™é‡Œé‡‡ç”¨dockeréƒ¨ç½²</p>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">--rm</span> <span class="token parameter variable">-it</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">-p</span> <span class="token number">8080</span>:8080 <span class="token punctuation">\</span>
  <span class="token parameter variable">-e</span> <span class="token assign-left variable">DEBUG</span><span class="token operator">=</span><span class="token number">1</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">-e</span> <span class="token assign-left variable">STORAGE</span><span class="token operator">=</span>local <span class="token punctuation">\</span>
  <span class="token parameter variable">-e</span> <span class="token assign-left variable">STORAGE_LOCAL_ROOTDIR</span><span class="token operator">=</span>/charts <span class="token punctuation">\</span>
  <span class="token parameter variable">-v</span> <span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>/charts:/charts <span class="token punctuation">\</span>
  ghcr.io/helm/chartmuseum:v0.16.1
</code></pre></div><h2>helm é…ç½®</h2>
<h3>å®‰è£…ä¾èµ–</h3>
<p>é…åˆè¯¥ä»“åº“éœ€è¦åœ¨æˆ‘ä»¬å®‰è£…çš„helmåŸºç¡€ä¸Šï¼Œå®‰è£…ç›¸å…³æ’ä»¶ helm-push (https://github.com/chartmuseum/helm-push)</p>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code>helm plugin <span class="token function">install</span> https://github.com/chartmuseum/helm-push
</code></pre></div><h3>é…ç½®ç¯å¢ƒ</h3>
<p>å°†ç§æœ‰ä»“åº“åŠ å…¥æœ¬åœ°</p>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code>helm repo <span class="token function">add</span> hhm http://127.0.0.1:8080
helm repo update
</code></pre></div><h2>æ¨é€ chart</h2>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code>helm cm-push disposal-v1.0.6.tgz hhm
</code></pre></div><h2>éªŒè¯ç‰ˆæœ¬</h2>
<p>æˆ‘ä»¬é€šè¿‡helm-dashboardæŸ¥çœ‹chartåŒ…æ˜¯å¦å·²æ›´æ–°</p>
<figure><figcaption>chartmuseum</figcaption></figure>
]]></content>
    <category term="devops"/>
    <published>2024-05-12T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">åäºŒè¦ç´ åº”ç”¨åŸåˆ™</title>
    <id>http://blog.cjhe.top/share/12factors.html</id>
    <link href="http://blog.cjhe.top/share/12factors.html"/>
    <updated>2024-05-11T07:09:37.000Z</updated>
    <summary type="html"><![CDATA[<p>ã€è½¬ã€‘<a href="https://12factor.net/zh_cn/" target="_blank" rel="noopener noreferrer">åŸæ–‡é“¾æ¥</a></p>
]]></summary>
    <content type="html"><![CDATA[<p>ã€è½¬ã€‘<a href="https://12factor.net/zh_cn/" target="_blank" rel="noopener noreferrer">åŸæ–‡é“¾æ¥</a></p>
<!-- more -->
<h2>ç®€ä»‹</h2>
<p>å¦‚ä»Šï¼Œè½¯ä»¶é€šå¸¸ä¼šä½œä¸ºä¸€ç§æœåŠ¡æ¥äº¤ä»˜ï¼Œå®ƒä»¬è¢«ç§°ä¸ºç½‘ç»œåº”ç”¨ç¨‹åºï¼Œæˆ–è½¯ä»¶å³æœåŠ¡ï¼ˆSaaSï¼‰ã€‚12-Factor ä¸ºæ„å»ºå¦‚ä¸‹çš„ SaaS åº”ç”¨æä¾›äº†æ–¹æ³•è®ºï¼š</p>
<ul>
<li>ä½¿ç”¨<strong>æ ‡å‡†åŒ–</strong>æµç¨‹è‡ªåŠ¨é…ç½®ï¼Œä»è€Œä½¿æ–°çš„å¼€å‘è€…èŠ±è´¹æœ€å°‘çš„å­¦ä¹ æˆæœ¬åŠ å…¥è¿™ä¸ªé¡¹ç›®ã€‚</li>
<li>å’Œæ“ä½œç³»ç»Ÿä¹‹é—´å°½å¯èƒ½çš„<strong>åˆ’æ¸…ç•Œé™</strong>ï¼Œåœ¨å„ä¸ªç³»ç»Ÿä¸­æä¾›<strong>æœ€å¤§çš„å¯ç§»æ¤æ€§</strong>ã€‚</li>
<li>é€‚åˆ<strong>éƒ¨ç½²</strong>åœ¨ç°ä»£çš„<strong>äº‘è®¡ç®—å¹³å°</strong>ï¼Œä»è€Œåœ¨æœåŠ¡å™¨å’Œç³»ç»Ÿç®¡ç†æ–¹é¢èŠ‚çœèµ„æºã€‚</li>
<li>å°†å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒçš„<strong>å·®å¼‚é™è‡³æœ€ä½</strong>ï¼Œå¹¶ä½¿ç”¨<strong>æŒç»­äº¤ä»˜</strong>å®æ–½æ•æ·å¼€å‘ã€‚</li>
<li>å¯ä»¥åœ¨å·¥å…·ã€æ¶æ„å’Œå¼€å‘æµç¨‹ä¸å‘ç”Ÿæ˜æ˜¾å˜åŒ–çš„å‰æä¸‹å®ç°<strong>æ‰©å±•</strong>ã€‚</li>
</ul>
<p>è¿™å¥—ç†è®ºé€‚ç”¨äºä»»æ„è¯­è¨€å’Œåç«¯æœåŠ¡ï¼ˆæ•°æ®åº“ã€æ¶ˆæ¯é˜Ÿåˆ—ã€ç¼“å­˜ç­‰ï¼‰å¼€å‘çš„åº”ç”¨ç¨‹åºã€‚</p>
<h2>èƒŒæ™¯</h2>
<p>æœ¬æ–‡çš„è´¡çŒ®è€…å‚ä¸è¿‡æ•°ä»¥ç™¾è®¡çš„åº”ç”¨ç¨‹åºçš„å¼€å‘å’Œéƒ¨ç½²ï¼Œå¹¶é€šè¿‡ <a href="http://www.heroku.com/" target="_blank" rel="noopener noreferrer">Heroku</a> å¹³å°é—´æ¥è§è¯äº†æ•°åä¸‡åº”ç”¨ç¨‹åºçš„å¼€å‘ï¼Œè¿ä½œä»¥åŠæ‰©å±•çš„è¿‡ç¨‹ã€‚</p>
<p>æœ¬æ–‡ç»¼åˆäº†æˆ‘ä»¬å…³äº SaaS åº”ç”¨å‡ ä¹æ‰€æœ‰çš„ç»éªŒå’Œæ™ºæ…§ï¼Œæ˜¯å¼€å‘æ­¤ç±»åº”ç”¨çš„ç†æƒ³å®è·µæ ‡å‡†ï¼Œå¹¶ç‰¹åˆ«å…³æ³¨äºåº”ç”¨ç¨‹åºå¦‚ä½•ä¿æŒè‰¯æ€§æˆé•¿ï¼Œå¼€å‘è€…ä¹‹é—´å¦‚ä½•è¿›è¡Œæœ‰æ•ˆçš„ä»£ç åä½œï¼Œä»¥åŠå¦‚ä½• <a href="http://blog.heroku.com/archives/2011/6/28/the_new_heroku_4_erosion_resistance_explicit_contracts/" target="_blank" rel="noopener noreferrer">é¿å…è½¯ä»¶æ±¡æŸ“</a> ã€‚</p>
<p>æˆ‘ä»¬çš„åˆè¡·æ˜¯åˆ†äº«åœ¨ç°ä»£è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­å‘ç°çš„ä¸€äº›ç³»ç»Ÿæ€§é—®é¢˜ï¼Œå¹¶åŠ æ·±å¯¹è¿™äº›é—®é¢˜çš„è®¤è¯†ã€‚æˆ‘ä»¬æä¾›äº†è®¨è®ºè¿™äº›é—®é¢˜æ—¶æ‰€éœ€çš„å…±äº«è¯æ±‡ï¼ŒåŒæ—¶ä½¿ç”¨ç›¸å…³æœ¯è¯­ç»™å‡ºä¸€å¥—é’ˆå¯¹è¿™äº›é—®é¢˜çš„å¹¿ä¹‰è§£å†³æ–¹æ¡ˆã€‚æœ¬æ–‡æ ¼å¼çš„çµæ„Ÿæ¥è‡ªäº Martin Fowler çš„ä¹¦ç±ï¼š <em><a href="http://books.google.com/books/about/Patterns_of_enterprise_application_archi.html?id=FyWZt5DdvFkC" target="_blank" rel="noopener noreferrer">Patterns of Enterprise Application Architecture</a></em> ï¼Œ <em><a href="http://books.google.com/books/about/Refactoring.html?id=1MsETFPD3I0C" target="_blank" rel="noopener noreferrer">Refactoring</a></em> ã€‚</p>
<h2>è¯»è€…åº”è¯¥æ˜¯é‚£äº›äººï¼Ÿ</h2>
<p>ä»»ä½• SaaS åº”ç”¨çš„å¼€å‘äººå‘˜ã€‚éƒ¨ç½²å’Œç®¡ç†æ­¤ç±»åº”ç”¨çš„è¿ç»´å·¥ç¨‹å¸ˆã€‚</p>
<figure><figcaption>12-factors</figcaption></figure>
<h2>I. åŸºå‡†ä»£ç </h2>
<h3>ä¸€ä»½åŸºå‡†ä»£ç ï¼ˆ<em>Codebase</em>ï¼‰ï¼Œå¤šä»½éƒ¨ç½²ï¼ˆ<em>deploy</em>ï¼‰</h3>
<p>12-Factoråº”ç”¨(è¯‘è€…æ³¨ï¼šåº”è¯¥æ˜¯è¯´ä¸€ä¸ªä½¿ç”¨æœ¬æ–‡æ¦‚å¿µæ¥è®¾è®¡çš„åº”ç”¨ï¼Œä¸‹åŒ)é€šå¸¸ä¼šä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶ç³»ç»ŸåŠ ä»¥ç®¡ç†ï¼Œå¦‚<a href="http://git-scm.com/" target="_blank" rel="noopener noreferrer">Git</a>, <a href="https://www.mercurial-scm.org/" target="_blank" rel="noopener noreferrer">Mercurial</a>, <a href="http://subversion.apache.org/" target="_blank" rel="noopener noreferrer">Subversion</a>ã€‚ä¸€ä»½ç”¨æ¥è·Ÿè¸ªä»£ç æ‰€æœ‰ä¿®è®¢ç‰ˆæœ¬çš„æ•°æ®åº“è¢«ç§°ä½œ <em>ä»£ç åº“</em>ï¼ˆcode repository, code repo, repoï¼‰ã€‚</p>
<p>åœ¨ç±»ä¼¼ SVN è¿™æ ·çš„é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¸­ï¼Œ<em>åŸºå‡†ä»£ç </em> å°±æ˜¯æŒ‡æ§åˆ¶ç³»ç»Ÿä¸­çš„è¿™ä¸€ä»½ä»£ç åº“ï¼›è€Œåœ¨ Git é‚£æ ·çš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¸­ï¼Œ<em>åŸºå‡†ä»£ç </em> åˆ™æ˜¯æŒ‡æœ€ä¸Šæ¸¸çš„é‚£ä»½ä»£ç åº“ã€‚</p>
<figure><figcaption>ä¸€ä»½ä»£ç åº“å¯¹åº”å¤šä»½éƒ¨ç½²</figcaption></figure>
<p>åŸºå‡†ä»£ç å’Œåº”ç”¨ä¹‹é—´æ€»æ˜¯ä¿æŒä¸€ä¸€å¯¹åº”çš„å…³ç³»ï¼š</p>
<ul>
<li>ä¸€æ—¦æœ‰å¤šä¸ªåŸºå‡†ä»£ç ï¼Œå°±ä¸èƒ½ç§°ä¸ºä¸€ä¸ªåº”ç”¨ï¼Œè€Œæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿã€‚åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„æ¯ä¸€ä¸ªç»„ä»¶éƒ½æ˜¯ä¸€ä¸ªåº”ç”¨ï¼Œæ¯ä¸€ä¸ªåº”ç”¨å¯ä»¥åˆ†åˆ«ä½¿ç”¨ 12-Factor è¿›è¡Œå¼€å‘ã€‚</li>
<li>å¤šä¸ªåº”ç”¨å…±äº«ä¸€ä»½åŸºå‡†ä»£ç æ˜¯æœ‰æ‚–äº 12-Factor åŸåˆ™çš„ã€‚è§£å†³æ–¹æ¡ˆæ˜¯å°†å…±äº«çš„ä»£ç æ‹†åˆ†ä¸ºç‹¬ç«‹çš„ç±»åº“ï¼Œç„¶åä½¿ç”¨ <a href="./dependencies">ä¾èµ–ç®¡ç†</a> ç­–ç•¥å»åŠ è½½å®ƒä»¬ã€‚</li>
</ul>
<p>å°½ç®¡æ¯ä¸ªåº”ç”¨åªå¯¹åº”ä¸€ä»½åŸºå‡†ä»£ç ï¼Œä½†å¯ä»¥åŒæ—¶å­˜åœ¨å¤šä»½éƒ¨ç½²ã€‚æ¯ä»½ <em>éƒ¨ç½²</em> ç›¸å½“äºè¿è¡Œäº†ä¸€ä¸ªåº”ç”¨çš„å®ä¾‹ã€‚é€šå¸¸ä¼šæœ‰ä¸€ä¸ªç”Ÿäº§ç¯å¢ƒï¼Œä¸€ä¸ªæˆ–å¤šä¸ªé¢„å‘å¸ƒç¯å¢ƒã€‚æ­¤å¤–ï¼Œæ¯ä¸ªå¼€å‘äººå‘˜éƒ½ä¼šåœ¨è‡ªå·±æœ¬åœ°ç¯å¢ƒè¿è¡Œä¸€ä¸ªåº”ç”¨å®ä¾‹ï¼Œè¿™äº›éƒ½ç›¸å½“äºä¸€ä»½éƒ¨ç½²ã€‚</p>
<p>æ‰€æœ‰éƒ¨ç½²çš„åŸºå‡†ä»£ç ç›¸åŒï¼Œä½†æ¯ä»½éƒ¨ç½²å¯ä»¥ä½¿ç”¨å…¶ä¸åŒçš„ç‰ˆæœ¬ã€‚æ¯”å¦‚ï¼Œå¼€å‘äººå‘˜å¯èƒ½æœ‰ä¸€äº›æäº¤è¿˜æ²¡æœ‰åŒæ­¥è‡³é¢„å‘å¸ƒç¯å¢ƒï¼›é¢„å‘å¸ƒç¯å¢ƒä¹Ÿæœ‰ä¸€äº›æäº¤æ²¡æœ‰åŒæ­¥è‡³ç”Ÿäº§ç¯å¢ƒã€‚ä½†å®ƒä»¬éƒ½å…±äº«ä¸€ä»½åŸºå‡†ä»£ç ï¼Œæˆ‘ä»¬å°±è®¤ä¸ºå®ƒä»¬åªæ˜¯ç›¸åŒåº”ç”¨çš„ä¸åŒéƒ¨ç½²è€Œå·²ã€‚</p>
<h2>II. ä¾èµ–</h2>
<h3>æ˜¾å¼å£°æ˜ä¾èµ–å…³ç³»ï¼ˆ <em>dependency</em> ï¼‰</h3>
<p>å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€éƒ½ä¼šæä¾›ä¸€ä¸ªæ‰“åŒ…ç³»ç»Ÿï¼Œç”¨æ¥ä¸ºå„ä¸ªç±»åº“æä¾›æ‰“åŒ…æœåŠ¡ï¼Œå°±åƒ Perl çš„ <a href="http://www.cpan.org/" target="_blank" rel="noopener noreferrer">CPAN</a> æˆ–æ˜¯ Ruby çš„ <a href="http://rubygems.org/" target="_blank" rel="noopener noreferrer">Rubygems</a> ã€‚é€šè¿‡æ‰“åŒ…ç³»ç»Ÿå®‰è£…çš„ç±»åº“å¯ä»¥æ˜¯ç³»ç»Ÿçº§çš„ï¼ˆç§°ä¹‹ä¸º "site packages"ï¼‰ï¼Œæˆ–ä»…ä¾›æŸä¸ªåº”ç”¨ç¨‹åºä½¿ç”¨ï¼Œéƒ¨ç½²åœ¨ç›¸åº”çš„ç›®å½•ä¸­ï¼ˆç§°ä¹‹ä¸º "vendoring" æˆ– "bundling"ï¼‰ã€‚</p>
<p><strong>12-Factorè§„åˆ™ä¸‹çš„åº”ç”¨ç¨‹åºä¸ä¼šéšå¼ä¾èµ–ç³»ç»Ÿçº§çš„ç±»åº“ã€‚</strong> å®ƒä¸€å®šé€šè¿‡ <em>ä¾èµ–æ¸…å•</em> ï¼Œç¡®åˆ‡åœ°å£°æ˜æ‰€æœ‰ä¾èµ–é¡¹ã€‚æ­¤å¤–ï¼Œåœ¨è¿è¡Œè¿‡ç¨‹ä¸­é€šè¿‡ <em>ä¾èµ–éš”ç¦»</em> å·¥å…·æ¥ç¡®ä¿ç¨‹åºä¸ä¼šè°ƒç”¨ç³»ç»Ÿä¸­å­˜åœ¨ä½†æ¸…å•ä¸­æœªå£°æ˜çš„ä¾èµ–é¡¹ã€‚è¿™ä¸€åšæ³•ä¼šç»Ÿä¸€åº”ç”¨åˆ°ç”Ÿäº§å’Œå¼€å‘ç¯å¢ƒã€‚</p>
<p>ä¾‹å¦‚ï¼Œ Ruby çš„ <a href="https://bundler.io/" target="_blank" rel="noopener noreferrer">Bundler</a> ä½¿ç”¨ <code>Gemfile</code> ä½œä¸ºä¾èµ–é¡¹å£°æ˜æ¸…å•ï¼Œä½¿ç”¨ <code>bundle exec</code> æ¥è¿›è¡Œä¾èµ–éš”ç¦»ã€‚Python ä¸­åˆ™å¯åˆ†åˆ«ä½¿ç”¨ä¸¤ç§å·¥å…· -- <a href="http://www.pip-installer.org/en/latest/" target="_blank" rel="noopener noreferrer">Pip</a> ç”¨ä½œä¾èµ–å£°æ˜ï¼Œ <a href="http://www.virtualenv.org/en/latest/" target="_blank" rel="noopener noreferrer">Virtualenv</a> ç”¨ä½œä¾èµ–éš”ç¦»ã€‚ç”šè‡³ C è¯­è¨€ä¹Ÿæœ‰ç±»ä¼¼å·¥å…·ï¼Œ <a href="http://www.gnu.org/s/autoconf/" target="_blank" rel="noopener noreferrer">Autoconf</a> ç”¨ä½œä¾èµ–å£°æ˜ï¼Œé™æ€é“¾æ¥åº“ç”¨ä½œä¾èµ–éš”ç¦»ã€‚æ— è®ºç”¨ä»€ä¹ˆå·¥å…·ï¼Œä¾èµ–å£°æ˜å’Œä¾èµ–éš”ç¦»å¿…é¡»ä¸€èµ·ä½¿ç”¨ï¼Œå¦åˆ™æ— æ³•æ»¡è¶³ 12-Factor è§„èŒƒã€‚</p>
<p>æ˜¾å¼å£°æ˜ä¾èµ–çš„ä¼˜ç‚¹ä¹‹ä¸€æ˜¯ä¸ºæ–°è¿›å¼€å‘è€…ç®€åŒ–äº†ç¯å¢ƒé…ç½®æµç¨‹ã€‚æ–°è¿›å¼€å‘è€…å¯ä»¥æ£€å‡ºåº”ç”¨ç¨‹åºçš„åŸºå‡†ä»£ç ï¼Œå®‰è£…ç¼–ç¨‹è¯­è¨€ç¯å¢ƒå’Œå®ƒå¯¹åº”çš„ä¾èµ–ç®¡ç†å·¥å…·ï¼Œåªéœ€é€šè¿‡ä¸€ä¸ª <em>æ„å»ºå‘½ä»¤</em> æ¥å®‰è£…æ‰€æœ‰çš„ä¾èµ–é¡¹ï¼Œå³å¯å¼€å§‹å·¥ä½œã€‚ä¾‹å¦‚ï¼ŒRuby/Bundler ä¸‹ä½¿ç”¨ <code>bundle install</code>ï¼Œè€Œ Clojure/<a href="https://github.com/technomancy/leiningen#readme" target="_blank" rel="noopener noreferrer">Leiningen</a> åˆ™æ˜¯ <code>lein deps</code>ã€‚</p>
<p>12-Factor åº”ç”¨åŒæ ·ä¸ä¼šéšå¼ä¾èµ–æŸäº›ç³»ç»Ÿå·¥å…·ï¼Œå¦‚ ImageMagick æˆ–æ˜¯<code>curl</code>ã€‚å³ä½¿è¿™äº›å·¥å…·å­˜åœ¨äºå‡ ä¹æ‰€æœ‰ç³»ç»Ÿï¼Œä½†ç»ˆç©¶æ— æ³•ä¿è¯æ‰€æœ‰æœªæ¥çš„ç³»ç»Ÿéƒ½èƒ½æ”¯æŒåº”ç”¨é¡ºåˆ©è¿è¡Œï¼Œæˆ–æ˜¯èƒ½å¤Ÿå’Œåº”ç”¨å…¼å®¹ã€‚å¦‚æœåº”ç”¨å¿…é¡»ä½¿ç”¨åˆ°æŸäº›ç³»ç»Ÿå·¥å…·ï¼Œé‚£ä¹ˆè¿™äº›å·¥å…·åº”è¯¥è¢«åŒ…å«åœ¨åº”ç”¨ä¹‹ä¸­ã€‚</p>
<h2>III. é…ç½®</h2>
<h3>åœ¨ç¯å¢ƒä¸­å­˜å‚¨é…ç½®</h3>
<p>é€šå¸¸ï¼Œåº”ç”¨çš„ <em>é…ç½®</em> åœ¨ä¸åŒ <a href="./codebase">éƒ¨ç½²</a> (é¢„å‘å¸ƒã€ç”Ÿäº§ç¯å¢ƒã€å¼€å‘ç¯å¢ƒç­‰ç­‰)é—´ä¼šæœ‰å¾ˆå¤§å·®å¼‚ã€‚è¿™å…¶ä¸­åŒ…æ‹¬ï¼š</p>
<ul>
<li>æ•°æ®åº“ï¼ŒMemcachedï¼Œä»¥åŠå…¶ä»– <a href="./backing-services">åç«¯æœåŠ¡</a> çš„é…ç½®</li>
<li>ç¬¬ä¸‰æ–¹æœåŠ¡çš„è¯ä¹¦ï¼Œå¦‚ Amazon S3ã€Twitter ç­‰</li>
<li>æ¯ä»½éƒ¨ç½²ç‰¹æœ‰çš„é…ç½®ï¼Œå¦‚åŸŸåç­‰</li>
</ul>
<p>æœ‰äº›åº”ç”¨åœ¨ä»£ç ä¸­ä½¿ç”¨å¸¸é‡ä¿å­˜é…ç½®ï¼Œè¿™ä¸ 12-Factor æ‰€è¦æ±‚çš„<strong>ä»£ç å’Œé…ç½®ä¸¥æ ¼åˆ†ç¦»</strong>æ˜¾ç„¶å¤§ç›¸å¾„åº­ã€‚é…ç½®æ–‡ä»¶åœ¨å„éƒ¨ç½²é—´å­˜åœ¨å¤§å¹…å·®å¼‚ï¼Œä»£ç å´å®Œå…¨ä¸€è‡´ã€‚</p>
<p>åˆ¤æ–­ä¸€ä¸ªåº”ç”¨æ˜¯å¦æ­£ç¡®åœ°å°†é…ç½®æ’é™¤åœ¨ä»£ç ä¹‹å¤–ï¼Œä¸€ä¸ªç®€å•çš„æ–¹æ³•æ˜¯çœ‹è¯¥åº”ç”¨çš„åŸºå‡†ä»£ç æ˜¯å¦å¯ä»¥ç«‹åˆ»å¼€æºï¼Œè€Œä¸ç”¨æ‹…å¿ƒä¼šæš´éœ²ä»»ä½•æ•æ„Ÿçš„ä¿¡æ¯ã€‚</p>
<p>éœ€è¦æŒ‡å‡ºçš„æ˜¯ï¼Œè¿™é‡Œå®šä¹‰çš„"é…ç½®"å¹¶<strong>ä¸</strong>åŒ…æ‹¬åº”ç”¨çš„å†…éƒ¨é…ç½®ï¼Œæ¯”å¦‚ Rails çš„ <code>config/routes.rb</code>ï¼Œæˆ–æ˜¯ä½¿ç”¨ <a href="http://spring.io/" target="_blank" rel="noopener noreferrer">Spring</a> æ—¶ <a href="http://docs.spring.io/spring/docs/current/spring-framework-reference/html/beans.html" target="_blank" rel="noopener noreferrer">ä»£ç æ¨¡å—é—´çš„ä¾èµ–æ³¨å…¥å…³ç³»</a> ã€‚è¿™ç±»é…ç½®åœ¨ä¸åŒéƒ¨ç½²é—´ä¸å­˜åœ¨å·®å¼‚ï¼Œæ‰€ä»¥åº”è¯¥å†™å…¥ä»£ç ã€‚</p>
<p>å¦å¤–ä¸€ä¸ªè§£å†³æ–¹æ³•æ˜¯ä½¿ç”¨é…ç½®æ–‡ä»¶ï¼Œä½†ä¸æŠŠå®ƒä»¬çº³å…¥ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå°±åƒ Rails çš„ <code>config/database.yml</code> ã€‚è¿™ç›¸å¯¹äºåœ¨ä»£ç ä¸­ä½¿ç”¨å¸¸é‡å·²ç»æ˜¯é•¿è¶³è¿›æ­¥ï¼Œä½†ä»ç„¶æœ‰ç¼ºç‚¹ï¼šæ€»æ˜¯ä¼šä¸å°å¿ƒå°†é…ç½®æ–‡ä»¶ç­¾å…¥äº†ä»£ç åº“ï¼›é…ç½®æ–‡ä»¶çš„å¯èƒ½ä¼šåˆ†æ•£åœ¨ä¸åŒçš„ç›®å½•ï¼Œå¹¶æœ‰ç€ä¸åŒçš„æ ¼å¼ï¼Œè¿™è®©æ‰¾å‡ºä¸€ä¸ªåœ°æ–¹æ¥ç»Ÿä¸€ç®¡ç†æ‰€æœ‰é…ç½®å˜çš„ä¸å¤ªç°å®ã€‚æ›´ç³Ÿçš„æ˜¯ï¼Œè¿™äº›æ ¼å¼é€šå¸¸æ˜¯è¯­è¨€æˆ–æ¡†æ¶ç‰¹å®šçš„ã€‚</p>
<p><strong>12-Factoræ¨èå°†åº”ç”¨çš„é…ç½®å­˜å‚¨äº <em>ç¯å¢ƒå˜é‡</em> ä¸­</strong>ï¼ˆ <em>env vars</em>, <em>env</em> ï¼‰ã€‚ç¯å¢ƒå˜é‡å¯ä»¥éå¸¸æ–¹ä¾¿åœ°åœ¨ä¸åŒçš„éƒ¨ç½²é—´åšä¿®æ”¹ï¼Œå´ä¸åŠ¨ä¸€è¡Œä»£ç ï¼›ä¸é…ç½®æ–‡ä»¶ä¸åŒï¼Œä¸å°å¿ƒæŠŠå®ƒä»¬ç­¾å…¥ä»£ç åº“çš„æ¦‚ç‡å¾®ä¹å…¶å¾®ï¼›ä¸ä¸€äº›ä¼ ç»Ÿçš„è§£å†³é…ç½®é—®é¢˜çš„æœºåˆ¶ï¼ˆæ¯”å¦‚ Java çš„å±æ€§é…ç½®æ–‡ä»¶ï¼‰ç›¸æ¯”ï¼Œç¯å¢ƒå˜é‡ä¸è¯­è¨€å’Œç³»ç»Ÿæ— å…³ã€‚</p>
<p>é…ç½®ç®¡ç†çš„å¦ä¸€ä¸ªæ–¹é¢æ˜¯åˆ†ç»„ã€‚æœ‰æ—¶åº”ç”¨ä¼šå°†é…ç½®æŒ‰ç…§ç‰¹å®šéƒ¨ç½²è¿›è¡Œåˆ†ç»„ï¼ˆæˆ–å«åšâ€œç¯å¢ƒâ€ï¼‰ï¼Œä¾‹å¦‚Railsä¸­çš„ <code>development</code>,<code>test</code>, å’Œ <code>production</code> ç¯å¢ƒã€‚è¿™ç§æ–¹æ³•æ— æ³•è½»æ˜“æ‰©å±•ï¼šæ›´å¤šéƒ¨ç½²æ„å‘³ç€æ›´å¤šæ–°çš„ç¯å¢ƒï¼Œä¾‹å¦‚ <code>staging</code> æˆ– <code>qa</code> ã€‚ éšç€é¡¹ç›®çš„ä¸æ–­æ·±å…¥ï¼Œå¼€å‘äººå‘˜å¯èƒ½è¿˜ä¼šæ·»åŠ ä»–ä»¬è‡ªå·±çš„ç¯å¢ƒï¼Œæ¯”å¦‚ <code>joes-staging</code> ï¼Œè¿™å°†å¯¼è‡´å„ç§é…ç½®ç»„åˆçš„æ¿€å¢ï¼Œä»è€Œç»™ç®¡ç†éƒ¨ç½²å¢åŠ äº†å¾ˆå¤šä¸ç¡®å®šå› ç´ ã€‚</p>
<p>12-Factor åº”ç”¨ä¸­ï¼Œç¯å¢ƒå˜é‡çš„ç²’åº¦è¦è¶³å¤Ÿå°ï¼Œä¸”ç›¸å¯¹ç‹¬ç«‹ã€‚å®ƒä»¬æ°¸è¿œä¹Ÿä¸ä¼šç»„åˆæˆä¸€ä¸ªæ‰€è°“çš„â€œç¯å¢ƒâ€ï¼Œè€Œæ˜¯ç‹¬ç«‹å­˜åœ¨äºæ¯ä¸ªéƒ¨ç½²ä¹‹ä¸­ã€‚å½“åº”ç”¨ç¨‹åºä¸æ–­æ‰©å±•ï¼Œéœ€è¦æ›´å¤šç§ç±»çš„éƒ¨ç½²æ—¶ï¼Œè¿™ç§é…ç½®ç®¡ç†æ–¹å¼èƒ½å¤Ÿåšåˆ°å¹³æ»‘è¿‡æ¸¡ã€‚</p>
<h2>IV. åç«¯æœåŠ¡</h2>
<h3>æŠŠåç«¯æœåŠ¡(<em>backing services</em>)å½“ä½œé™„åŠ èµ„æº</h3>
<p><em>åç«¯æœåŠ¡</em>æ˜¯æŒ‡ç¨‹åºè¿è¡Œæ‰€éœ€è¦çš„é€šè¿‡ç½‘ç»œè°ƒç”¨çš„å„ç§æœåŠ¡ï¼Œå¦‚æ•°æ®åº“ï¼ˆ<a href="http://dev.mysql.com/" target="_blank" rel="noopener noreferrer">MySQL</a>ï¼Œ<a href="http://couchdb.apache.org/" target="_blank" rel="noopener noreferrer">CouchDB</a>ï¼‰ï¼Œæ¶ˆæ¯/é˜Ÿåˆ—ç³»ç»Ÿï¼ˆ<a href="http://www.rabbitmq.com/" target="_blank" rel="noopener noreferrer">RabbitMQ</a>ï¼Œ<a href="https://beanstalkd.github.io" target="_blank" rel="noopener noreferrer">Beanstalkd</a>ï¼‰ï¼ŒSMTP é‚®ä»¶å‘é€æœåŠ¡ï¼ˆ<a href="http://www.postfix.org/" target="_blank" rel="noopener noreferrer"> Postfix</a>ï¼‰ï¼Œä»¥åŠç¼“å­˜ç³»ç»Ÿï¼ˆ<a href="http://memcached.org/" target="_blank" rel="noopener noreferrer">Memcached</a>ï¼‰ã€‚</p>
<p>ç±»ä¼¼æ•°æ®åº“çš„åç«¯æœåŠ¡ï¼Œé€šå¸¸ç”±éƒ¨ç½²åº”ç”¨ç¨‹åºçš„ç³»ç»Ÿç®¡ç†å‘˜ä¸€èµ·ç®¡ç†ã€‚é™¤äº†æœ¬åœ°æœåŠ¡ä¹‹å¤–ï¼Œåº”ç”¨ç¨‹åºæœ‰å¯èƒ½ä½¿ç”¨äº†ç¬¬ä¸‰æ–¹å‘å¸ƒå’Œç®¡ç†çš„æœåŠ¡ã€‚ç¤ºä¾‹åŒ…æ‹¬ SMTPï¼ˆä¾‹å¦‚ <a href="http://postmarkapp.com/" target="_blank" rel="noopener noreferrer">Postmark</a>ï¼‰ï¼Œæ•°æ®æ”¶é›†æœåŠ¡ï¼ˆä¾‹å¦‚ <a href="http://newrelic.com/" target="_blank" rel="noopener noreferrer">New Relic</a> æˆ– <a href="http://www.loggly.com/" target="_blank" rel="noopener noreferrer">Loggly</a>ï¼‰ï¼Œæ•°æ®å­˜å‚¨æœåŠ¡ï¼ˆå¦‚ <a href="http://http://aws.amazon.com/s3/" target="_blank" rel="noopener noreferrer">Amazon S3</a>ï¼‰ï¼Œä»¥åŠä½¿ç”¨ API è®¿é—®çš„æœåŠ¡ï¼ˆä¾‹å¦‚ <a href="http://dev.twitter.com/" target="_blank" rel="noopener noreferrer">Twitter</a>, <a href="https://developers.google.com/maps/" target="_blank" rel="noopener noreferrer">Google Maps</a>, <a href="http://www.last.fm/api" target="_blank" rel="noopener noreferrer">Last.fm</a>ï¼‰ã€‚</p>
<p><strong>12-Factor åº”ç”¨ä¸ä¼šåŒºåˆ«å¯¹å¾…æœ¬åœ°æˆ–ç¬¬ä¸‰æ–¹æœåŠ¡ã€‚</strong> å¯¹åº”ç”¨ç¨‹åºè€Œè¨€ï¼Œä¸¤ç§éƒ½æ˜¯é™„åŠ èµ„æºï¼Œé€šè¿‡ä¸€ä¸ª url æˆ–æ˜¯å…¶ä»–å­˜å‚¨åœ¨ <a href="./config">é…ç½®</a> ä¸­çš„æœåŠ¡å®šä½/æœåŠ¡è¯ä¹¦æ¥è·å–æ•°æ®ã€‚12-Factor åº”ç”¨çš„ä»»æ„ <a href="./codebase">éƒ¨ç½²</a> ï¼Œéƒ½åº”è¯¥å¯ä»¥åœ¨ä¸è¿›è¡Œä»»ä½•ä»£ç æ”¹åŠ¨çš„æƒ…å†µä¸‹ï¼Œå°†æœ¬åœ° MySQL æ•°æ®åº“æ¢æˆç¬¬ä¸‰æ–¹æœåŠ¡ï¼ˆä¾‹å¦‚ <a href="http://aws.amazon.com/rds/" target="_blank" rel="noopener noreferrer">Amazon RDS</a>ï¼‰ã€‚ç±»ä¼¼çš„ï¼Œæœ¬åœ° SMTP æœåŠ¡åº”è¯¥ä¹Ÿå¯ä»¥å’Œç¬¬ä¸‰æ–¹ SMTP æœåŠ¡ï¼ˆä¾‹å¦‚ Postmark ï¼‰äº’æ¢ã€‚ä¸Šè¿° 2 ä¸ªä¾‹å­ä¸­ï¼Œä»…éœ€ä¿®æ”¹é…ç½®ä¸­çš„èµ„æºåœ°å€ã€‚</p>
<p>æ¯ä¸ªä¸åŒçš„åç«¯æœåŠ¡æ˜¯ä¸€ä»½ <em>èµ„æº</em> ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ª MySQL æ•°æ®åº“æ˜¯ä¸€ä¸ªèµ„æºï¼Œä¸¤ä¸ª MySQL æ•°æ®åº“ï¼ˆç”¨æ¥æ•°æ®åˆ†åŒºï¼‰å°±è¢«å½“ä½œæ˜¯ 2 ä¸ªä¸åŒçš„èµ„æºã€‚12-Factor åº”ç”¨å°†è¿™äº›æ•°æ®åº“éƒ½è§†ä½œ <em>é™„åŠ èµ„æº</em> ï¼Œè¿™äº›èµ„æºå’Œå®ƒä»¬é™„å±çš„éƒ¨ç½²ä¿æŒæ¾è€¦åˆã€‚</p>

<p>éƒ¨ç½²å¯ä»¥æŒ‰éœ€åŠ è½½æˆ–å¸è½½èµ„æºã€‚ä¾‹å¦‚ï¼Œå¦‚æœåº”ç”¨çš„æ•°æ®åº“æœåŠ¡ç”±äºç¡¬ä»¶é—®é¢˜å‡ºç°å¼‚å¸¸ï¼Œç®¡ç†å‘˜å¯ä»¥ä»æœ€è¿‘çš„å¤‡ä»½ä¸­æ¢å¤ä¸€ä¸ªæ•°æ®åº“ï¼Œå¸è½½å½“å‰çš„æ•°æ®åº“ï¼Œç„¶ååŠ è½½æ–°çš„æ•°æ®åº“ -- æ•´ä¸ªè¿‡ç¨‹éƒ½ä¸éœ€è¦ä¿®æ”¹ä»£ç ã€‚</p>
<h2>V. æ„å»ºï¼Œå‘å¸ƒï¼Œè¿è¡Œ</h2>
<h3>ä¸¥æ ¼åˆ†ç¦»æ„å»ºå’Œè¿è¡Œ</h3>
<p><a href="./codebase">åŸºå‡†ä»£ç </a> è½¬åŒ–ä¸ºä¸€ä»½éƒ¨ç½²(éå¼€å‘ç¯å¢ƒ)éœ€è¦ä»¥ä¸‹ä¸‰ä¸ªé˜¶æ®µï¼š</p>
<ul>
<li><em>æ„å»ºé˜¶æ®µ</em> æ˜¯æŒ‡å°†ä»£ç ä»“åº“è½¬åŒ–ä¸ºå¯æ‰§è¡ŒåŒ…çš„è¿‡ç¨‹ã€‚æ„å»ºæ—¶ä¼šä½¿ç”¨æŒ‡å®šç‰ˆæœ¬çš„ä»£ç ï¼Œè·å–å’Œæ‰“åŒ… <a href="./dependencies">ä¾èµ–é¡¹</a>ï¼Œç¼–è¯‘æˆäºŒè¿›åˆ¶æ–‡ä»¶å’Œèµ„æºæ–‡ä»¶ã€‚</li>
<li><em>å‘å¸ƒé˜¶æ®µ</em> ä¼šå°†æ„å»ºçš„ç»“æœå’Œå½“å‰éƒ¨ç½²æ‰€éœ€ <a href="./config">é…ç½®</a> ç›¸ç»“åˆï¼Œå¹¶èƒ½å¤Ÿç«‹åˆ»åœ¨è¿è¡Œç¯å¢ƒä¸­æŠ•å…¥ä½¿ç”¨ã€‚</li>
<li><em>è¿è¡Œé˜¶æ®µ</em> ï¼ˆæˆ–è€…è¯´â€œè¿è¡Œæ—¶â€ï¼‰æ˜¯æŒ‡é’ˆå¯¹é€‰å®šçš„å‘å¸ƒç‰ˆæœ¬ï¼Œåœ¨æ‰§è¡Œç¯å¢ƒä¸­å¯åŠ¨ä¸€ç³»åˆ—åº”ç”¨ç¨‹åº <a href="./processes">è¿›ç¨‹</a>ã€‚</li>
</ul>
<figure><figcaption>ä»£ç è¢«æ„å»ºï¼Œç„¶åå’Œé…ç½®ç»“åˆæˆä¸ºå‘å¸ƒç‰ˆæœ¬</figcaption></figure>
<p><strong>12-factor åº”ç”¨ä¸¥æ ¼åŒºåˆ†æ„å»ºï¼Œå‘å¸ƒï¼Œè¿è¡Œè¿™ä¸‰ä¸ªæ­¥éª¤ã€‚</strong> ä¸¾ä¾‹æ¥è¯´ï¼Œç›´æ¥ä¿®æ”¹å¤„äºè¿è¡ŒçŠ¶æ€çš„ä»£ç æ˜¯éå¸¸ä¸å¯å–çš„åšæ³•ï¼Œå› ä¸ºè¿™äº›ä¿®æ”¹å¾ˆéš¾å†åŒæ­¥å›æ„å»ºæ­¥éª¤ã€‚</p>
<p>éƒ¨ç½²å·¥å…·é€šå¸¸éƒ½æä¾›äº†å‘å¸ƒç®¡ç†å·¥å…·ï¼Œæœ€å¼•äººæ³¨ç›®çš„åŠŸèƒ½æ˜¯é€€å›è‡³è¾ƒæ—§çš„å‘å¸ƒç‰ˆæœ¬ã€‚æ¯”å¦‚ï¼Œ <a href="https://github.com/capistrano/capistrano/wiki" target="_blank" rel="noopener noreferrer">Capistrano</a>  å°†æ‰€æœ‰å‘å¸ƒç‰ˆæœ¬éƒ½å­˜å‚¨åœ¨ä¸€ä¸ªå« <code>releases</code> çš„å­ç›®å½•ä¸­ï¼Œå½“å‰çš„åœ¨çº¿ç‰ˆæœ¬åªéœ€æ˜ å°„è‡³å¯¹åº”çš„ç›®å½•å³å¯ã€‚è¯¥å·¥å…·çš„ <code>rollback</code> å‘½ä»¤å¯ä»¥å¾ˆå®¹æ˜“åœ°å®ç°å›é€€ç‰ˆæœ¬çš„åŠŸèƒ½ã€‚</p>
<p>æ¯ä¸€ä¸ªå‘å¸ƒç‰ˆæœ¬å¿…é¡»å¯¹åº”ä¸€ä¸ªå”¯ä¸€çš„å‘å¸ƒ IDï¼Œä¾‹å¦‚å¯ä»¥ä½¿ç”¨å‘å¸ƒæ—¶çš„æ—¶é—´æˆ³ï¼ˆ<code>2011-04-06-20:32:17</code>ï¼‰ï¼Œäº¦æˆ–æ˜¯ä¸€ä¸ªå¢é•¿çš„æ•°å­—ï¼ˆ<code>v100</code>ï¼‰ã€‚å‘å¸ƒçš„ç‰ˆæœ¬å°±åƒä¸€æœ¬åªèƒ½è¿½åŠ çš„è´¦æœ¬ï¼Œä¸€æ—¦å‘å¸ƒå°±ä¸å¯ä¿®æ”¹ï¼Œä»»ä½•çš„å˜åŠ¨éƒ½åº”è¯¥äº§ç”Ÿä¸€ä¸ªæ–°çš„å‘å¸ƒç‰ˆæœ¬ã€‚</p>
<p>æ–°çš„ä»£ç åœ¨éƒ¨ç½²ä¹‹å‰ï¼Œéœ€è¦å¼€å‘äººå‘˜è§¦å‘æ„å»ºæ“ä½œã€‚ä½†æ˜¯ï¼Œè¿è¡Œé˜¶æ®µä¸ä¸€å®šéœ€è¦äººä¸ºè§¦å‘ï¼Œè€Œæ˜¯å¯ä»¥è‡ªåŠ¨è¿›è¡Œã€‚å¦‚æœåŠ¡å™¨é‡å¯ï¼Œæˆ–æ˜¯è¿›ç¨‹ç®¡ç†å™¨é‡å¯äº†ä¸€ä¸ªå´©æºƒçš„è¿›ç¨‹ã€‚å› æ­¤ï¼Œè¿è¡Œé˜¶æ®µåº”è¯¥ä¿æŒå°½å¯èƒ½å°‘çš„æ¨¡å—ï¼Œè¿™æ ·å‡è®¾åŠå¤œå‘ç”Ÿç³»ç»Ÿæ•…éšœè€Œå¼€å‘äººå‘˜åˆæ‰è¥Ÿè§è‚˜ä¹Ÿä¸ä¼šå¼•èµ·å¤ªå¤§é—®é¢˜ã€‚æ„å»ºé˜¶æ®µæ˜¯å¯ä»¥ç›¸å¯¹å¤æ‚ä¸€äº›çš„ï¼Œå› ä¸ºé”™è¯¯ä¿¡æ¯èƒ½å¤Ÿç«‹åˆ»å±•ç¤ºåœ¨å¼€å‘äººå‘˜é¢å‰ï¼Œä»è€Œå¾—åˆ°å¦¥å–„å¤„ç†ã€‚</p>
<h2>VI. è¿›ç¨‹</h2>
<h3>ä»¥ä¸€ä¸ªæˆ–å¤šä¸ªæ— çŠ¶æ€è¿›ç¨‹è¿è¡Œåº”ç”¨</h3>
<p>è¿è¡Œç¯å¢ƒä¸­ï¼Œåº”ç”¨ç¨‹åºé€šå¸¸æ˜¯ä»¥ä¸€ä¸ªå’Œå¤šä¸ª <em>è¿›ç¨‹</em> è¿è¡Œçš„ã€‚</p>
<p>æœ€ç®€å•çš„åœºæ™¯ä¸­ï¼Œä»£ç æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„è„šæœ¬ï¼Œè¿è¡Œç¯å¢ƒæ˜¯å¼€å‘äººå‘˜è‡ªå·±çš„ç¬”è®°æœ¬ç”µè„‘ï¼Œè¿›ç¨‹ç”±ä¸€æ¡å‘½ä»¤è¡Œï¼ˆä¾‹å¦‚<code>python my_script.py</code>ï¼‰ã€‚å¦å¤–ä¸€ä¸ªæç«¯æƒ…å†µæ˜¯ï¼Œå¤æ‚çš„åº”ç”¨å¯èƒ½ä¼šä½¿ç”¨å¾ˆå¤š <a href="./concurrency">è¿›ç¨‹ç±»å‹</a> ï¼Œä¹Ÿå°±æ˜¯é›¶ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹å®ä¾‹ã€‚</p>
<p><strong>12-Factor åº”ç”¨çš„è¿›ç¨‹å¿…é¡»æ— çŠ¶æ€ä¸” <a href="http://en.wikipedia.org/wiki/Shared_nothing_architecture" target="_blank" rel="noopener noreferrer">æ— å…±äº«</a> ã€‚</strong> ä»»ä½•éœ€è¦æŒä¹…åŒ–çš„æ•°æ®éƒ½è¦å­˜å‚¨åœ¨ <a href="./backing-services">åç«¯æœåŠ¡</a> å†…ï¼Œæ¯”å¦‚æ•°æ®åº“ã€‚</p>
<p>å†…å­˜åŒºåŸŸæˆ–ç£ç›˜ç©ºé—´å¯ä»¥ä½œä¸ºè¿›ç¨‹åœ¨åšæŸç§äº‹åŠ¡å‹æ“ä½œæ—¶çš„ç¼“å­˜ï¼Œä¾‹å¦‚ä¸‹è½½ä¸€ä¸ªå¾ˆå¤§çš„æ–‡ä»¶ï¼Œå¯¹å…¶æ“ä½œå¹¶å°†ç»“æœå†™å…¥æ•°æ®åº“çš„è¿‡ç¨‹ã€‚12-Factoråº”ç”¨æ ¹æœ¬ä¸ç”¨è€ƒè™‘è¿™äº›ç¼“å­˜çš„å†…å®¹æ˜¯ä¸æ˜¯å¯ä»¥ä¿ç•™ç»™ä¹‹åçš„è¯·æ±‚æ¥ä½¿ç”¨ï¼Œè¿™æ˜¯å› ä¸ºåº”ç”¨å¯åŠ¨äº†å¤šç§ç±»å‹çš„è¿›ç¨‹ï¼Œå°†æ¥çš„è¯·æ±‚å¤šåŠä¼šç”±å…¶ä»–è¿›ç¨‹æ¥æœåŠ¡ã€‚å³ä½¿åœ¨åªæœ‰ä¸€ä¸ªè¿›ç¨‹çš„æƒ…å½¢ä¸‹ï¼Œå…ˆå‰ä¿å­˜çš„æ•°æ®ï¼ˆå†…å­˜æˆ–æ–‡ä»¶ç³»ç»Ÿä¸­ï¼‰ä¹Ÿä¼šå› ä¸ºé‡å¯ï¼ˆå¦‚ä»£ç éƒ¨ç½²ã€é…ç½®æ›´æ”¹ã€æˆ–è¿è¡Œç¯å¢ƒå°†è¿›ç¨‹è°ƒåº¦è‡³å¦ä¸€ä¸ªç‰©ç†åŒºåŸŸæ‰§è¡Œï¼‰è€Œä¸¢å¤±ã€‚</p>
<p>æºæ–‡ä»¶æ‰“åŒ…å·¥å…·ï¼ˆ<a href="http://documentcloud.github.io/jammit/" target="_blank" rel="noopener noreferrer">Jammit</a>, <a href="http://django-compressor.readthedocs.org/" target="_blank" rel="noopener noreferrer">django-compressor</a>ï¼‰ ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿæ¥ç¼“å­˜ç¼–è¯‘è¿‡çš„æºæ–‡ä»¶ã€‚12-Factor åº”ç”¨æ›´å€¾å‘äºåœ¨ <a href="./build-release-run">æ„å»ºæ­¥éª¤</a> åšæ­¤åŠ¨ä½œâ€”â€”æ­£å¦‚ <a href="http://guides.rubyonrails.org/asset_pipeline.html" target="_blank" rel="noopener noreferrer">Railsèµ„æºç®¡é“</a> ï¼Œè€Œä¸æ˜¯åœ¨è¿è¡Œé˜¶æ®µã€‚</p>
<p>ä¸€äº›äº’è”ç½‘ç³»ç»Ÿä¾èµ–äº â€œ<a href="http://en.wikipedia.org/wiki/Load_balancing_%28computing%29#Persistence" target="_blank" rel="noopener noreferrer">ç²˜æ€§ session </a>â€ï¼Œ è¿™æ˜¯æŒ‡å°†ç”¨æˆ· session ä¸­çš„æ•°æ®ç¼“å­˜è‡³æŸè¿›ç¨‹çš„å†…å­˜ä¸­ï¼Œå¹¶å°†åŒä¸€ç”¨æˆ·çš„åç»­è¯·æ±‚è·¯ç”±åˆ°åŒä¸€ä¸ªè¿›ç¨‹ã€‚ç²˜æ€§ session æ˜¯ 12-Factor æåŠ›åå¯¹çš„ã€‚Session ä¸­çš„æ•°æ®åº”è¯¥ä¿å­˜åœ¨è¯¸å¦‚ <a href="http://memcached.org/" target="_blank" rel="noopener noreferrer">Memcached</a> æˆ– <a href="http://redis.io/" target="_blank" rel="noopener noreferrer">Redis</a> è¿™æ ·çš„å¸¦æœ‰è¿‡æœŸæ—¶é—´çš„ç¼“å­˜ä¸­ã€‚</p>
<h2>VII. ç«¯å£ç»‘å®š</h2>
<h3>é€šè¿‡ç«¯å£ç»‘å®š(<em>Port binding</em>)æ¥æä¾›æœåŠ¡</h3>
<p>äº’è”ç½‘åº”ç”¨æœ‰æ—¶ä¼šè¿è¡ŒäºæœåŠ¡å™¨çš„å®¹å™¨ä¹‹ä¸­ã€‚ä¾‹å¦‚ PHP ç»å¸¸ä½œä¸º <a href="http://httpd.apache.org/" target="_blank" rel="noopener noreferrer">Apache HTTPD</a> çš„ä¸€ä¸ªæ¨¡å—æ¥è¿è¡Œï¼Œæ­£å¦‚ Java è¿è¡Œäº <a href="http://tomcat.apache.org/" target="_blank" rel="noopener noreferrer">Tomcat</a> ã€‚</p>
<p><strong>12-Factor åº”ç”¨å®Œå…¨è‡ªæˆ‘åŠ è½½</strong> è€Œä¸ä¾èµ–äºä»»ä½•ç½‘ç»œæœåŠ¡å™¨å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªé¢å‘ç½‘ç»œçš„æœåŠ¡ã€‚äº’è”ç½‘åº”ç”¨ <strong>é€šè¿‡ç«¯å£ç»‘å®šæ¥æä¾›æœåŠ¡</strong> ï¼Œå¹¶ç›‘å¬å‘é€è‡³è¯¥ç«¯å£çš„è¯·æ±‚ã€‚</p>
<p>æœ¬åœ°ç¯å¢ƒä¸­ï¼Œå¼€å‘äººå‘˜é€šè¿‡ç±»ä¼¼<code>http://localhost:5000/</code>çš„åœ°å€æ¥è®¿é—®æœåŠ¡ã€‚åœ¨çº¿ä¸Šç¯å¢ƒä¸­ï¼Œè¯·æ±‚ç»Ÿä¸€å‘é€è‡³å…¬å…±åŸŸåè€Œåè·¯ç”±è‡³ç»‘å®šäº†ç«¯å£çš„ç½‘ç»œè¿›ç¨‹ã€‚</p>
<p>é€šå¸¸çš„å®ç°æ€è·¯æ˜¯ï¼Œå°†ç½‘ç»œæœåŠ¡å™¨ç±»åº“é€šè¿‡ <a href="./dependencies">ä¾èµ–å£°æ˜</a> è½½å…¥åº”ç”¨ã€‚ä¾‹å¦‚ï¼ŒPython çš„ <a href="http://www.tornadoweb.org/" target="_blank" rel="noopener noreferrer">Tornado</a>, Ruby çš„<a href="http://code.macournoyer.com/thin/" target="_blank" rel="noopener noreferrer">Thin</a> , Java ä»¥åŠå…¶ä»–åŸºäº JVM è¯­è¨€çš„ <a href="http://www.eclipse.org/jetty/" target="_blank" rel="noopener noreferrer">Jetty</a>ã€‚å®Œå…¨ç”± <em>ç”¨æˆ·ç«¯</em> ï¼Œç¡®åˆ‡çš„è¯´åº”è¯¥æ˜¯åº”ç”¨çš„ä»£ç ï¼Œå‘èµ·è¯·æ±‚ã€‚å’Œè¿è¡Œç¯å¢ƒçº¦å®šå¥½ç»‘å®šçš„ç«¯å£å³å¯å¤„ç†è¿™äº›è¯·æ±‚ã€‚</p>
<p>HTTP å¹¶ä¸æ˜¯å”¯ä¸€ä¸€ä¸ªå¯ä»¥ç”±ç«¯å£ç»‘å®šæä¾›çš„æœåŠ¡ã€‚å…¶å®å‡ ä¹æ‰€æœ‰æœåŠ¡å™¨è½¯ä»¶éƒ½å¯ä»¥é€šè¿‡è¿›ç¨‹ç»‘å®šç«¯å£æ¥ç­‰å¾…è¯·æ±‚ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ <a href="http://xmpp.org/" target="_blank" rel="noopener noreferrer">XMPP</a> çš„ <a href="http://www.ejabberd.im/" target="_blank" rel="noopener noreferrer">ejabberd</a>  ï¼Œ ä»¥åŠä½¿ç”¨ <a href="http://redis.io/topics/protocol" target="_blank" rel="noopener noreferrer">Redis åè®®</a> çš„ <a href="http://redis.io/" target="_blank" rel="noopener noreferrer">Redis</a> ã€‚</p>
<p>è¿˜è¦æŒ‡å‡ºçš„æ˜¯ï¼Œç«¯å£ç»‘å®šè¿™ç§æ–¹å¼ä¹Ÿæ„å‘³ç€ä¸€ä¸ªåº”ç”¨å¯ä»¥æˆä¸ºå¦å¤–ä¸€ä¸ªåº”ç”¨çš„ <a href="./backing-services">åç«¯æœåŠ¡</a> ï¼Œè°ƒç”¨æ–¹å°†æœåŠ¡æ–¹æä¾›çš„ç›¸åº” URL å½“ä½œèµ„æºå­˜å…¥ <a href="./config">é…ç½®</a> ä»¥å¤‡å°†æ¥è°ƒç”¨ã€‚</p>
<h2>VIII. å¹¶å‘</h2>
<h3>é€šè¿‡è¿›ç¨‹æ¨¡å‹è¿›è¡Œæ‰©å±•</h3>
<p>ä»»ä½•è®¡ç®—æœºç¨‹åºï¼Œä¸€æ—¦å¯åŠ¨ï¼Œå°±ä¼šç”Ÿæˆä¸€ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹ã€‚äº’è”ç½‘åº”ç”¨é‡‡ç”¨å¤šç§è¿›ç¨‹è¿è¡Œæ–¹å¼ã€‚ä¾‹å¦‚ï¼ŒPHP è¿›ç¨‹ä½œä¸º Apache çš„å­è¿›ç¨‹å­˜åœ¨ï¼Œéšè¯·æ±‚æŒ‰éœ€å¯åŠ¨ã€‚Java è¿›ç¨‹åˆ™é‡‡å–äº†ç›¸åçš„æ–¹å¼ï¼Œåœ¨ç¨‹åºå¯åŠ¨ä¹‹åˆ JVM å°±æä¾›äº†ä¸€ä¸ªè¶…çº§è¿›ç¨‹å‚¨å¤‡äº†å¤§é‡çš„ç³»ç»Ÿèµ„æº(CPU å’Œå†…å­˜)ï¼Œå¹¶é€šè¿‡å¤šçº¿ç¨‹å®ç°å†…éƒ¨çš„å¹¶å‘ç®¡ç†ã€‚ä¸Šè¿° 2 ä¸ªä¾‹å­ä¸­ï¼Œè¿›ç¨‹æ˜¯å¼€å‘äººå‘˜å¯ä»¥æ“ä½œçš„æœ€å°å•ä½ã€‚</p>
<figure><figcaption>æ‰©å±•è¡¨ç°ä¸ºè¿è¡Œä¸­çš„è¿›ç¨‹ï¼Œå·¥ä½œå¤šæ ·æ€§è¡¨ç°ä¸ºè¿›ç¨‹ç±»å‹ã€‚</figcaption></figure>
<p>**åœ¨ 12-factor åº”ç”¨ä¸­ï¼Œè¿›ç¨‹æ˜¯ä¸€ç­‰å…¬æ°‘ã€‚**12-Factor åº”ç”¨çš„è¿›ç¨‹ä¸»è¦å€Ÿé‰´äº <a href="https://adam.herokuapp.com/past/2011/5/9/applying_the_unix_process_model_to_web_apps/" target="_blank" rel="noopener noreferrer">unix å®ˆæŠ¤è¿›ç¨‹æ¨¡å‹</a> ã€‚å¼€å‘äººå‘˜å¯ä»¥è¿ç”¨è¿™ä¸ªæ¨¡å‹å»è®¾è®¡åº”ç”¨æ¶æ„ï¼Œå°†ä¸åŒçš„å·¥ä½œåˆ†é…ç»™ä¸åŒçš„ <em>è¿›ç¨‹ç±»å‹</em> ã€‚ä¾‹å¦‚ï¼ŒHTTP è¯·æ±‚å¯ä»¥äº¤ç»™ web è¿›ç¨‹æ¥å¤„ç†ï¼Œè€Œå¸¸é©»çš„åå°å·¥ä½œåˆ™äº¤ç”± worker è¿›ç¨‹è´Ÿè´£ã€‚</p>
<p>è¿™å¹¶ä¸åŒ…æ‹¬ä¸ªåˆ«è¾ƒä¸ºç‰¹æ®Šçš„è¿›ç¨‹ï¼Œä¾‹å¦‚é€šè¿‡è™šæ‹Ÿæœºçš„çº¿ç¨‹å¤„ç†å¹¶å‘çš„å†…éƒ¨è¿ç®—ï¼Œæˆ–æ˜¯ä½¿ç”¨è¯¸å¦‚ <a href="https://github.com/eventmachine/eventmachine" target="_blank" rel="noopener noreferrer">EventMachine</a>, <a href="http://twistedmatrix.com/trac/" target="_blank" rel="noopener noreferrer">Twisted</a>,  <a href="http://nodejs.org/" target="_blank" rel="noopener noreferrer">Node.js</a> çš„å¼‚æ­¥/äº‹ä»¶è§¦å‘æ¨¡å‹ã€‚ä½†ä¸€å°ç‹¬ç«‹çš„è™šæ‹Ÿæœºçš„æ‰©å±•æœ‰ç“¶é¢ˆï¼ˆå‚ç›´æ‰©å±•ï¼‰ï¼Œæ‰€ä»¥åº”ç”¨ç¨‹åºå¿…é¡»å¯ä»¥åœ¨å¤šå°ç‰©ç†æœºå™¨é—´è·¨è¿›ç¨‹å·¥ä½œã€‚</p>
<p>ä¸Šè¿°è¿›ç¨‹æ¨¡å‹ä¼šåœ¨ç³»ç»Ÿæ€¥éœ€æ‰©å±•æ—¶å¤§æ”¾å¼‚å½©ã€‚ <a href="./processes">12-Factor åº”ç”¨çš„è¿›ç¨‹æ‰€å…·å¤‡çš„æ— å…±äº«ï¼Œæ°´å¹³åˆ†åŒºçš„ç‰¹æ€§</a> æ„å‘³ç€æ·»åŠ å¹¶å‘ä¼šå˜å¾—ç®€å•è€Œç¨³å¦¥ã€‚è¿™äº›è¿›ç¨‹çš„ç±»å‹ä»¥åŠæ¯ä¸ªç±»å‹ä¸­è¿›ç¨‹çš„æ•°é‡å°±è¢«ç§°ä½œ <em>è¿›ç¨‹æ„æˆ</em> ã€‚</p>
<p>12-Factor åº”ç”¨çš„è¿›ç¨‹ <a href="http://dustin.github.com/2010/02/28/running-processes.html" target="_blank" rel="noopener noreferrer">ä¸éœ€è¦å®ˆæŠ¤è¿›ç¨‹</a> æˆ–æ˜¯å†™å…¥ PID æ–‡ä»¶ã€‚ç›¸åçš„ï¼Œåº”è¯¥å€ŸåŠ©æ“ä½œç³»ç»Ÿçš„è¿›ç¨‹ç®¡ç†å™¨(ä¾‹å¦‚ <a href="https://www.freedesktop.org/wiki/Software/systemd/" target="_blank" rel="noopener noreferrer">systemd</a> ï¼Œåˆ†å¸ƒå¼çš„è¿›ç¨‹ç®¡ç†äº‘å¹³å°ï¼Œæˆ–æ˜¯ç±»ä¼¼ <a href="http://blog.daviddollar.org/2011/05/06/introducing-foreman.html" target="_blank" rel="noopener noreferrer">Foreman</a> çš„å·¥å…·)ï¼Œæ¥ç®¡ç† <a href="./logs">è¾“å‡ºæµ</a> ï¼Œå“åº”å´©æºƒçš„è¿›ç¨‹ï¼Œä»¥åŠå¤„ç†ç”¨æˆ·è§¦å‘çš„é‡å¯å’Œå…³é—­è¶…çº§è¿›ç¨‹çš„è¯·æ±‚ã€‚</p>
<h2>IX. æ˜“å¤„ç†</h2>
<h3>å¿«é€Ÿå¯åŠ¨å’Œä¼˜é›…ç»ˆæ­¢å¯æœ€å¤§åŒ–å¥å£®æ€§</h3>
<p>**12-Factor åº”ç”¨çš„ <a href="./processes">è¿›ç¨‹</a> æ˜¯ <em>æ˜“å¤„ç†ï¼ˆdisposableï¼‰<em>çš„ï¼Œæ„æ€æ˜¯è¯´å®ƒä»¬å¯ä»¥ç¬é—´å¼€å¯æˆ–åœæ­¢ã€‚</em></em> è¿™æœ‰åˆ©äºå¿«é€Ÿã€å¼¹æ€§çš„ä¼¸ç¼©åº”ç”¨ï¼Œè¿…é€Ÿéƒ¨ç½²å˜åŒ–çš„ <a href="./codebase">ä»£ç </a> æˆ– <a href="./config">é…ç½®</a> ï¼Œç¨³å¥çš„éƒ¨ç½²åº”ç”¨ã€‚</p>
<p>è¿›ç¨‹åº”å½“è¿½æ±‚ <strong>æœ€å°å¯åŠ¨æ—¶é—´</strong> ã€‚ ç†æƒ³çŠ¶æ€ä¸‹ï¼Œè¿›ç¨‹ä»æ•²ä¸‹å‘½ä»¤åˆ°çœŸæ­£å¯åŠ¨å¹¶ç­‰å¾…è¯·æ±‚çš„æ—¶é—´åº”è¯¥åªéœ€å¾ˆçŸ­çš„æ—¶é—´ã€‚æ›´å°‘çš„å¯åŠ¨æ—¶é—´æä¾›äº†æ›´æ•æ·çš„ <a href="./build-release-run">å‘å¸ƒ</a> ä»¥åŠæ‰©å±•è¿‡ç¨‹ï¼Œæ­¤å¤–è¿˜å¢åŠ äº†å¥å£®æ€§ï¼Œå› ä¸ºè¿›ç¨‹ç®¡ç†å™¨å¯ä»¥åœ¨æˆæƒæƒ…å½¢ä¸‹å®¹æ˜“çš„å°†è¿›ç¨‹æ¬åˆ°æ–°çš„ç‰©ç†æœºå™¨ä¸Šã€‚</p>
<p>è¿›ç¨‹ <strong>ä¸€æ—¦æ¥æ”¶ <a href="http://en.wikipedia.org/wiki/SIGTERM" target="_blank" rel="noopener noreferrer">ç»ˆæ­¢ä¿¡å·ï¼ˆ<code>SIGTERM</code>ï¼‰</a> å°±ä¼šä¼˜é›…çš„ç»ˆæ­¢</strong> ã€‚å°±ç½‘ç»œè¿›ç¨‹è€Œè¨€ï¼Œä¼˜é›…ç»ˆæ­¢æ˜¯æŒ‡åœæ­¢ç›‘å¬æœåŠ¡çš„ç«¯å£ï¼Œå³æ‹’ç»æ‰€æœ‰æ–°çš„è¯·æ±‚ï¼Œå¹¶ç»§ç»­æ‰§è¡Œå½“å‰å·²æ¥æ”¶çš„è¯·æ±‚ï¼Œç„¶åé€€å‡ºã€‚æ­¤ç±»å‹çš„è¿›ç¨‹æ‰€éšå«çš„è¦æ±‚æ˜¯HTTPè¯·æ±‚å¤§å¤šéƒ½å¾ˆçŸ­(ä¸ä¼šè¶…è¿‡å‡ ç§’é’Ÿ)ï¼Œè€Œåœ¨é•¿æ—¶é—´è½®è¯¢ä¸­ï¼Œå®¢æˆ·ç«¯åœ¨ä¸¢å¤±è¿æ¥ååº”è¯¥é©¬ä¸Šå°è¯•é‡è¿ã€‚</p>
<p>å¯¹äº worker è¿›ç¨‹æ¥è¯´ï¼Œä¼˜é›…ç»ˆæ­¢æ˜¯æŒ‡å°†å½“å‰ä»»åŠ¡é€€å›é˜Ÿåˆ—ã€‚ä¾‹å¦‚ï¼Œ<a href="http://www.rabbitmq.com/" target="_blank" rel="noopener noreferrer">RabbitMQ</a> ä¸­ï¼Œworker å¯ä»¥å‘é€ä¸€ä¸ª<a href="http://www.rabbitmq.com/amqp-0-9-1-quickref.html#basic.nack" target="_blank" rel="noopener noreferrer"><code>NACK</code></a>ä¿¡å·ã€‚ <a href="https://beanstalkd.github.io" target="_blank" rel="noopener noreferrer">Beanstalkd</a> ä¸­ï¼Œä»»åŠ¡ç»ˆæ­¢å¹¶é€€å›é˜Ÿåˆ—ä¼šåœ¨workeræ–­å¼€æ—¶è‡ªåŠ¨è§¦å‘ã€‚æœ‰é”æœºåˆ¶çš„ç³»ç»Ÿè¯¸å¦‚ <a href="https://github.com/collectiveidea/delayed_job#readme" target="_blank" rel="noopener noreferrer">Delayed Job</a> åˆ™éœ€è¦ç¡®å®šé‡Šæ”¾äº†ç³»ç»Ÿèµ„æºã€‚æ­¤ç±»å‹çš„è¿›ç¨‹æ‰€éšå«çš„è¦æ±‚æ˜¯ï¼Œä»»åŠ¡éƒ½åº”è¯¥ <a href="http://en.wikipedia.org/wiki/Reentrant_%28subroutine%29" target="_blank" rel="noopener noreferrer">å¯é‡å¤æ‰§è¡Œ</a> ï¼Œ è¿™ä¸»è¦ç”±å°†ç»“æœåŒ…è£…è¿›äº‹åŠ¡æˆ–æ˜¯ä½¿é‡å¤æ“ä½œ <a href="http://en.wikipedia.org/wiki/Idempotence" target="_blank" rel="noopener noreferrer">å¹‚ç­‰</a> æ¥å®ç°ã€‚</p>
<p>è¿›ç¨‹è¿˜åº”å½“<strong>åœ¨é¢å¯¹çªç„¶æ­»äº¡æ—¶ä¿æŒå¥å£®</strong>ï¼Œä¾‹å¦‚åº•å±‚ç¡¬ä»¶æ•…éšœã€‚è™½ç„¶è¿™ç§æƒ…å†µæ¯”èµ·ä¼˜é›…ç»ˆæ­¢æ¥è¯´å°‘ä¹‹åˆå°‘ï¼Œä½†ç»ˆç©¶æœ‰å¯èƒ½å‘ç”Ÿã€‚ä¸€ç§æ¨èçš„æ–¹å¼æ˜¯ä½¿ç”¨ä¸€ä¸ªå¥å£®çš„åç«¯é˜Ÿåˆ—ï¼Œä¾‹å¦‚ <a href="https://beanstalkd.github.io" target="_blank" rel="noopener noreferrer">Beanstalkd</a> ï¼Œå®ƒå¯ä»¥åœ¨å®¢æˆ·ç«¯æ–­å¼€æˆ–è¶…æ—¶åè‡ªåŠ¨é€€å›ä»»åŠ¡ã€‚æ— è®ºå¦‚ä½•ï¼Œ12-Factor åº”ç”¨éƒ½åº”è¯¥å¯ä»¥è®¾è®¡èƒ½å¤Ÿåº”å¯¹æ„å¤–çš„ã€ä¸ä¼˜é›…çš„ç»ˆç»“ã€‚<a href="http://lwn.net/Articles/191059/" target="_blank" rel="noopener noreferrer">Crash-only design</a> å°†è¿™ç§æ¦‚å¿µè½¬åŒ–ä¸º <a href="http://couchdb.apache.org/docs/overview.html" target="_blank" rel="noopener noreferrer">åˆä¹é€»è¾‘çš„ç†è®º</a>ã€‚</p>
<h2>X. å¼€å‘ç¯å¢ƒä¸çº¿ä¸Šç¯å¢ƒç­‰ä»·</h2>
<h3>å°½å¯èƒ½çš„ä¿æŒå¼€å‘ï¼Œé¢„å‘å¸ƒï¼Œçº¿ä¸Šç¯å¢ƒç›¸åŒ</h3>
<p>ä»ä»¥å¾€ç»éªŒæ¥çœ‹ï¼Œå¼€å‘ç¯å¢ƒï¼ˆå³å¼€å‘äººå‘˜çš„æœ¬åœ° <a href="./codebase">éƒ¨ç½²</a>ï¼‰å’Œçº¿ä¸Šç¯å¢ƒï¼ˆå¤–éƒ¨ç”¨æˆ·è®¿é—®çš„çœŸå®éƒ¨ç½²ï¼‰ä¹‹é—´å­˜åœ¨ç€å¾ˆå¤šå·®å¼‚ã€‚è¿™äº›å·®å¼‚è¡¨ç°åœ¨ä»¥ä¸‹ä¸‰ä¸ªæ–¹é¢ï¼š</p>
<ul>
<li><strong>æ—¶é—´å·®å¼‚ï¼š</strong> å¼€å‘äººå‘˜æ­£åœ¨ç¼–å†™çš„ä»£ç å¯èƒ½éœ€è¦å‡ å¤©ï¼Œå‡ å‘¨ï¼Œç”šè‡³å‡ ä¸ªæœˆæ‰ä¼šä¸Šçº¿ã€‚</li>
<li><strong>äººå‘˜å·®å¼‚ï¼š</strong> å¼€å‘äººå‘˜ç¼–å†™ä»£ç ï¼Œè¿ç»´äººå‘˜éƒ¨ç½²ä»£ç ã€‚</li>
<li><strong>å·¥å…·å·®å¼‚ï¼š</strong> å¼€å‘äººå‘˜æˆ–è®¸ä½¿ç”¨ Nginxï¼ŒSQLiteï¼ŒOS Xï¼Œè€Œçº¿ä¸Šç¯å¢ƒä½¿ç”¨ Apacheï¼ŒMySQL ä»¥åŠ Linuxã€‚</li>
</ul>
<p><strong>12-Factor åº”ç”¨æƒ³è¦åšåˆ° <a href="http://avc.com/2011/02/continuous-deployment/" target="_blank" rel="noopener noreferrer">æŒç»­éƒ¨ç½²</a> å°±å¿…é¡»ç¼©å°æœ¬åœ°ä¸çº¿ä¸Šå·®å¼‚ã€‚</strong> å†å›å¤´çœ‹ä¸Šé¢æ‰€æè¿°çš„ä¸‰ä¸ªå·®å¼‚:</p>
<ul>
<li>ç¼©å°æ—¶é—´å·®å¼‚ï¼šå¼€å‘äººå‘˜å¯ä»¥å‡ å°æ—¶ï¼Œç”šè‡³å‡ åˆ†é’Ÿå°±éƒ¨ç½²ä»£ç ã€‚</li>
<li>ç¼©å°äººå‘˜å·®å¼‚ï¼šå¼€å‘äººå‘˜ä¸åªè¦ç¼–å†™ä»£ç ï¼Œæ›´åº”è¯¥å¯†åˆ‡å‚ä¸éƒ¨ç½²è¿‡ç¨‹ä»¥åŠä»£ç åœ¨çº¿ä¸Šçš„è¡¨ç°ã€‚</li>
<li>ç¼©å°å·¥å…·å·®å¼‚ï¼šå°½é‡ä¿è¯å¼€å‘ç¯å¢ƒä»¥åŠçº¿ä¸Šç¯å¢ƒçš„ä¸€è‡´æ€§ã€‚</li>
</ul>
<p>å°†ä¸Šè¿°æ€»ç»“å˜ä¸ºä¸€ä¸ªè¡¨æ ¼å¦‚ä¸‹ï¼š</p>
<table>
  <tbody><tr>
    <th></th>
    <th>ä¼ ç»Ÿåº”ç”¨</th>
    <th>12-Factor åº”ç”¨</th>
  </tr>
  <tr>
    <th>æ¯æ¬¡éƒ¨ç½²é—´éš”</th>
    <td>æ•°å‘¨</td>
    <td>å‡ å°æ—¶</td>
  </tr>
  <tr>
    <th>å¼€å‘äººå‘˜ vs è¿ç»´äººå‘˜</th>
    <td>ä¸åŒçš„äºº</td>
    <td>ç›¸åŒçš„äºº</td>
  </tr>
  <tr>
    <th>å¼€å‘ç¯å¢ƒ vs çº¿ä¸Šç¯å¢ƒ</th>
    <td>ä¸åŒ</td>
    <td>å°½é‡æ¥è¿‘</td>
  </tr>
</tbody></table>
<p><a href="./backing-services">åç«¯æœåŠ¡</a> æ˜¯ä¿æŒå¼€å‘ä¸çº¿ä¸Šç­‰ä»·çš„é‡è¦éƒ¨åˆ†ï¼Œä¾‹å¦‚æ•°æ®åº“ï¼Œé˜Ÿåˆ—ç³»ç»Ÿï¼Œä»¥åŠç¼“å­˜ã€‚è®¸å¤šè¯­è¨€éƒ½æä¾›äº†ç®€åŒ–è·å–åç«¯æœåŠ¡çš„ç±»åº“ï¼Œä¾‹å¦‚ä¸åŒç±»å‹æœåŠ¡çš„ <em>é€‚é…å™¨</em> ã€‚ä¸‹åˆ—è¡¨æ ¼æä¾›äº†ä¸€äº›ä¾‹å­ã€‚</p>
<table>
  <tbody><tr>
    <th>ç±»å‹</th>
    <th>è¯­è¨€</th>
    <th>ç±»åº“</th>
    <th>é€‚é…å™¨</th>
  </tr>
  <tr>
    <td>æ•°æ®åº“</td>
    <td>Ruby/Rails</td>
    <td>ActiveRecord</td>
    <td>MySQL, PostgreSQL, SQLite</td>
  </tr>
  <tr>
    <td>é˜Ÿåˆ—</td>
    <td>Python/Django</td>
    <td>Celery</td>
    <td>RabbitMQ, Beanstalkd, Redis</td>
  </tr>
  <tr>
    <td>ç¼“å­˜</td>
    <td>Ruby/Rails</td>
    <td>ActiveSupport::Cache</td>
    <td>Memory, filesystem, Memcached</td>
  </tr>
</tbody></table>
<p>å¼€å‘äººå‘˜æœ‰æ—¶ä¼šè§‰å¾—åœ¨æœ¬åœ°ç¯å¢ƒä¸­ä½¿ç”¨è½»é‡çš„åç«¯æœåŠ¡å…·æœ‰å¾ˆå¼ºçš„å¸å¼•åŠ›ï¼Œè€Œé‚£äº›æ›´é‡é‡çº§çš„å¥å£®çš„åç«¯æœåŠ¡åº”è¯¥ä½¿ç”¨åœ¨ç”Ÿäº§ç¯å¢ƒã€‚ä¾‹å¦‚ï¼Œæœ¬åœ°ä½¿ç”¨ SQLite çº¿ä¸Šä½¿ç”¨ PostgreSQLï¼›åˆå¦‚æœ¬åœ°ç¼“å­˜åœ¨è¿›ç¨‹å†…å­˜ä¸­è€Œçº¿ä¸Šå­˜å…¥ Memcachedã€‚</p>
<p><strong>12-Factor åº”ç”¨çš„å¼€å‘äººå‘˜åº”è¯¥åå¯¹åœ¨ä¸åŒç¯å¢ƒé—´ä½¿ç”¨ä¸åŒçš„åç«¯æœåŠ¡</strong> ï¼Œå³ä½¿é€‚é…å™¨å·²ç»å¯ä»¥å‡ ä¹æ¶ˆé™¤ä½¿ç”¨ä¸Šçš„å·®å¼‚ã€‚è¿™æ˜¯å› ä¸ºï¼Œä¸åŒçš„åç«¯æœåŠ¡æ„å‘³ç€ä¼šçªç„¶å‡ºç°çš„ä¸å…¼å®¹ï¼Œä»è€Œå¯¼è‡´æµ‹è¯•ã€é¢„å‘å¸ƒéƒ½æ­£å¸¸çš„ä»£ç åœ¨çº¿ä¸Šå‡ºç°é—®é¢˜ã€‚è¿™äº›é”™è¯¯ä¼šç»™æŒç»­éƒ¨ç½²å¸¦æ¥é˜»åŠ›ã€‚ä»åº”ç”¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸæ¥çœ‹ï¼Œæ¶ˆé™¤è¿™ç§é˜»åŠ›éœ€è¦èŠ±è´¹å¾ˆå¤§çš„ä»£ä»·ã€‚</p>
<p>ä¸æ­¤åŒæ—¶ï¼Œè½»é‡çš„æœ¬åœ°æœåŠ¡ä¹Ÿä¸åƒä»¥å‰é‚£æ ·å¼•äººæ³¨ç›®ã€‚å€ŸåŠ©äº<a href="http://mxcl.github.com/homebrew/" target="_blank" rel="noopener noreferrer">Homebrew</a>ï¼Œ<a href="https://help.ubuntu.com/community/AptGet/Howto" target="_blank" rel="noopener noreferrer">apt-get</a>ç­‰ç°ä»£çš„æ‰“åŒ…ç³»ç»Ÿï¼Œè¯¸å¦‚Memcachedã€PostgreSQLã€RabbitMQ ç­‰åç«¯æœåŠ¡çš„å®‰è£…ä¸è¿è¡Œä¹Ÿå¹¶ä¸å¤æ‚ã€‚æ­¤å¤–ï¼Œä½¿ç”¨ç±»ä¼¼ <a href="http://www.opscode.com/chef/" target="_blank" rel="noopener noreferrer">Chef</a> å’Œ <a href="http://docs.puppetlabs.com/" target="_blank" rel="noopener noreferrer">Puppet</a> çš„å£°æ˜å¼é…ç½®å·¥å…·ï¼Œç»“åˆåƒ <a href="http://vagrantup.com/" target="_blank" rel="noopener noreferrer">Vagrant</a> è¿™æ ·è½»é‡çš„è™šæ‹Ÿç¯å¢ƒå°±å¯ä»¥ä½¿å¾—å¼€å‘äººå‘˜çš„æœ¬åœ°ç¯å¢ƒä¸çº¿ä¸Šç¯å¢ƒæ— é™æ¥è¿‘ã€‚ä¸åŒæ­¥ç¯å¢ƒå’ŒæŒç»­éƒ¨ç½²æ‰€å¸¦æ¥çš„ç›Šå¤„ç›¸æ¯”ï¼Œå®‰è£…è¿™äº›ç³»ç»Ÿæ˜¾ç„¶æ˜¯å€¼å¾—çš„ã€‚</p>
<p>ä¸åŒåç«¯æœåŠ¡çš„é€‚é…å™¨ä»ç„¶æ˜¯æœ‰ç”¨çš„ï¼Œå› ä¸ºå®ƒä»¬å¯ä»¥ä½¿ç§»æ¤åç«¯æœåŠ¡å˜å¾—ç®€å•ã€‚ä½†åº”ç”¨çš„æ‰€æœ‰éƒ¨ç½²ï¼Œè¿™å…¶ä¸­åŒ…æ‹¬å¼€å‘ã€é¢„å‘å¸ƒä»¥åŠçº¿ä¸Šç¯å¢ƒï¼Œéƒ½åº”è¯¥ä½¿ç”¨åŒä¸€ä¸ªåç«¯æœåŠ¡çš„ç›¸åŒç‰ˆæœ¬ã€‚</p>
<h2>XI. æ—¥å¿—</h2>
<h3>æŠŠæ—¥å¿—å½“ä½œäº‹ä»¶æµ</h3>
<p><em>æ—¥å¿—</em> ä½¿å¾—åº”ç”¨ç¨‹åºè¿è¡Œçš„åŠ¨ä½œå˜å¾—é€æ˜ã€‚åœ¨åŸºäºæœåŠ¡å™¨çš„ç¯å¢ƒä¸­ï¼Œæ—¥å¿—é€šå¸¸è¢«å†™åœ¨ç¡¬ç›˜çš„ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œä½†è¿™åªæ˜¯ä¸€ç§è¾“å‡ºæ ¼å¼ã€‚</p>
<p>æ—¥å¿—åº”è¯¥æ˜¯ <a href="https://adam.herokuapp.com/past/2011/4/1/logs_are_streams_not_files/" target="_blank" rel="noopener noreferrer">äº‹ä»¶æµ</a> çš„æ±‡æ€»ï¼Œå°†æ‰€æœ‰è¿è¡Œä¸­è¿›ç¨‹å’Œåç«¯æœåŠ¡çš„è¾“å‡ºæµæŒ‰ç…§æ—¶é—´é¡ºåºæ”¶é›†èµ·æ¥ã€‚å°½ç®¡åœ¨å›æº¯é—®é¢˜æ—¶å¯èƒ½éœ€è¦çœ‹å¾ˆå¤šè¡Œï¼Œæ—¥å¿—æœ€åŸå§‹çš„æ ¼å¼ç¡®å®æ˜¯ä¸€ä¸ªäº‹ä»¶ä¸€è¡Œã€‚æ—¥å¿—æ²¡æœ‰ç¡®å®šå¼€å§‹å’Œç»“æŸï¼Œä½†éšç€åº”ç”¨åœ¨è¿è¡Œä¼šæŒç»­çš„å¢åŠ ã€‚</p>
<p><strong>12-factoråº”ç”¨æœ¬èº«ä»ä¸è€ƒè™‘å­˜å‚¨è‡ªå·±çš„è¾“å‡ºæµã€‚</strong> ä¸åº”è¯¥è¯•å›¾å»å†™æˆ–è€…ç®¡ç†æ—¥å¿—æ–‡ä»¶ã€‚ç›¸åï¼Œæ¯ä¸€ä¸ªè¿è¡Œçš„è¿›ç¨‹éƒ½ä¼šç›´æ¥çš„æ ‡å‡†è¾“å‡ºï¼ˆ<code>stdout</code>ï¼‰äº‹ä»¶æµã€‚å¼€å‘ç¯å¢ƒä¸­ï¼Œå¼€å‘äººå‘˜å¯ä»¥é€šè¿‡è¿™äº›æ•°æ®æµï¼Œå®æ—¶åœ¨ç»ˆç«¯çœ‹åˆ°åº”ç”¨çš„æ´»åŠ¨ã€‚</p>
<p>åœ¨é¢„å‘å¸ƒæˆ–çº¿ä¸Šéƒ¨ç½²ä¸­ï¼Œæ¯ä¸ªè¿›ç¨‹çš„è¾“å‡ºæµç”±è¿è¡Œç¯å¢ƒæˆªè·ï¼Œå¹¶å°†å…¶ä»–è¾“å‡ºæµæ•´ç†åœ¨ä¸€èµ·ï¼Œç„¶åä¸€å¹¶å‘é€ç»™ä¸€ä¸ªæˆ–å¤šä¸ªæœ€ç»ˆçš„å¤„ç†ç¨‹åºï¼Œç”¨äºæŸ¥çœ‹æˆ–æ˜¯é•¿æœŸå­˜æ¡£ã€‚è¿™äº›å­˜æ¡£è·¯å¾„å¯¹äºåº”ç”¨æ¥è¯´ä¸å¯è§ä¹Ÿä¸å¯é…ç½®ï¼Œè€Œæ˜¯å®Œå…¨äº¤ç»™ç¨‹åºçš„è¿è¡Œç¯å¢ƒç®¡ç†ã€‚ç±»ä¼¼ <a href="https://github.com/heroku/logplex" target="_blank" rel="noopener noreferrer">Logplex</a> å’Œ <a href="https://github.com/fluent/fluentd" target="_blank" rel="noopener noreferrer">Fluentd</a> çš„å¼€æºå·¥å…·å¯ä»¥è¾¾åˆ°è¿™ä¸ªç›®çš„ã€‚</p>
<p>è¿™äº›äº‹ä»¶æµå¯ä»¥è¾“å‡ºè‡³æ–‡ä»¶ï¼Œæˆ–è€…åœ¨ç»ˆç«¯å®æ—¶è§‚å¯Ÿã€‚æœ€é‡è¦çš„ï¼Œè¾“å‡ºæµå¯ä»¥å‘é€åˆ° <a href="http://www.splunk.com/" target="_blank" rel="noopener noreferrer">Splunk</a> è¿™æ ·çš„æ—¥å¿—ç´¢å¼•åŠåˆ†æç³»ç»Ÿï¼Œæˆ– <a href="http://hive.apache.org/" target="_blank" rel="noopener noreferrer">Hadoop/Hive</a> è¿™æ ·çš„é€šç”¨æ•°æ®å­˜å‚¨ç³»ç»Ÿã€‚è¿™äº›ç³»ç»Ÿä¸ºæŸ¥çœ‹åº”ç”¨çš„å†å²æ´»åŠ¨æä¾›äº†å¼ºå¤§è€Œçµæ´»çš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>æ‰¾å‡ºè¿‡å»ä¸€æ®µæ—¶é—´ç‰¹æ®Šçš„äº‹ä»¶ã€‚</li>
<li>å›¾å½¢åŒ–ä¸€ä¸ªå¤§è§„æ¨¡çš„è¶‹åŠ¿ï¼Œæ¯”å¦‚æ¯åˆ†é’Ÿçš„è¯·æ±‚é‡ã€‚</li>
<li>æ ¹æ®ç”¨æˆ·å®šä¹‰çš„æ¡ä»¶å®æ—¶è§¦å‘è­¦æŠ¥ï¼Œæ¯”å¦‚æ¯åˆ†é’Ÿçš„æŠ¥é”™è¶…è¿‡æŸä¸ªè­¦æˆ’çº¿ã€‚</li>
</ul>
<h2>XII. ç®¡ç†è¿›ç¨‹</h2>
<h3>åå°ç®¡ç†ä»»åŠ¡å½“ä½œä¸€æ¬¡æ€§è¿›ç¨‹è¿è¡Œ</h3>
<p><a href="./concurrency">è¿›ç¨‹æ„æˆ</a>ï¼ˆprocess formationï¼‰æ˜¯æŒ‡ç”¨æ¥å¤„ç†åº”ç”¨çš„å¸¸è§„ä¸šåŠ¡ï¼ˆæ¯”å¦‚å¤„ç† web è¯·æ±‚ï¼‰çš„ä¸€ç»„è¿›ç¨‹ã€‚ä¸æ­¤ä¸åŒï¼Œå¼€å‘äººå‘˜ç»å¸¸å¸Œæœ›æ‰§è¡Œä¸€äº›ç®¡ç†æˆ–ç»´æŠ¤åº”ç”¨çš„ä¸€æ¬¡æ€§ä»»åŠ¡ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>è¿è¡Œæ•°æ®ç§»æ¤ï¼ˆDjango ä¸­çš„ <code>manage.py migrate</code>, Rails ä¸­çš„ <code>rake db:migrate</code>ï¼‰ã€‚</li>
<li>è¿è¡Œä¸€ä¸ªæ§åˆ¶å°ï¼ˆä¹Ÿè¢«ç§°ä¸º <a href="http://en.wikipedia.org/wiki/Read-eval-print_loop" target="_blank" rel="noopener noreferrer">REPL</a> shellï¼‰ï¼Œæ¥æ‰§è¡Œä¸€äº›ä»£ç æˆ–æ˜¯é’ˆå¯¹çº¿ä¸Šæ•°æ®åº“åšä¸€äº›æ£€æŸ¥ã€‚å¤§å¤šæ•°è¯­è¨€éƒ½é€šè¿‡è§£é‡Šå™¨æä¾›äº†ä¸€ä¸ª REPL å·¥å…·ï¼ˆ<code>python</code> æˆ– <code>perl</code>ï¼‰ ï¼Œæˆ–æ˜¯å…¶ä»–å‘½ä»¤ï¼ˆRuby ä½¿ç”¨ <code>irb</code>, Rails ä½¿ç”¨ <code>rails console</code>ï¼‰ã€‚</li>
<li>è¿è¡Œä¸€äº›æäº¤åˆ°ä»£ç ä»“åº“çš„ä¸€æ¬¡æ€§è„šæœ¬ã€‚</li>
</ul>
<p>ä¸€æ¬¡æ€§ç®¡ç†è¿›ç¨‹åº”è¯¥å’Œæ­£å¸¸çš„ <a href="./processes">å¸¸é©»è¿›ç¨‹</a> ä½¿ç”¨åŒæ ·çš„ç¯å¢ƒã€‚è¿™äº›ç®¡ç†è¿›ç¨‹å’Œä»»ä½•å…¶ä»–çš„è¿›ç¨‹ä¸€æ ·ä½¿ç”¨ç›¸åŒçš„ <a href="./codebase">ä»£ç </a> å’Œ <a href="./config">é…ç½®</a> ï¼ŒåŸºäºæŸä¸ª <a href="./build-release-run">å‘å¸ƒç‰ˆæœ¬</a> è¿è¡Œã€‚åå°ç®¡ç†ä»£ç åº”è¯¥éšå…¶ä»–åº”ç”¨ç¨‹åºä»£ç ä¸€èµ·å‘å¸ƒï¼Œä»è€Œé¿å…åŒæ­¥é—®é¢˜ã€‚</p>
<p>æ‰€æœ‰è¿›ç¨‹ç±»å‹åº”è¯¥ä½¿ç”¨åŒæ ·çš„ <a href="./dependencies">ä¾èµ–éš”ç¦»</a> æŠ€æœ¯ã€‚ä¾‹å¦‚ï¼Œå¦‚æœRubyçš„webè¿›ç¨‹ä½¿ç”¨äº†å‘½ä»¤ <code>bundle exec thin start</code> ï¼Œé‚£ä¹ˆæ•°æ®åº“ç§»æ¤åº”ä½¿ç”¨ <code>bundle exec rake db:migrate</code> ã€‚åŒæ ·çš„ï¼Œå¦‚æœä¸€ä¸ª Python ç¨‹åºä½¿ç”¨äº† Virtualenvï¼Œåˆ™éœ€è¦åœ¨è¿è¡Œ Tornado Web æœåŠ¡å™¨å’Œä»»ä½• <code>manage.py</code> ç®¡ç†è¿›ç¨‹æ—¶å¼•å…¥ <code>bin/python</code> ã€‚</p>
<p>12-factor å°¤å…¶é’çé‚£äº›æä¾›äº† REPL shell çš„è¯­è¨€ï¼Œå› ä¸ºé‚£ä¼šè®©è¿è¡Œä¸€æ¬¡æ€§è„šæœ¬å˜å¾—ç®€å•ã€‚åœ¨æœ¬åœ°éƒ¨ç½²ä¸­ï¼Œå¼€å‘äººå‘˜ç›´æ¥åœ¨å‘½ä»¤è¡Œä½¿ç”¨ shell å‘½ä»¤è°ƒç”¨ä¸€æ¬¡æ€§ç®¡ç†è¿›ç¨‹ã€‚åœ¨çº¿ä¸Šéƒ¨ç½²ä¸­ï¼Œå¼€å‘äººå‘˜ä¾æ—§å¯ä»¥ä½¿ç”¨sshæˆ–æ˜¯è¿è¡Œç¯å¢ƒæä¾›çš„å…¶ä»–æœºåˆ¶æ¥è¿è¡Œè¿™æ ·çš„è¿›ç¨‹ã€‚</p>
]]></content>
    <author>
      <name>heroku</name>
    </author>
    <category term="è½¬è½½"/>
    <contributor>
      <name>heroku</name>
    </contributor>
    <published>2024-05-11T00:00:00.000Z</published>
    <rights>Copyright by heroku</rights>
  </entry>
  <entry>
    <title type="text">åŸºäºRediså®ç°æ¶ˆæ¯åˆ°æœŸæé†’</title>
    <id>http://blog.cjhe.top/database/redis/deadline-message.html</id>
    <link href="http://blog.cjhe.top/database/redis/deadline-message.html"/>
    <updated>2024-05-20T03:37:50.000Z</updated>
    <summary type="html"><![CDATA[<blockquote>
<p>ä¸šåŠ¡ä¸Šéœ€æ±‚ï¼Œå¸Œæœ›å®ç°ä¸€ä¸ªæ¶ˆæ¯åˆ°æœŸæé†’çš„åŠŸèƒ½ï¼Œæ¯”å¦‚ï¼šæå‰ä¸¤ä¸ªå°æ—¶å‘é€é¢„è­¦ä¿¡æ¯ã€åˆ°æœŸå‘é€è¶…æœŸä¿¡æ¯ç­‰ã€‚</p>
<p>å®ç°è¯¥åŠŸèƒ½æœ‰å¾ˆå¤šæŠ€æœ¯æ–¹æ¡ˆï¼Œæœ¬æ–‡æ¢è®¨ï¼šå¦‚ä½•é€šè¿‡Rediså®ç°æ¶ˆæ¯åˆ°æœŸæé†’</p>
</blockquote>
]]></summary>
    <content type="html"><![CDATA[<blockquote>
<p>ä¸šåŠ¡ä¸Šéœ€æ±‚ï¼Œå¸Œæœ›å®ç°ä¸€ä¸ªæ¶ˆæ¯åˆ°æœŸæé†’çš„åŠŸèƒ½ï¼Œæ¯”å¦‚ï¼šæå‰ä¸¤ä¸ªå°æ—¶å‘é€é¢„è­¦ä¿¡æ¯ã€åˆ°æœŸå‘é€è¶…æœŸä¿¡æ¯ç­‰ã€‚</p>
<p>å®ç°è¯¥åŠŸèƒ½æœ‰å¾ˆå¤šæŠ€æœ¯æ–¹æ¡ˆï¼Œæœ¬æ–‡æ¢è®¨ï¼šå¦‚ä½•é€šè¿‡Rediså®ç°æ¶ˆæ¯åˆ°æœŸæé†’</p>
</blockquote>
<!-- more -->
<h2>èƒŒæ™¯çŸ¥è¯†</h2>
<p>Redisé”®ç©ºé—´é€šçŸ¥ï¼ˆKeyspace Notificationsï¼‰æ˜¯Redis 2.8.0ç‰ˆæœ¬å¼•å…¥çš„ä¸€ç§æ¶ˆæ¯é€šçŸ¥æœºåˆ¶ï¼Œç”¨äºè®¢é˜…å’Œå‘å¸ƒRedisé”®ç©ºé—´äº‹ä»¶ã€‚</p>
<p>æœ¬è´¨ä¸Šï¼šRedisé”®ç©ºé—´é€šçŸ¥é€šè¿‡å‘å¸ƒ/è®¢é˜…ï¼ˆpub/subï¼‰æ¨¡å¼å®ç°ï¼Œå½“æŸäº›äº‹ä»¶å‘ç”Ÿæ—¶ï¼ŒRedisä¼šè‡ªåŠ¨å‘å¸ƒæ¶ˆæ¯ï¼Œå¦‚æœæœ‰å®¢æˆ·ç«¯è®¢é˜…äº†è¿™äº›æ¶ˆæ¯ï¼Œå°±ä¼šæ”¶åˆ°è¯¥æ¶ˆæ¯ã€‚</p>
<p>é”®ç©ºé—´é€šçŸ¥ä¼šå‘é€ä¸¤ç§ä¸åŒç±»å‹çš„äº‹ä»¶æ¶ˆæ¯ï¼š</p>
<ul>
<li>keyspaceï¼šé”®ç©ºé—´é€šçŸ¥ï¼Œå½“é”®ç©ºé—´ä¸­çš„é”®è¢«åˆ›å»ºã€åˆ é™¤ã€è¿‡æœŸã€ä¿®æ”¹ç­‰æ“ä½œæ—¶è§¦å‘ã€‚</li>
<li>keyeventï¼šé”®äº‹ä»¶é€šçŸ¥ï¼Œå½“é”®ç©ºé—´ä¸­çš„é”®è¢«åˆ›å»ºã€åˆ é™¤ã€è¿‡æœŸã€ä¿®æ”¹ç­‰æ“ä½œæ—¶è§¦å‘ã€‚</li>
</ul>
<p>ä¾‹å¦‚ï¼šå¯¹æ•°æ®åº“<code>0</code>ä¸­åä¸º<code>mykey</code>çš„é”®ä¸Šæ‰§è¡Œåˆ é™¤æ“ä½œï¼Œå°†è§¦å‘ä¸¤æ¡æ¶ˆæ¯é€šçŸ¥ï¼Œç­‰åŒäºï¼š</p>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>PUBLISH __keyspace@0__:mykey del
PUBLISH __keyevent@0__:del "mykey"
</code></pre></div><p>æ ¼å¼ä¸ºï¼š<code>__{keyspace|keyevent}@{db}__:{KeyPattern|OpsType}</code>, å…¶ä¸­ï¼š</p>
<ul>
<li><code>__keyspace@{db}__:{KeyPattern}</code>ï¼šé”®ç©ºé—´é€šçŸ¥å‰ç¼€ï¼Œè¡¨ç¤ºè¯¥æ¶ˆæ¯æ˜¯é”®ç©ºé—´é€šçŸ¥æ¶ˆæ¯ã€‚</li>
<li><code>__keyevent@{db}__:{OpsType}</code>ï¼šé”®äº‹ä»¶é€šçŸ¥å‰ç¼€ï¼Œè¡¨ç¤ºè¯¥æ¶ˆæ¯æ˜¯é”®äº‹ä»¶é€šçŸ¥æ¶ˆæ¯ã€‚</li>
<li><code>{db}</code>ï¼šæ•°æ®åº“ç¼–å·ï¼Œè¡¨ç¤ºè¯¥æ¶ˆæ¯æ˜¯å“ªä¸ªæ•°æ®åº“çš„æ¶ˆæ¯ã€‚</li>
<li><code>{KeyPattern}</code>ï¼šé”®æ¨¡å¼ï¼Œæ”¯æŒé€šé…ç¬¦*ã€‚</li>
<li><code>{OpsType}</code>:è¡¨ç¤ºæ“ä½œç±»å‹ï¼Œæ¯”å¦‚ï¼šexpired</li>
</ul>
<div class="hint-container warning">
<p class="hint-container-title">æ³¨æ„</p>
<p>ç”±äºæœ¬è´¨ä¸ŠåŸºäºæ¶ˆæ¯è®¢é˜…ï¼Œå› æ­¤ï¼Œå½“æœ‰å®¢æˆ·ç«¯æœªè®¢é˜…è¯¥æ¶ˆæ¯æˆ–è€…æ–­å¼€è¿æ¥æœŸé—´ï¼Œæ¶ˆæ¯ä¼šä¸¢å¤±ã€‚</p>
</div>
<h2>é…ç½®ä¿®æ”¹</h2>
<blockquote>
<p>å¯¹äºé”®ç©ºé—´é€šçŸ¥ï¼Œéœ€è¦ä¿®æ”¹Redisé…ç½®æ–‡ä»¶ï¼Œå¯ç”¨é”®ç©ºé—´é€šçŸ¥åŠŸèƒ½ã€‚</p>
</blockquote>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>notify-keyspace-events Kx
</code></pre></div><p>é…ç½®å«ä¹‰ï¼š</p>
<ul>
<li>Kï¼šè¡¨ç¤ºé”®ç©ºé—´é€šçŸ¥ï¼Œä»¥<code>__keyspace@&lt;db&gt;__</code>å‰ç¼€å‘å¸ƒæ¶ˆæ¯ã€‚</li>
<li>Eï¼šè¡¨ç¤ºé”®äº‹ä»¶é€šçŸ¥ï¼Œä»¥<code>__keyevent@&lt;db&gt;__</code>å‰ç¼€å‘å¸ƒæ¶ˆæ¯ã€‚</li>
<li>gï¼šDELã€EXPIREã€RENAMEç­‰ç±»å‹çš„äº‹ä»¶å‘ç”Ÿæ—¶å‘å¸ƒæ¶ˆæ¯ã€‚</li>
<li>$ï¼šå­—ç¬¦ä¸²ç±»å‹é”®å€¼å¯¹å‘ç”Ÿå˜åŒ–æ—¶å‘å¸ƒæ¶ˆæ¯ã€‚</li>
<li>lï¼šåˆ—è¡¨ç±»å‹é”®å€¼å¯¹å‘ç”Ÿå˜åŒ–æ—¶å‘å¸ƒæ¶ˆæ¯ã€‚</li>
<li>sï¼šé›†åˆç±»å‹é”®å€¼å¯¹å‘ç”Ÿå˜åŒ–æ—¶å‘å¸ƒæ¶ˆæ¯ã€‚</li>
<li>hï¼šå“ˆå¸Œç±»å‹é”®å€¼å¯¹å‘ç”Ÿå˜åŒ–æ—¶å‘å¸ƒæ¶ˆæ¯ã€‚</li>
<li>zï¼šæœ‰åºé›†åˆç±»å‹é”®å€¼å¯¹å‘ç”Ÿå˜åŒ–æ—¶å‘å¸ƒæ¶ˆæ¯ã€‚</li>
<li>t: æµç±»å‹é”®å€¼å¯¹å‘é€å˜åŒ–æ—¶å‘å¸ƒæ¶ˆæ¯ã€‚</li>
<li>xï¼šè¿‡æœŸäº‹ä»¶ï¼šæ¯å½“æœ‰è¿‡æœŸé”®è¢«åˆ é™¤æ—¶å‘é€ã€‚</li>
<li>e: é©±é€äº‹ä»¶ï¼šæ¯å½“æœ‰é”®å› ä¸ºmaxmemoryæ”¿ç­–è€Œè¢«åˆ é™¤æ—¶å‘é€ã€‚</li>
<li>m: æœªå‘½ä¸­äº‹ä»¶ï¼Œæ¯å½“æœ‰é”®æ²¡æœ‰å‘½ä¸­æ—¶å‘é€ã€‚</li>
<li>Aï¼šç­‰ä»·äºï¼šg$lshztxedï¼Œç›¸å½“äºæ˜¯allã€‚</li>
</ul>
<p>ä¾‹å¦‚ï¼š<code>Kx</code>è¡¨ç¤ºå½“é”®è¿‡æœŸæ—¶è§¦å‘é”®ç©ºé—´äº‹ä»¶é€šçŸ¥ã€‚</p>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>127.0.0.1:6379&gt; config get notify-keyspace-events
1) "notify-keyspace-events"
2) ""
127.0.0.1:6379&gt; config set notify-keyspace-events Kx
OK
127.0.0.1:6379&gt; config get notify-keyspace-events
1) "notify-keyspace-events"
2) "xK"
127.0.0.1:6379&gt;
</code></pre></div><h2>æµ‹è¯•</h2>
<p>å¼€å¯ç¬¬ä¸€ä¸ªcliï¼Œè®¢é˜…db0çš„keyspaceæ¶ˆæ¯ï¼š</p>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>127.0.0.1:6379&gt; psubscribe __keyspace@0__:myid#*
Reading messages... (press Ctrl-C to quit)
1) "psubscribe"
2) "__keyspace@0__:myid#*"
3) (integer) 1
</code></pre></div><p>å¼€å¯ç¬¬äºŒä¸ªcliï¼Œè§¦å‘é”®è¿‡æœŸäº‹ä»¶</p>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>127.0.0.1:6379&gt; setex myid#123 10 xxx
OK
127.0.0.1:6379&gt;
</code></pre></div><p>å†çœ‹ç¬¬ä¸€ä¸ªcliï¼Œ10ç§’ä¹‹åå°±æ”¶åˆ°æ¶ˆæ¯ï¼š</p>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>127.0.0.1:6379&gt; psubscribe __keyspace@0__:myid#*
Reading messages... (press Ctrl-C to quit)
1) "psubscribe"
2) "__keyspace@0__:myid#*"
3) (integer) 1
1) "pmessage"
2) "__keyspace@0__:myid#*"
3) "__keyspace@0__:myid#123"
4) "expired"
</code></pre></div><h2>å‚è€ƒæ–‡çŒ®</h2>
<ul>
<li><a href="https://redis.io/docs/latest/develop/use/keyspace-notifications/" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://blog.csdn.net/zhizhengguan/article/details/90575438" target="_blank" rel="noopener noreferrer">golangï¼šredisè®¢é˜…é”®ç©ºé—´è¿‡æœŸæ¶ˆæ¯</a></li>
</ul>
]]></content>
    <category term="æ•°æ®å­˜å‚¨"/>
    <published>2024-05-07T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">Redis</title>
    <id>http://blog.cjhe.top/database/redis/</id>
    <link href="http://blog.cjhe.top/database/redis/"/>
    <updated>2024-05-20T03:37:50.000Z</updated>
    <content type="html"><![CDATA[<!-- more -->
]]></content>
    <category term="æ•°æ®å­˜å‚¨"/>
    <published>2024-05-07T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">ç®—æ³•æ¨è</title>
    <id>http://blog.cjhe.top/algorithm/recommend.html</id>
    <link href="http://blog.cjhe.top/algorithm/recommend.html"/>
    <updated>2024-05-15T10:01:59.000Z</updated>
    <summary type="text">åœ¨çº¿ä¹¦ç±

æ•°æ®ç»“æ„å’Œç®—æ³•åŠ¨æ€å¯è§†åŒ–
ç®—æ³•å¯è§†åŒ–
åœ¨çº¿è¿è¡Œä»£ç çš„ç®—æ³•å¯è§†åŒ–
æ•°æ®ç»“æ„å¯è§†åŒ–
ç®—æ³•å®ç°</summary>
    <content type="html"><![CDATA[<!-- more -->
<h2>åœ¨çº¿ä¹¦ç±</h2>
<ul>
<li>æ•°æ®ç»“æ„å’Œç®—æ³•åŠ¨æ€å¯è§†åŒ–<a href="https://visualgo.net/zh" target="_blank" rel="noopener noreferrer"></a></li>
<li>ç®—æ³•å¯è§†åŒ–<a href="https://www.chrislaux.com/" target="_blank" rel="noopener noreferrer"></a></li>
<li>åœ¨çº¿è¿è¡Œä»£ç çš„ç®—æ³•å¯è§†åŒ–<a href="https://algorithm-visualizer.org/" target="_blank" rel="noopener noreferrer"></a></li>
<li>æ•°æ®ç»“æ„å¯è§†åŒ–<a href="https://www.cs.usfca.edu/~galles/visualization/Algorithms.html" target="_blank" rel="noopener noreferrer"></a></li>
<li>ç®—æ³•å®ç°<a href="https://the-algorithms.com/" target="_blank" rel="noopener noreferrer"></a></li>
</ul>
]]></content>
    <category term="ç®—æ³•"/>
    <published>2023-08-14T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">è®¾è®¡æ¨¡å¼æ¨è</title>
    <id>http://blog.cjhe.top/design-pattern/recommend.html</id>
    <link href="http://blog.cjhe.top/design-pattern/recommend.html"/>
    <updated>2024-05-15T10:01:59.000Z</updated>
    <summary type="text">åœ¨çº¿ä¹¦ç±</summary>
    <content type="html"><![CDATA[<!-- more -->
<h2>åœ¨çº¿ä¹¦ç±</h2>
]]></content>
    <category term="è®¾è®¡æ¨¡å¼"/>
    <published>2022-09-10T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">ä¸­é—´ä»¶æ¨è</title>
    <id>http://blog.cjhe.top/middleware/recommend.html</id>
    <link href="http://blog.cjhe.top/middleware/recommend.html"/>
    <updated>2024-05-15T10:01:59.000Z</updated>
    <summary type="text">åœ¨çº¿ä¹¦ç±

Prometheuså‘Šè­¦</summary>
    <content type="html"><![CDATA[<!-- more -->
<h2>åœ¨çº¿ä¹¦ç±</h2>
<ul>
<li>Prometheuså‘Šè­¦<a href="https://awesome-prometheus-alerts.grep.to/" target="_blank" rel="noopener noreferrer"></a></li>
</ul>
]]></content>
    <category term="ä¸­é—´ä»¶"/>
    <published>2023-08-14T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">è½¬è½½</title>
    <id>http://blog.cjhe.top/share/</id>
    <link href="http://blog.cjhe.top/share/"/>
    <updated>2024-05-06T02:44:40.000Z</updated>
    <content type="html"><![CDATA[<!-- more -->
]]></content>
    <category term="è½¬è½½"/>
    <published>2023-03-04T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">å·¥å…·æ¨è</title>
    <id>http://blog.cjhe.top/tools/recommend.html</id>
    <link href="http://blog.cjhe.top/tools/recommend.html"/>
    <updated>2024-05-15T10:01:59.000Z</updated>
    <summary type="text">åœ¨çº¿ä¹¦ç±

é¸Ÿå“¥çš„Linuxç§æˆ¿èœ
TLCL
ç²¾å½©çš„Linuxå‘½ä»¤
å‘½ä»¤è¡Œçš„è‰ºæœ¯
CURLä½¿ç”¨</summary>
    <content type="html"><![CDATA[<!-- more -->
<h2>åœ¨çº¿ä¹¦ç±</h2>
<ul>
<li>é¸Ÿå“¥çš„Linuxç§æˆ¿èœ<a href="http://cn.linux.vbird.org/linux_basic/linux_basic.php" target="_blank" rel="noopener noreferrer"></a></li>
<li>TLCL<a href="http://billie66.github.io/TLCL/book/" target="_blank" rel="noopener noreferrer"></a></li>
<li>ç²¾å½©çš„Linuxå‘½ä»¤<a href="https://www.cnblogs.com/nineep/p/6795650.html" target="_blank" rel="noopener noreferrer"></a></li>
<li>å‘½ä»¤è¡Œçš„è‰ºæœ¯<a href="https://github.com/jlevy/the-art-of-command-line/blob/master/README-zh.md" target="_blank" rel="noopener noreferrer"></a></li>
<li>CURLä½¿ç”¨<a href="https://everything.curl.dev/" target="_blank" rel="noopener noreferrer"></a></li>
</ul>
]]></content>
    <category term="å·¥å…·"/>
    <published>2023-07-30T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">dockeræ¨è</title>
    <id>http://blog.cjhe.top/devops/docker/recommand.html</id>
    <link href="http://blog.cjhe.top/devops/docker/recommand.html"/>
    <updated>2024-08-27T02:59:10.000Z</updated>
    <summary type="text">åœ¨çº¿ä¹¦ç±

Docker-ä»å…¥é—¨åˆ°å®è·µ
Dockerä¸­æ–‡æ–‡æ¡£</summary>
    <content type="html"><![CDATA[<!-- more -->
<h2>åœ¨çº¿ä¹¦ç±</h2>
<ul>
<li>Docker-ä»å…¥é—¨åˆ°å®è·µ<a href="https://www.cntofu.com/book/139/index.html" target="_blank" rel="noopener noreferrer"></a></li>
<li>Dockerä¸­æ–‡æ–‡æ¡£<a href="http://www.dockerinfo.net/document" target="_blank" rel="noopener noreferrer"></a></li>
</ul>
]]></content>
    <category term="devops"/>
    <published>2024-03-18T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">k8sæ¨è</title>
    <id>http://blog.cjhe.top/devops/k8s/recommand.html</id>
    <link href="http://blog.cjhe.top/devops/k8s/recommand.html"/>
    <updated>2024-05-15T10:01:59.000Z</updated>
    <summary type="text">åœ¨çº¿ä¹¦ç±

ä»Dockeråˆ°kubernetesè¿›é˜¶
Kubernetesä¸­æ–‡æŒ‡å—</summary>
    <content type="html"><![CDATA[<!-- more -->
<h2>åœ¨çº¿ä¹¦ç±</h2>
<ul>
<li>ä»Dockeråˆ°kubernetesè¿›é˜¶<a href="https://www.qikqiak.com/k8s-book/" target="_blank" rel="noopener noreferrer"></a></li>
<li>Kubernetesä¸­æ–‡æŒ‡å—<a href="https://jimmysong.io/kubernetes-handbook/" target="_blank" rel="noopener noreferrer"></a></li>
</ul>
]]></content>
    <category term="devops"/>
    <published>2024-01-15T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">ç»„ä»¶é€šä¿¡</title>
    <id>http://blog.cjhe.top/language/vue/advance/communication.html</id>
    <link href="http://blog.cjhe.top/language/vue/advance/communication.html"/>
    <updated>2024-05-15T10:01:59.000Z</updated>
    <summary type="text">ç»„ä»¶é€šä¿¡
è‡ªå®šä¹‰å±æ€§-props

çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’æ•°æ®

çˆ¶ç»„ä»¶
Â å­ç»„ä»¶
Â Â Â 
æ³¨æ„

å•å‘æ•°æ®æµ
å­ç»„ä»¶ä¸èƒ½ä¿®æ”¹çˆ¶ç»„ä»¶ä¼ é€’çš„å€¼


è‡ªå®šä¹‰äº‹ä»¶-$emit

å­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®

çˆ¶ç»„ä»¶
Â å­ç»„ä»¶
äº‹ä»¶æ€»çº¿-$bus

é€‚åˆä»»æ„ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ï¼Œæ¯”å¦‚ï¼šå…„å¼Ÿç»„ä»¶ã€çˆ¶å­ç»„ä»¶ç­‰ã€‚

äº‹ä»¶æ€»çº¿
é¦–å…ˆå®‰è£…mitt
çˆ¶ç»„ä»¶
å“¥å“¥ç»„ä»¶
å¼Ÿå¼Ÿç»„ä»¶
v-mo...</summary>
    <content type="html"><![CDATA[<!-- more -->
<h2>ç»„ä»¶é€šä¿¡</h2>
<h3>è‡ªå®šä¹‰å±æ€§-props</h3>
<blockquote>
<p>çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’æ•°æ®</p>
</blockquote>
<p>çˆ¶ç»„ä»¶</p>
<div class="language-vue" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>parent<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>çˆ¶ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child</span> <span class="token attr-name">:msg</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>msg<span class="token punctuation">"</span></span> <span class="token attr-name">:count</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>count<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Child <span class="token keyword">from</span> <span class="token string">'./Child.vue'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">const</span> msg <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'Hello World'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>å­ç»„ä»¶</p>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>&lt;template&gt;
    &lt;div class="child"&gt;
        &lt;h1&gt;å­ç»„ä»¶&lt;/h1&gt;
        &lt;h6&gt;msg:{{ props.msg }}&lt;/h6&gt;
        &lt;button @click="handler"&gt;count:{{ count }}&lt;/button&gt;
    &lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
import { defineProps } from 'vue'
let props = defineProps({
    msg: String,
    count: Number,
});

const handler = () =&gt; {
    //props.count += 1; // è¿™æ ·ä¼šæŠ¥é”™ï¼Œå› ä¸ºpropsæ˜¯åªè¯»çš„
    console.log(props.count);
};
&lt;/script&gt;
</code></pre></div><div class="hint-container warning">
<p class="hint-container-title">æ³¨æ„</p>
<ul>
<li>å•å‘æ•°æ®æµ</li>
<li>å­ç»„ä»¶ä¸èƒ½ä¿®æ”¹çˆ¶ç»„ä»¶ä¼ é€’çš„å€¼</li>
</ul>
</div>
<h3>è‡ªå®šä¹‰äº‹ä»¶-$emit</h3>
<blockquote>
<p>å­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®</p>
</blockquote>
<p>çˆ¶ç»„ä»¶</p>
<div class="language-vue" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>parent<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>çˆ¶ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>å­ç»„ä»¶ä¼ é€’è¿‡æ¥çš„æ•°æ®ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item in list<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{ item }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child</span> <span class="token attr-name">@my-event</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handle<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Child <span class="token keyword">from</span> <span class="token string">'./Child.vue'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">const</span> list <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'å­ä¼ çˆ¶çš„æ•°æ®'</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span>
    list<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>å­ç»„ä»¶</p>
<div class="language-vue" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>child<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>å­ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$emit('my-event', 'Hello')<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>è§¦å‘äº‹ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handle<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>è§¦å‘äº‹ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">let</span> $emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'my-event'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">handle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'my-event'</span><span class="token punctuation">,</span> <span class="token string">'World'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3>äº‹ä»¶æ€»çº¿-$bus</h3>
<blockquote>
<p>é€‚åˆä»»æ„ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ï¼Œæ¯”å¦‚ï¼šå…„å¼Ÿç»„ä»¶ã€çˆ¶å­ç»„ä»¶ç­‰ã€‚</p>
</blockquote>
<p>äº‹ä»¶æ€»çº¿</p>
<p>é¦–å…ˆå®‰è£…mitt</p>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">--save</span> mitt 
</code></pre></div><div class="language-vue" data-ext="vue" data-title="vue"><pre class="language-vue"><code>import mitt from 'mitt';

const $bus = mitt();

export default $bus;
</code></pre></div><p>çˆ¶ç»„ä»¶</p>
<div class="language-vue" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>parent<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>çˆ¶ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handle<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>æ²¡æ”¶ç©å…·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child1</span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child2</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Child1 <span class="token keyword">from</span> <span class="token string">'./Child1.vue'</span>
<span class="token keyword">import</span> Child2 <span class="token keyword">from</span> <span class="token string">'./Child2.vue'</span>
<span class="token keyword">import</span> $bus <span class="token keyword">from</span> <span class="token string">'@/bus'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">handle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    $bus<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'clear-toy'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>å“¥å“¥ç»„ä»¶</p>
<div class="language-vue" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>child<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>å“¥å“¥ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>toy in toys<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{ toy }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>toys.length &gt; 0<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handle<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ç»™å¼Ÿå¼Ÿä¸€ä¸ªç©å…·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> onMounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> $bus <span class="token keyword">from</span> <span class="token string">'@/bus'</span>

<span class="token keyword">let</span> toys <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'BBæª'</span><span class="token punctuation">,</span> <span class="token string">'å˜å½¢é‡‘åˆš'</span><span class="token punctuation">,</span> <span class="token string">'èµ›è½¦'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">handle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> toy <span class="token operator">=</span> toys<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    $bus<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'send-toy'</span><span class="token punctuation">,</span> toy<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    $bus<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'clear-toy'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        toys<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>å¼Ÿå¼Ÿç»„ä»¶</p>
<div class="language-vue" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>child<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>å¼Ÿå¼Ÿç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>toy in toys<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{ toy }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> onMounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> $bus <span class="token keyword">from</span> <span class="token string">'@/bus'</span>

<span class="token keyword">let</span> toys <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'å¥¥ç‰¹æ›¼'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    $bus<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'send-toy'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">data</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        toys<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    $bus<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'clear-toy'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        toys<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3>v-model</h3>
<blockquote>
<p>çˆ¶å­ç»„ä»¶åŒå‘æ•°æ®åŒæ­¥ï¼Œç›¸å½“äºï¼š</p>
<ul>
<li>é€šè¿‡propsä¼ é€’modelValueï¼Œå®ç°çˆ¶åˆ°å­ä¼ é€’æ•°æ®</li>
<li>é€šè¿‡emitè§¦å‘update:modelValueï¼Œå®ç°å­åˆ°çˆ¶ä¼ é€’æ•°æ®</li>
</ul>
</blockquote>
<p>çˆ¶ç»„ä»¶</p>
<div class="language-vue" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>parent<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>çˆ¶ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        {{ msg }}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>msg<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child</span> <span class="token attr-name">:modelValue</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>msg<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">@update:</span>modelValue</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>msg = $event<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Child <span class="token keyword">from</span> <span class="token string">'./Child.vue'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">const</span> msg <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'Hello World'</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>å­ç»„ä»¶</p>
<div class="language-vue" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>child<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>å­ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h6</span><span class="token punctuation">&gt;</span></span>msg:{{ props.modelValue }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h6</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handler<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>æ”¹å˜<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineProps <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">let</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'modelValue'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> $emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'update:modelValue'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">handler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> msg <span class="token operator">=</span> props<span class="token punctuation">.</span>modelValue <span class="token operator">+</span> <span class="token string">' hello '</span>
    <span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'update:modelValue'</span><span class="token punctuation">,</span> msg<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3>useAttrs</h3>
<blockquote>
<p>ç”¨äºä¼ é€’å±æ€§å’Œäº‹ä»¶</p>
</blockquote>
<p>çˆ¶ç»„ä»¶</p>
<div class="language-vue" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>parent<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>çˆ¶ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child</span> <span class="token attr-name">:msg</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>msg<span class="token punctuation">"</span></span> <span class="token attr-name">:count</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>count<span class="token punctuation">"</span></span> <span class="token attr-name">@xxx</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handle<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Child <span class="token keyword">from</span> <span class="token string">'./Child.vue'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">const</span> msg <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'Hello World'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">handle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    count<span class="token punctuation">.</span>value<span class="token operator">++</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>count<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>å­ç»„ä»¶</p>
<div class="language-vue" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>child<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>å­ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h6</span><span class="token punctuation">&gt;</span></span>msg:{{ $attrs.msg }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h6</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$attrs.onXxx<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>count:{{ $attrs.count }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> useAttrs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">let</span> $attrs <span class="token operator">=</span> <span class="token function">useAttrs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="hint-container tip">
<p class="hint-container-title">useAttrså’ŒdefinePropsçš„åŒºåˆ«</p>
<ul>
<li>å’Œä½¿ç”¨ defineProps æ¥æ”¶å±æ€§æ—¶ç›¸æ¯”ï¼ŒuseAttrs çš„ä¼˜å…ˆçº§è¦ä½</li>
<li>useAttrsï¼šæ–¹æ³•èƒ½å¤Ÿæ¥æ”¶åˆ°æ‰€æœ‰å±æ€§ï¼ŒåŒ…æ‹¬æœªåœ¨ç»„ä»¶ä¸­å£°æ˜çš„å±æ€§ï¼Œä½†ä¸èƒ½å¤Ÿå¯¹æ¥æ”¶åˆ°çš„å±æ€§è¿›è¡Œç±»å‹æ ¡éªŒå’Œé»˜è®¤å€¼è®¾ç½®ã€‚</li>
<li>definePropsï¼šæ–¹æ³•åªèƒ½æ¥æ”¶åˆ°åœ¨ç»„ä»¶ä¸­å£°æ˜çš„å±æ€§ï¼Œä½†èƒ½å¤Ÿå¯¹æ¥æ”¶åˆ°çš„å±æ€§è¿›è¡Œç±»å‹æ ¡éªŒå’Œé»˜è®¤å€¼è®¾ç½®ï¼Œä½¿å¾—ç»„ä»¶èƒ½å¤Ÿæ›´åŠ å¥å£®ã€‚</li>
</ul>
</div>
<h3>refå’Œ$parent</h3>
<blockquote>
<p>refç”¨äºï¼šçˆ¶-&gt;å­
$parentç”¨äºï¼šå­-&gt;çˆ¶</p>
</blockquote>
<p>çˆ¶ç»„ä»¶</p>
<div class="language-vue" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>parent<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>çˆ¶ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span> å·¥èµ„: {{ money }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handle<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ç»™å­©å­ç”Ÿæ´»è´¹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>son<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Child <span class="token keyword">from</span> <span class="token string">'./Child.vue'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">const</span> money <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token function">defineExpose</span><span class="token punctuation">(</span><span class="token punctuation">{</span> money <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> son <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">handle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    money<span class="token punctuation">.</span>value <span class="token operator">-=</span> <span class="token number">100</span>
    son<span class="token punctuation">.</span>value<span class="token punctuation">.</span>money <span class="token operator">+=</span> <span class="token number">100</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>å­ç»„ä»¶</p>
<div class="language-vue" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>child<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>å­ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span> ç”Ÿæ´»è´¹: {{ money }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handle($parent)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>è¦ç”Ÿæ´»è´¹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">const</span> money <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token function">defineExpose</span><span class="token punctuation">(</span><span class="token punctuation">{</span> money <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">handle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">$parent</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    money<span class="token punctuation">.</span>value <span class="token operator">+=</span> <span class="token number">100</span>
    $parent<span class="token punctuation">.</span>money <span class="token operator">-=</span> <span class="token number">100</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3>provideå’Œinject</h3>
<blockquote>
<p>å¸¸ç”¨äºç¥–å­™ç»„ä»¶ä¹‹é—´é€šä¿¡</p>
</blockquote>
<p>çˆ¶ç»„ä»¶</p>
<div class="language-vue" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>parent<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>çˆ¶ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{ count }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Child <span class="token keyword">from</span> <span class="token string">'./Child.vue'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> provide <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>
<span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">'count'</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>å­ç»„ä»¶</p>
<div class="language-vue" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>child<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>å­ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GrandChild</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>GrandChild</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> GrandChild <span class="token keyword">from</span> <span class="token string">'./GrandChild.vue'</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>å­™ç»„ä»¶</p>
<div class="language-vue" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>grandchild<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>å­™ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handler<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>count:{{ count }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> inject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">'count'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">handler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    count<span class="token punctuation">.</span>value <span class="token operator">+=</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3>çŠ¶æ€ç®¡ç†-pinia</h3>
<blockquote>
<p>ä»»æ„ç»„ä»¶ä¹‹é—´é€šä¿¡</p>
</blockquote>
<p>store</p>
<div class="language-vue" data-ext="vue" data-title="vue"><pre class="language-vue"><code>import { createPinia } from 'pinia';

let store = createPinia();

export default store;
</code></pre></div><p>store modules</p>
<div class="language-vue" data-ext="vue" data-title="vue"><pre class="language-vue"><code>import { defineStore } from "pinia";
import { computed, ref } from "vue";

const useCountStore = defineStore('info', () =&gt; {
    const count = ref(0)
    const double = computed(() =&gt; {
        return count.value * 2
    })
    const increment = (num: number) =&gt; {
        count.value += num
    }
    return {
        count, double, increment
    }
});

export default useCountStore;
</code></pre></div><p>çˆ¶ç»„ä»¶</p>
<div class="language-vue" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>parent<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>çˆ¶ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>count:{{ count }},double:{{ double }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child1</span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child2</span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Child1 <span class="token keyword">from</span> <span class="token string">'./Child1.vue'</span>
<span class="token keyword">import</span> Child2 <span class="token keyword">from</span> <span class="token string">'./Child2.vue'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> useCountStore <span class="token keyword">from</span> <span class="token string">'@/store/modules/count'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> storeToRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'pinia'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> countStore <span class="token operator">=</span> <span class="token function">useCountStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> count<span class="token punctuation">,</span> double <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">storeToRefs</span><span class="token punctuation">(</span>countStore<span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>å­ç»„ä»¶1</p>
<div class="language-vue" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>child<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>å­ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handler<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>count:{{ count }},double:{{ double }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> useCountStore <span class="token keyword">from</span> <span class="token string">'@/store/modules/count'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> storeToRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'pinia'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> countStore <span class="token operator">=</span> <span class="token function">useCountStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> count<span class="token punctuation">,</span> double <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">storeToRefs</span><span class="token punctuation">(</span>countStore<span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">handler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    countStore<span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>å­ç»„ä»¶2</p>
<div class="language-vue" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>child<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>å­ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handler<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>count:{{ count }},double:{{ double }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> useCountStore <span class="token keyword">from</span> <span class="token string">'@/store/modules/count'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> storeToRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'pinia'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> countStore <span class="token operator">=</span> <span class="token function">useCountStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> count<span class="token punctuation">,</span> double <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">storeToRefs</span><span class="token punctuation">(</span>countStore<span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">handler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    countStore<span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3>æ’æ§½-slot</h3>
<blockquote>
<p>å®ç°çˆ¶ä¸å­ä¹‹é—´é€šä¿¡ï¼Œä¸ä»…ä»…æ˜¯æ•°æ®ï¼Œè¿˜å¯ä»¥åŒ…å«é¡µé¢ç»“æ„</p>
</blockquote>
<p>çˆ¶ç»„ä»¶</p>
<div class="language-vue" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>parent<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>çˆ¶ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- é»˜è®¤æ’æ§½ --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>çˆ¶ç»„ä»¶å®šä¹‰çš„å†…å®¹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- å…·åæ’æ§½ --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>header</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>header<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- ä½œç”¨åŸŸæ’æ§½ --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>footer</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ data }<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item in data<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{ item }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Child</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Child <span class="token keyword">from</span> <span class="token string">'./Child.vue'</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>å­ç»„ä»¶</p>
<div class="language-vue" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>child<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>å­ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>é»˜è®¤æ’æ§½<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>==========<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>å…·åæ’æ§½<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>header<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>==========<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>ä½œç”¨åŸŸæ’æ§½<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>footer<span class="token punctuation">"</span></span> <span class="token attr-name">:data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>['a', 'b', 'c']<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>==========<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>]]></content>
    <category term="ç¼–ç¨‹æ¡†æ¶"/>
    <published>2024-04-30T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">ç¼–ç¨‹è¯­è¨€&amp;æ¡†æ¶</title>
    <id>http://blog.cjhe.top/language/</id>
    <link href="http://blog.cjhe.top/language/"/>
    <updated>2024-05-15T10:01:59.000Z</updated>
    <category term="ç¼–ç¨‹è¯­è¨€"/>
    <category term="ç¼–ç¨‹æ¡†æ¶"/>
    <published>2024-04-29T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">Vueæ¡†æ¶</title>
    <id>http://blog.cjhe.top/language/vue/</id>
    <link href="http://blog.cjhe.top/language/vue/"/>
    <updated>2024-05-15T10:01:59.000Z</updated>
    <category term="ç¼–ç¨‹æ¡†æ¶"/>
    <published>2024-04-29T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">Vueè¿›é˜¶</title>
    <id>http://blog.cjhe.top/language/vue/advance/</id>
    <link href="http://blog.cjhe.top/language/vue/advance/"/>
    <updated>2024-05-15T10:01:59.000Z</updated>
    <category term="ç¼–ç¨‹æ¡†æ¶"/>
    <published>2024-05-05T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">Minioç›‘æ§</title>
    <id>http://blog.cjhe.top/database/minio/minio-monitor.html</id>
    <link href="http://blog.cjhe.top/database/minio/minio-monitor.html"/>
    <updated>2024-05-20T03:37:50.000Z</updated>
    <summary type="text">Minioç›‘æ§
è¿è¡ŒMinio Client(mc)å®¹å™¨
è®¾ç½®åˆ«å
è¾“å‡ºç»“æœï¼š
ç”Ÿæˆ Prometheus æŠ“å–ç›®æ ‡é…ç½®
è¾“å‡ºç»“æœï¼š
æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ˜¯é€šè¿‡bearer_tokençš„æ–¹å¼è·å–æŒ‡æ ‡ï¼Œå°†ä¸Šé¢ç”Ÿæˆçš„æŠ“å–ç›®æ ‡é…ç½®åŒæ­¥åˆ°Prometheus
minio-dashboard
minio-dashboardminio-dashboard
minioå¸¸ç”¨ç›‘...</summary>
    <content type="html"><![CDATA[<!-- more -->
<h2>Minioç›‘æ§</h2>
<p>è¿è¡ŒMinio Client(mc)å®¹å™¨</p>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">-it</span> <span class="token parameter variable">--entrypoint</span><span class="token operator">=</span>/bin/sh minio/mc
</code></pre></div><p>è®¾ç½®åˆ«å</p>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">mc</span> <span class="token builtin class-name">alias</span> <span class="token builtin class-name">set</span> minio http://172.100.2.65:9000 minioadmin minioadmin
</code></pre></div><p>è¾“å‡ºç»“æœï¼š</p>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>mc: Configuration written to `/root/.mc/config.json`. Please update your access credentials.
mc: Successfully created `/root/.mc/share`.
mc: Initialized share uploads `/root/.mc/share/uploads.json` file.
mc: Initialized share downloads `/root/.mc/share/downloads.json` file.
Added `minio` successfully.
</code></pre></div><p>ç”Ÿæˆ Prometheus æŠ“å–ç›®æ ‡é…ç½®</p>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">mc</span> admin prometheus generate minio
</code></pre></div><p>è¾“å‡ºç»“æœï¼š</p>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code>scrape_configs:
- job_name: minio-job
  bearer_token: eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJwcm9tZXRoZXVzIiwic3ViIjoibWluaW9hZG1pbiIsImV4cCI6NDg2NzAyNTgyOX0.QgEjjQvA1ieHhM8sxMxMhYGGOcmsN4dQT1lIcOHGe5Lo4ZTeTsgzKAq65HPBkFQ1RayMzolQ_R2J3aByVe_ZNw
  metrics_path: /minio/v2/metrics/cluster
  scheme: http
  static_configs:
  - targets: <span class="token punctuation">[</span><span class="token string">'172.100.2.65:9000'</span><span class="token punctuation">]</span>
</code></pre></div><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ˜¯é€šè¿‡<code>bearer_token</code>çš„æ–¹å¼è·å–æŒ‡æ ‡ï¼Œå°†ä¸Šé¢ç”Ÿæˆçš„æŠ“å–ç›®æ ‡é…ç½®åŒæ­¥åˆ°Prometheus</p>
<h2>minio-dashboard</h2>
<figure><figcaption>minio-dashboard</figcaption></figure>
<h2>minioå¸¸ç”¨ç›‘æ§è¯­å¥</h2>
<h3>minioé›†ç¾¤èŠ‚ç‚¹ç¦»çº¿</h3>
<div class="language-promQL" data-ext="promQL" data-title="promQL"><pre class="language-promQL"><code>minio_cluster_nodes_offline_total &gt; 0
</code></pre></div><h3>minioé›†ç¾¤ç£ç›˜ç¦»çº¿</h3>
<div class="language-promQL" data-ext="promQL" data-title="promQL"><pre class="language-promQL"><code>minio_cluster_drive_offline_total &gt; 0
</code></pre></div><h2>å‚è€ƒæ–‡çŒ®</h2>
<p><a href="https://min.io/docs/minio/linux/operations/monitoring/collect-minio-metrics-using-prometheus.html?ref=docs-redirect" target="_blank" rel="noopener noreferrer">Prometheuså®˜æ–¹æ–‡æ¡£</a></p>
<p><a href="https://www.cnblogs.com/zmh520/p/17771438.html" target="_blank" rel="noopener noreferrer">minioéƒ¨ç½²åŠç›‘æ§</a></p>
]]></content>
    <category term="æ•°æ®å­˜å‚¨"/>
    <published>2024-04-18T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">Goè¯­è¨€ä¹¦ç±</title>
    <id>http://blog.cjhe.top/language/go/recommend/book.html</id>
    <link href="http://blog.cjhe.top/language/go/recommend/book.html"/>
    <updated>2024-06-12T01:26:48.000Z</updated>
    <summary type="text">Goä¹¦ç±
Goé«˜çº§ç¼–ç¨‹
Goè¯­è¨€è®¾è®¡ä¸å®ç°
Goè¯­è¨€å››åäºŒç« ç»
Mastering Go
ApacheCN Golang è¯‘æ–‡é›†
Go Patterns
Goè¯­è¨€æ ‡å‡†åº“
Goæµ‹è¯•é©±åŠ¨å¼€å‘
Goç»ƒä¹ 
Goè¯­è¨€åŸæœ¬
Goè¯­è¨€ç¼–ç¨‹ä¹‹æ—…
Goç¨‹åºå‘˜é¢è¯•
Goçš„ä¸€äº›ä¹¦ç±åœ°é¼ æ–‡æ¡£
è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒºGoæ•™ç¨‹è…¾è®¯äº‘
goè¯­è¨€190é¢˜</summary>
    <content type="html"><![CDATA[<!-- more -->
<h2>Goä¹¦ç±</h2>
<p>Goé«˜çº§ç¼–ç¨‹<a href="https://books.studygolang.com/advanced-go-programming-book/" target="_blank" rel="noopener noreferrer"></a></p>
<p>Goè¯­è¨€è®¾è®¡ä¸å®ç°<a href="https://draveness.me/golang/" target="_blank" rel="noopener noreferrer"></a></p>
<p>Goè¯­è¨€å››åäºŒç« ç»<a href="https://github.com/ffhelicopter/Go42" target="_blank" rel="noopener noreferrer"></a></p>
<p>Mastering Go<a href="https://wskdsgcf.gitbook.io/mastering-go-zh-cn/" target="_blank" rel="noopener noreferrer"></a></p>
<p>ApacheCN Golang è¯‘æ–‡é›†<a href="https://go.apachecn.org/#/" target="_blank" rel="noopener noreferrer"></a></p>
<p>Go Patterns<a href="https://hxangel.gitbooks.io/go-patterns/content/" target="_blank" rel="noopener noreferrer"></a></p>
<p>Goè¯­è¨€æ ‡å‡†åº“<a href="https://books.studygolang.com/The-Golang-Standard-Library-by-Example/" target="_blank" rel="noopener noreferrer"></a></p>
<p>Goæµ‹è¯•é©±åŠ¨å¼€å‘<a href="https://studygolang.gitbook.io/learn-go-with-tests/" target="_blank" rel="noopener noreferrer"></a></p>
<p>Goç»ƒä¹ <a href="https://www.practical-go-lessons.com/" target="_blank" rel="noopener noreferrer"></a></p>
<p>Goè¯­è¨€åŸæœ¬<a href="https://golang.design/under-the-hood/" target="_blank" rel="noopener noreferrer"></a></p>
<p>Goè¯­è¨€ç¼–ç¨‹ä¹‹æ—…<a href="https://golang2.eddycjy.com/" target="_blank" rel="noopener noreferrer"></a></p>
<p>Goç¨‹åºå‘˜é¢è¯•<a href="https://golang.design/go-questions/" target="_blank" rel="noopener noreferrer"></a></p>
<p>Goçš„ä¸€äº›ä¹¦ç±<a href="https://topgoer.cn/" target="_blank" rel="noopener noreferrer">åœ°é¼ æ–‡æ¡£</a></p>
<p>è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒºGoæ•™ç¨‹<a href="https://cloud.tencent.com/developer/doc/1101" target="_blank" rel="noopener noreferrer">è…¾è®¯äº‘</a></p>
<h3>goè¯­è¨€190é¢˜</h3>
]]></content>
    <category term="ç¼–ç¨‹è¯­è¨€"/>
    <published>2024-04-16T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">MongoDBç›‘æ§</title>
    <id>http://blog.cjhe.top/database/mongodb/mongodb-exporter.html</id>
    <link href="http://blog.cjhe.top/database/mongodb/mongodb-exporter.html"/>
    <updated>2024-08-27T02:59:10.000Z</updated>
    <summary type="text">MongoDBç›‘æ§
æˆ‘ä»¬é€šè¿‡mongodb-exporterç›‘æ§mongodbçŠ¶æ€
mongodb-exporteréƒ¨ç½²
æ³¨æ„ï¼š

--collect-allï¼Œå‚æ•°ç”¨äºæ”¶é›†æ‰€æœ‰æŒ‡æ ‡
--compatible-modeï¼Œç”¨äºå…¼å®¹æ—§çš„æŒ‡æ ‡ï¼Œå¦åˆ™éƒ¨åˆ†grafanaçš„dashboardå±•ç¤ºä¸å…¼å®¹

mongodb-dashboard
mongodb-dashb...</summary>
    <content type="html"><![CDATA[<!-- more -->
<h2>MongoDBç›‘æ§</h2>
<p>æˆ‘ä»¬é€šè¿‡mongodb-exporterç›‘æ§mongodbçŠ¶æ€</p>
<h2>mongodb-exporteréƒ¨ç½²</h2>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">9216</span>:9216 <span class="token parameter variable">-p</span> <span class="token number">17001</span>:17001 <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">--name</span><span class="token operator">=</span>mongodb_exporter percona/mongodb_exporter:0.40 <span class="token parameter variable">--mongodb.uri</span><span class="token operator">=</span>mongodb://172.87.7.247:27017/admin?ssl<span class="token operator">=</span>false --collect-all --compatible-mode
</code></pre></div><p>æ³¨æ„ï¼š</p>
<ul>
<li>--collect-allï¼Œå‚æ•°ç”¨äºæ”¶é›†æ‰€æœ‰æŒ‡æ ‡</li>
<li>--compatible-modeï¼Œç”¨äºå…¼å®¹æ—§çš„æŒ‡æ ‡ï¼Œå¦åˆ™éƒ¨åˆ†grafanaçš„dashboardå±•ç¤ºä¸å…¼å®¹</li>
</ul>
<h2>mongodb-dashboard</h2>
<figure><figcaption>mongodb-dashboard</figcaption></figure>
<h2>mongodbå¸¸ç”¨ç›‘æ§è¯­å¥</h2>
<h3>ç›‘æ§æ•°æ®åº“æ˜¯å¦å®•æœº</h3>
<div class="language-promQL" data-ext="promQL" data-title="promQL"><pre class="language-promQL"><code>mongodb_up == 0
</code></pre></div>]]></content>
    <category term="æ•°æ®å­˜å‚¨"/>
    <published>2024-04-16T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">Goæ¨è</title>
    <id>http://blog.cjhe.top/language/go/recommend/</id>
    <link href="http://blog.cjhe.top/language/go/recommend/"/>
    <updated>2024-05-15T10:01:59.000Z</updated>
    <category term="ç¼–ç¨‹è¯­è¨€"/>
    <published>2024-04-15T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">Redisç›‘æ§</title>
    <id>http://blog.cjhe.top/database/redis/redis-exporter.html</id>
    <link href="http://blog.cjhe.top/database/redis/redis-exporter.html"/>
    <updated>2024-05-20T03:37:50.000Z</updated>
    <summary type="text">Redisç›‘æ§
æˆ‘ä»¬é€šè¿‡redis-exporterç›‘æ§redisçŠ¶æ€
redis-exporteréƒ¨ç½²
redis-dashboard
redis-dashboardredis-dashboard
rediså¸¸è§ç›‘æ§è¯­å¥
ç›‘æ§Redisæ˜¯å¦å®•æœº
Redisè¿æ¥æ•°è¿‡å¤š</summary>
    <content type="html"><![CDATA[<!-- more -->
<h2>Redisç›‘æ§</h2>
<p>æˆ‘ä»¬é€šè¿‡redis-exporterç›‘æ§redisçŠ¶æ€</p>
<h2>redis-exporteréƒ¨ç½²</h2>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> redis_exporter <span class="token parameter variable">--restart</span> always <span class="token parameter variable">-p</span> <span class="token number">9121</span>:9121 oliver006/redis_exporter <span class="token parameter variable">--redis.addr</span> redis://172.87.7.247:6379
</code></pre></div><h2>redis-dashboard</h2>
<figure><figcaption>redis-dashboard</figcaption></figure>
<h2>rediså¸¸è§ç›‘æ§è¯­å¥</h2>
<h3>ç›‘æ§Redisæ˜¯å¦å®•æœº</h3>
<div class="language-promQL" data-ext="promQL" data-title="promQL"><pre class="language-promQL"><code>redis_up == 0
</code></pre></div><h3>Redisè¿æ¥æ•°è¿‡å¤š</h3>
<div class="language-promQL" data-ext="promQL" data-title="promQL"><pre class="language-promQL"><code>redis_connected_clients / redis_config_maxclients * 100 &gt; 90
</code></pre></div>]]></content>
    <category term="æ•°æ®å­˜å‚¨"/>
    <published>2024-04-12T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">MySQLç›‘æ§</title>
    <id>http://blog.cjhe.top/database/mysql/mysql-exporter.html</id>
    <link href="http://blog.cjhe.top/database/mysql/mysql-exporter.html"/>
    <updated>2024-05-23T10:17:10.000Z</updated>
    <summary type="text">MySQLç›‘æ§
æˆ‘ä»¬é€šè¿‡mysqld-exporterå»å°†MySQLç›¸å…³çŠ¶æ€è½¬æ¢æˆæŒ‡æ ‡ï¼Œä»è€Œè¿›è¡Œç›‘æ§
mysql-exporteréƒ¨ç½²
å…¶ä¸­**.my.cnf**é…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š
[client]
host=your host
port=your port
user=your username
password=your passwor...</summary>
    <content type="html"><![CDATA[<!-- more -->
<h2>MySQLç›‘æ§</h2>
<p>æˆ‘ä»¬é€šè¿‡mysqld-exporterå»å°†MySQLç›¸å…³çŠ¶æ€è½¬æ¢æˆæŒ‡æ ‡ï¼Œä»è€Œè¿›è¡Œç›‘æ§</p>
<h2>mysql-exporteréƒ¨ç½²</h2>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> mysql_exporter <span class="token parameter variable">--restart</span> always <span class="token parameter variable">-p</span> <span class="token number">9104</span>:9104 <span class="token parameter variable">-v</span> ./.my.cnf:/.my.cnf prom/mysqld-exporter
</code></pre></div><p>å…¶ä¸­**.my.cnf**é…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š
[client]
host=your host
port=your port
user=your username
password=your password</p>
<h2>mysql-grafanaé¢æ¿</h2>
<figure><figcaption>mysql-dashboard</figcaption></figure>
<h2>mysqlå¸¸è§ç›‘æ§è¯­å¥</h2>
<h3>ç›‘æ§æ•°æ®åº“æ˜¯å¦å®•æœº</h3>
<div class="language-promQL" data-ext="promQL" data-title="promQL"><pre class="language-promQL"><code>mysql_up == 0
</code></pre></div><h3>ç›‘æ§æ•°æ®åº“æ˜¯å¦è¶…è¿‡æœ€å¤§è¿æ¥æ•°80%</h3>
<div class="language-promQL" data-ext="promQL" data-title="promQL"><pre class="language-promQL"><code>max_over_time(mysql_global_status_threads_connected[1m]) / mysql_global_variables_max_connections * 100 &gt; 80
</code></pre></div><div class="hint-container warning">
<p class="hint-container-title">æ³¨æ„</p>
<p>å¦‚æœè¶…è¿‡æœ€å¤§è¿æ¥æ•°ï¼Œä¼šæŠ¥<strong>Too many connections</strong>é”™è¯¯</p>
</div>
<h3>æ•°æ®åº“æ…¢æŸ¥è¯¢</h3>
<div class="language-promQL" data-ext="promQL" data-title="promQL"><pre class="language-promQL"><code>increase(mysql_global_status_slow_queries[1m]) &gt; 0
</code></pre></div>]]></content>
    <category term="devops"/>
    <published>2024-04-12T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">HTTPåè®®</title>
    <id>http://blog.cjhe.top/network/application-layer/HTTP.html</id>
    <link href="http://blog.cjhe.top/network/application-layer/HTTP.html"/>
    <updated>2024-04-15T09:57:53.000Z</updated>
    <summary type="text">HTTPåè®®æ˜¯ç›®å‰ä½¿ç”¨æœ€ä¸ºå¹¿æ³›çš„åº”ç”¨å±‚åè®®

HTTPå‘å±•ç®€å²

1989 å¹´ï¼šè’‚å§†Â·ä¼¯çº³æ–¯-æåœ¨ CERN æå‡ºä¸‡ç»´ç½‘çš„æ¦‚å¿µã€‚
1991 å¹´ï¼šè’‚å§†Â·ä¼¯çº³æ–¯-æå‘å¸ƒ HTTP/0.9ï¼ŒHTTP åè®®çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬ã€‚
1996 å¹´ï¼šHTTP/1.0 å‘å¸ƒï¼Œå¼•å…¥äº†çŠ¶æ€ç ã€å¤´å­—æ®µå’ŒæŒä¹…è¿æ¥ç­‰æ–°åŠŸèƒ½ã€‚
1997 å¹´ï¼šHTTP/1.1 å‘å¸ƒï¼Œå¯¹ HTTP/1.0 ...</summary>
    <content type="html"><![CDATA[<!-- more -->
<blockquote>
<p>HTTPåè®®æ˜¯ç›®å‰ä½¿ç”¨æœ€ä¸ºå¹¿æ³›çš„åº”ç”¨å±‚åè®®</p>
</blockquote>
<h2>HTTPå‘å±•ç®€å²</h2>
<ul>
<li><strong>1989 å¹´</strong>ï¼šè’‚å§†Â·ä¼¯çº³æ–¯-æåœ¨ CERN æå‡ºä¸‡ç»´ç½‘çš„æ¦‚å¿µã€‚</li>
<li><strong>1991 å¹´</strong>ï¼šè’‚å§†Â·ä¼¯çº³æ–¯-æå‘å¸ƒ HTTP/0.9ï¼ŒHTTP åè®®çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬ã€‚</li>
<li><strong>1996 å¹´</strong>ï¼šHTTP/1.0 å‘å¸ƒï¼Œå¼•å…¥äº†çŠ¶æ€ç ã€å¤´å­—æ®µå’ŒæŒä¹…è¿æ¥ç­‰æ–°åŠŸèƒ½ã€‚</li>
<li><strong>1997 å¹´</strong>ï¼šHTTP/1.1 å‘å¸ƒï¼Œå¯¹ HTTP/1.0 è¿›è¡Œäº†é‡å¤§æ›´æ–°ï¼ŒåŒ…æ‹¬ç®¡é“åŒ–è¯·æ±‚ã€åˆ†å—ä¼ è¾“ç¼–ç å’Œä¸»æœºå¤´å­—æ®µã€‚</li>
<li><strong>2015 å¹´</strong>ï¼šHTTP/2 å‘å¸ƒï¼Œå¯¹ HTTP/1.1 è¿›è¡Œäº†é‡å¤§é‡æ–°è®¾è®¡ï¼Œé‡ç‚¹æ˜¯æé«˜æ€§èƒ½å’Œæ•ˆç‡ã€‚</li>
<li><strong>2022 å¹´</strong>ï¼šHTTP/3 å‘å¸ƒï¼ŒHTTP/2 çš„æœ€æ–°ç‰ˆæœ¬ï¼ŒåŸºäº QUIC ä¼ è¾“åè®®ã€‚</li>
</ul>
<p>HTTP/1.1 ä»ç„¶æ˜¯å½“ä»Šäº’è”ç½‘ä¸Šä½¿ç”¨æœ€å¹¿æ³›çš„ HTTP ç‰ˆæœ¬ï¼Œä½† HTTP/2 å’Œ HTTP/3 æ­£åœ¨é€æ¸è·å¾—é‡‡ç”¨ã€‚éšç€æ—¶é—´çš„æ¨ç§»ï¼Œé¢„è®¡ HTTP/3 å°†æˆä¸ºæ–°çš„æ ‡å‡†ã€‚</p>
<h2>HTTPæ–¹æ³•</h2>
<figure><figcaption>http</figcaption></figure>
<p>HTTP æ–¹æ³•æ˜¯å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è¯·æ±‚æ—¶æ‰€ä½¿ç”¨çš„åŠ¨ä½œã€‚æœ€å¸¸ç”¨çš„ HTTP æ–¹æ³•åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>GETï¼š</strong> ä»æœåŠ¡å™¨è·å–æŒ‡å®šèµ„æºã€‚è¿™æ˜¯æœ€åŸºæœ¬çš„ HTTP æ–¹æ³•ï¼Œç”¨äºæ£€ç´¢ç½‘é¡µã€å›¾åƒæˆ–å…¶ä»–æ–‡ä»¶ã€‚</li>
<li><strong>POSTï¼š</strong> å‘æœåŠ¡å™¨æäº¤æ•°æ®ä»¥åˆ›å»ºèµ„æºã€‚é€šå¸¸ç”¨äºæäº¤è¡¨å•æ•°æ®æˆ–ä¸Šä¼ æ–‡ä»¶ã€‚</li>
<li><strong>PUTï¼š</strong> æ›´æ–°æœåŠ¡å™¨ä¸Šçš„ç°æœ‰èµ„æºã€‚</li>
<li><strong>DELETEï¼š</strong> åˆ é™¤æœåŠ¡å™¨ä¸Šçš„èµ„æºã€‚</li>
<li><strong>HEADï¼š</strong> è·å–èµ„æºçš„å…ƒæ•°æ®ï¼ˆå¦‚å¤§å°å’Œå†…å®¹ç±»å‹ï¼‰ï¼Œè€Œä¸å®é™…è·å–èµ„æºå†…å®¹ã€‚</li>
<li><strong>OPTIONSï¼š</strong> è·å–æœåŠ¡å™¨æ”¯æŒçš„ HTTP æ–¹æ³•å’ŒåŠŸèƒ½ã€‚</li>
<li><strong>PATCHï¼š</strong> éƒ¨åˆ†æ›´æ–°æœåŠ¡å™¨ä¸Šçš„èµ„æºã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹</strong></p>
<p>ä»¥ä¸‹æ˜¯ä¸€äº› HTTP æ–¹æ³•çš„ç¤ºä¾‹ï¼š</p>
<ul>
<li><code>GET /index.html HTTP/1.1</code>ï¼šä»æœåŠ¡å™¨è·å– index.html æ–‡ä»¶ã€‚</li>
<li><code>POST /submit-form HTTP/1.1</code>ï¼šå‘æœåŠ¡å™¨æäº¤è¡¨å•æ•°æ®ã€‚</li>
<li><code>PUT /users/1 HTTP/1.1</code>ï¼šæ›´æ–°æœåŠ¡å™¨ä¸Š ID ä¸º 1 çš„ç”¨æˆ·ã€‚</li>
<li><code>DELETE /files/image.png HTTP/1.1</code>ï¼šä»æœåŠ¡å™¨åˆ é™¤ image.png æ–‡ä»¶ã€‚</li>
<li><code>HEAD /about-us HTTP/1.1</code>ï¼šè·å–å…³äºæˆ‘ä»¬é¡µé¢çš„å…ƒæ•°æ®ã€‚</li>
<li><code>OPTIONS /api/v1 HTTP/1.1</code>ï¼šè·å– API çš„åŠŸèƒ½ä¿¡æ¯ã€‚</li>
<li><code>PATCH /users/1 HTTP/1.1</code>ï¼šéƒ¨åˆ†æ›´æ–°ç”¨æˆ·ä¸ªäººèµ„æ–™ï¼ˆä¾‹å¦‚ï¼Œä»…æ›´æ–°å§“åï¼‰ã€‚</li>
</ul>
<h2>HTTPçŠ¶æ€ç </h2>
<p>TTP çŠ¶æ€ç åˆ†ä¸ºäº”ç±»ï¼Œæ¯ç±»è¡¨ç¤ºä¸€ä¸ªä¸åŒçš„å“åº”ç±»åˆ«ï¼š</p>
<p><strong>1xx ä¿¡æ¯å“åº”</strong></p>
<ul>
<li>è¡¨ç¤ºè¯·æ±‚å·²æ”¶åˆ°å¹¶æ­£åœ¨å¤„ç†ã€‚</li>
<li>ä¾‹å¦‚ï¼š
<ul>
<li>100 ç»§ç»­</li>
<li>101 åˆ‡æ¢åè®®</li>
</ul>
</li>
</ul>
<p><strong>2xx æˆåŠŸå“åº”</strong></p>
<ul>
<li>è¡¨ç¤ºè¯·æ±‚å·²æˆåŠŸå¤„ç†ã€‚</li>
<li>ä¾‹å¦‚ï¼š
<ul>
<li>200 OK</li>
<li>201 å·²åˆ›å»º</li>
<li>204 æ— å†…å®¹</li>
</ul>
</li>
</ul>
<p><strong>3xx é‡å®šå‘</strong></p>
<ul>
<li>è¡¨ç¤ºéœ€è¦è¿›ä¸€æ­¥æ“ä½œæ‰èƒ½å®Œæˆè¯·æ±‚ã€‚</li>
<li>ä¾‹å¦‚ï¼š
<ul>
<li>301 æ°¸ä¹…é‡å®šå‘</li>
<li>302 ä¸´æ—¶é‡å®šå‘</li>
<li>308 æ°¸ä¹…é‡å®šå‘</li>
</ul>
</li>
</ul>
<p><strong>4xx å®¢æˆ·ç«¯é”™è¯¯</strong></p>
<ul>
<li>è¡¨ç¤ºå®¢æˆ·ç«¯è¯·æ±‚æœ‰è¯¯ã€‚</li>
<li>ä¾‹å¦‚ï¼š
<ul>
<li>400 é”™è¯¯çš„è¯·æ±‚</li>
<li>401 æœªç»æˆæƒ</li>
<li>404 æœªæ‰¾åˆ°</li>
</ul>
</li>
</ul>
<p><strong>5xx æœåŠ¡å™¨é”™è¯¯</strong></p>
<ul>
<li>è¡¨ç¤ºæœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚æ—¶é‡åˆ°é”™è¯¯ã€‚</li>
<li>ä¾‹å¦‚ï¼š
<ul>
<li>500 å†…éƒ¨æœåŠ¡å™¨é”™è¯¯</li>
<li>502 é”™è¯¯çš„ç½‘å…³</li>
<li>503 æœåŠ¡ä¸å¯ç”¨</li>
</ul>
</li>
</ul>
<h2>å‚è€ƒé“¾æ¥</h2>
<p><a href="https://mp.weixin.qq.com/s/AuYEWkY9LN6TRrQvU-AaQA" target="_blank" rel="noopener noreferrer">HTTPå‘æ”¾å’Œä½¿ç”¨å¤§å…¨</a>
<a href="https://mp.weixin.qq.com/s/Q_BeNgqNWizwVkMkH39e7g" target="_blank" rel="noopener noreferrer">HTTPçŠ¶æ€ç å®Œæ•´æŒ‡å—</a>
<a href="https://mp.weixin.qq.com/s/VTFC8WEJTnoDzEtKsi48Aw" target="_blank" rel="noopener noreferrer">å›¾è§£|ä»€ä¹ˆæ˜¯HTTPç®€å²</a></p>
]]></content>
    <category term="ç½‘ç»œ"/>
    <published>2024-04-11T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">åº”ç”¨å±‚åè®®</title>
    <id>http://blog.cjhe.top/network/application-layer/</id>
    <link href="http://blog.cjhe.top/network/application-layer/"/>
    <updated>2024-05-06T02:44:40.000Z</updated>
    <summary type="html"><![CDATA[<blockquote>
<p>æœ¬ç¯‡ä»‹ç»è®¡ç®—æœºç½‘ç»œåº”ç”¨å±‚åè®®</p>
</blockquote>
<p>å¸¸è§çš„åº”ç”¨å±‚åè®®ï¼š</p>
<ul>
<li>HTTP</li>
<li>DNS</li>
<li>Telnet</li>
<li>SSH</li>
<li>FTP</li>
<li>POP3</li>
<li>IMAP</li>
</ul>
]]></summary>
    <content type="html"><![CDATA[<blockquote>
<p>æœ¬ç¯‡ä»‹ç»è®¡ç®—æœºç½‘ç»œåº”ç”¨å±‚åè®®</p>
</blockquote>
<p>å¸¸è§çš„åº”ç”¨å±‚åè®®ï¼š</p>
<ul>
<li>HTTP</li>
<li>DNS</li>
<li>Telnet</li>
<li>SSH</li>
<li>FTP</li>
<li>POP3</li>
<li>IMAP</li>
</ul>
]]></content>
    <category term="ç½‘ç»œ"/>
    <published>2024-04-11T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">ICMPåè®®</title>
    <id>http://blog.cjhe.top/network/internet-layer/ICMP.html</id>
    <link href="http://blog.cjhe.top/network/internet-layer/ICMP.html"/>
    <updated>2024-05-05T15:52:14.000Z</updated>
    <summary type="text">ICMP(Internet Control Message Protocol,äº’è”ç½‘æ§åˆ¶åè®®)ï¼Œå±äºç½‘ç»œå±‚åè®®ã€‚ä¸»è¦ç”¨äºåœ¨IPä¸»æœºå’Œè·¯ç”±å™¨ä¹‹é—´ä¼ é€’æ§åˆ¶ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼šä¸»æœºæ˜¯å¦å¯è¾¾ã€è·¯ç”±æ˜¯å¦å¯ç”¨ç­‰ã€‚
ICMPä½¿ç”¨IPåè®®å‘é€ä¿¡æ¯ï¼Œå®ƒè™½ç„¶å±äºç½‘ç»œå±‚åè®®ï¼Œä½†ä¸¥æ ¼æ¥è¯´ï¼Œå®ƒä½äºIPä¹‹ä¸Šã€‚</summary>
    <content type="html"><![CDATA[<!-- more -->
<p>ICMP(Internet Control Message Protocol,äº’è”ç½‘æ§åˆ¶åè®®)ï¼Œå±äºç½‘ç»œå±‚åè®®ã€‚ä¸»è¦ç”¨äºåœ¨IPä¸»æœºå’Œè·¯ç”±å™¨ä¹‹é—´ä¼ é€’æ§åˆ¶ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼šä¸»æœºæ˜¯å¦å¯è¾¾ã€è·¯ç”±æ˜¯å¦å¯ç”¨ç­‰ã€‚</p>
<p>ICMPä½¿ç”¨IPåè®®å‘é€ä¿¡æ¯ï¼Œå®ƒè™½ç„¶å±äºç½‘ç»œå±‚åè®®ï¼Œä½†ä¸¥æ ¼æ¥è¯´ï¼Œå®ƒä½äºIPä¹‹ä¸Šã€‚</p>
]]></content>
    <category term="ç½‘ç»œ"/>
    <published>2023-11-13T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">ç½‘ç»œå±‚åè®®</title>
    <id>http://blog.cjhe.top/network/internet-layer/</id>
    <link href="http://blog.cjhe.top/network/internet-layer/"/>
    <updated>2024-05-06T02:44:40.000Z</updated>
    <summary type="html"><![CDATA[<blockquote>
<p>æœ¬ç¯‡ä»‹ç»è®¡ç®—æœºç½‘ç»œç½‘ç»œå±‚åè®®</p>
</blockquote>
<p>å¸¸è§çš„ç½‘ç»œå±‚åè®®ï¼š</p>
<ul>
<li>IP</li>
<li>IPv6</li>
<li>ICMP</li>
<li>ARP</li>
</ul>
]]></summary>
    <content type="html"><![CDATA[<blockquote>
<p>æœ¬ç¯‡ä»‹ç»è®¡ç®—æœºç½‘ç»œç½‘ç»œå±‚åè®®</p>
</blockquote>
<p>å¸¸è§çš„ç½‘ç»œå±‚åè®®ï¼š</p>
<ul>
<li>IP</li>
<li>IPv6</li>
<li>ICMP</li>
<li>ARP</li>
</ul>
]]></content>
    <category term="ç½‘ç»œ"/>
    <published>2024-04-11T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">é“¾è·¯å±‚åè®®</title>
    <id>http://blog.cjhe.top/network/link-layer/</id>
    <link href="http://blog.cjhe.top/network/link-layer/"/>
    <updated>2024-05-06T02:44:40.000Z</updated>
    <summary type="html"><![CDATA[<blockquote>
<p>é“¾è·¯å±‚åè®®æ¯”è¾ƒååº•å±‚ï¼Œæœ‰æœºä¼šå†ä»‹ç»</p>
</blockquote>
]]></summary>
    <content type="html"><![CDATA[<blockquote>
<p>é“¾è·¯å±‚åè®®æ¯”è¾ƒååº•å±‚ï¼Œæœ‰æœºä¼šå†ä»‹ç»</p>
</blockquote>
]]></content>
    <category term="ç½‘ç»œ"/>
    <published>2024-04-11T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">ä¼ è¾“å±‚åè®®</title>
    <id>http://blog.cjhe.top/network/transport-layer/</id>
    <link href="http://blog.cjhe.top/network/transport-layer/"/>
    <updated>2024-05-06T02:44:40.000Z</updated>
    <summary type="html"><![CDATA[<blockquote>
<p>æœ¬ç¯‡ä»‹ç»è®¡ç®—æœºç½‘ç»œä¼ è¾“å±‚åè®®</p>
</blockquote>
<p>å¸¸è§çš„ä¼ è¾“å±‚åè®®ï¼š</p>
<ul>
<li>TCP</li>
<li>UDP</li>
</ul>
]]></summary>
    <content type="html"><![CDATA[<blockquote>
<p>æœ¬ç¯‡ä»‹ç»è®¡ç®—æœºç½‘ç»œä¼ è¾“å±‚åè®®</p>
</blockquote>
<p>å¸¸è§çš„ä¼ è¾“å±‚åè®®ï¼š</p>
<ul>
<li>TCP</li>
<li>UDP</li>
</ul>
]]></content>
    <category term="ç½‘ç»œ"/>
    <published>2024-04-11T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">docker</title>
    <id>http://blog.cjhe.top/devops/docker/</id>
    <link href="http://blog.cjhe.top/devops/docker/"/>
    <updated>2024-08-27T02:59:10.000Z</updated>
    <category term="devops"/>
    <published>2024-03-18T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">å®¹å™¨æ‰§è¡ŒæŠ¥&amp;quot;no such file or directory&amp;quot;é—®é¢˜</title>
    <id>http://blog.cjhe.top/devops/docker/shell-line-break.html</id>
    <link href="http://blog.cjhe.top/devops/docker/shell-line-break.html"/>
    <updated>2024-08-27T02:59:10.000Z</updated>
    <summary type="html"><![CDATA[<p>åŒäº‹è¿è¡Œdockeré•œåƒæ—¶ï¼Œæ§åˆ¶å°æŠ¥é”™"no such file or directory"ï¼Œä½†æ˜¯æŸ¥çœ‹è¯¥æ–‡ä»¶ç¡®å®å­˜åœ¨ï¼Œæœ¬æ–‡è®°å½•è¯¥é—®é¢˜çš„å®šä½å’Œè§£å†³ã€‚</p>
]]></summary>
    <content type="html"><![CDATA[<p>åŒäº‹è¿è¡Œdockeré•œåƒæ—¶ï¼Œæ§åˆ¶å°æŠ¥é”™"no such file or directory"ï¼Œä½†æ˜¯æŸ¥çœ‹è¯¥æ–‡ä»¶ç¡®å®å­˜åœ¨ï¼Œæœ¬æ–‡è®°å½•è¯¥é—®é¢˜çš„å®šä½å’Œè§£å†³ã€‚</p>
<!-- more -->
<h3>æŸ¥çœ‹é•œåƒä½¿ç”¨æ–¹å¼</h3>
<div class="language-yaml" data-ext="yml" data-title="yml"><pre class="language-yaml"><code>COPY xxx/run.sh /run.sh
<span class="token comment"># RUNå‘½ä»¤</span>
RUN chmod 777 /run.sh
<span class="token comment"># æ‰§è¡Œå‘½ä»¤</span>
ENTRYPOINT <span class="token punctuation">[</span><span class="token string">"/run.sh"</span><span class="token punctuation">]</span>
</code></pre></div><p>è¿™é‡ŒæŸ¥çœ‹dockerfileï¼Œé‡‡ç”¨çš„æ˜¯è„šæœ¬æ–¹å¼å¯åŠ¨æœåŠ¡è¿›ç¨‹ï¼Œä½¿ç”¨æ–¹å¼ä¸Šå¹¶æ²¡æœ‰ä»€ä¹ˆé—®é¢˜</p>
<h3>æ ¹æ®æŠ¥é”™ä¿¡æ¯æŸ¥çœ‹æ–‡ä»¶æ˜¯å¦å­˜åœ¨</h3>
<p>é€šè¿‡æ–°å¢RUNå‘½ä»¤:<code>RUN ls -al</code>,æ‰“å°å½“å‰è·¯å¾„æ–‡ä»¶çš„æ–¹å¼ç¡®è®¤æ˜¯æœ‰<code>run.sh</code>è„šæœ¬æ–‡ä»¶</p>
<h3>æ£€æŸ¥è„šæœ¬æ–‡ä»¶</h3>
<p>å¯¹æ¯”äº†æœåŠ¡å™¨çš„è„šæœ¬æ–‡ä»¶å’Œå¼€å‘ä½¿ç”¨çš„è„šæœ¬æ–‡ä»¶ï¼Œä»”ç»†è§‚å¯Ÿå‘ç°è„šæœ¬æ–‡ä»¶å”¯ä¸€ä¸åŒçš„æ˜¯æ¢è¡Œç¬¦ä¸ä¸€æ ·</p>
<ul>
<li>å¼€å‘ä½¿ç”¨çš„æ˜¯windowsç³»ç»Ÿï¼Œæ¢è¡Œç¬¦ä¸º<strong>CRLF</strong>,å¯¹åº”ä¸º:<code>\r\n</code></li>
<li>æœåŠ¡å™¨ä½¿ç”¨çš„linuxç³»ç»Ÿï¼Œæ¢è¡Œç¬¦ä¸º<strong>LF</strong>ï¼Œå¯¹åº”ä¸º:<code>\n</code></li>
</ul>
<h3>å…³é”®é—®é¢˜</h3>
<p>è„šæœ¬ç¬¬ä¸€è¡Œ</p>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
</code></pre></div><p>è¡¨æ˜ä½¿ç”¨<code>/bin/bash</code>æ¥è§£é‡Šè„šæœ¬ï¼Œä½†å¦‚ä½•åé¢æœ‰windowsçš„æ¢è¡Œç¬¦å¯¼è‡´æ— æ³•è¯†åˆ«ï¼Œå› æ­¤ä¼šæŠ¥é”™ï¼šâ€œno such file or directoryâ€</p>
<h3>é—®é¢˜ç»“å±€</h3>
<p>é€šè¿‡ä¿®æ”¹<code>run.sh</code>çš„æ¢è¡Œç¬¦ä¸º<strong>LF</strong>ï¼Œé—®é¢˜å¾—ä»¥è§£å†³ã€‚</p>
<div class="hint-container tip">
<p class="hint-container-title">æç¤º</p>
<p>ä»£ç æäº¤æ—¶ï¼Œå°†æ–‡ä»¶æ¢è¡Œç¬¦è®¾ç½®ä¸ºLFæ ¼å¼ã€‚</p>
</div>
]]></content>
    <category term="devops"/>
    <published>2024-03-18T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">k8s</title>
    <id>http://blog.cjhe.top/devops/k8s/</id>
    <link href="http://blog.cjhe.top/devops/k8s/"/>
    <updated>2024-05-08T06:55:14.000Z</updated>
    <category term="devops"/>
    <published>2024-03-18T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">Helm Dashboardç®€ä»‹</title>
    <id>http://blog.cjhe.top/devops/k8s/helm-dashboard.html</id>
    <link href="http://blog.cjhe.top/devops/k8s/helm-dashboard.html"/>
    <updated>2024-08-27T02:59:10.000Z</updated>
    <summary type="html"><![CDATA[<p>helm-dashboardæ˜¯helmçš„å¯è§†åŒ–ç•Œé¢ï¼Œå¯ä»¥æŸ¥çœ‹é›†ç¾¤å†…é€šè¿‡helméƒ¨ç½²çš„chartåŒ…ã€‚å¥½å¤„ï¼šä¸éœ€è¦ç™»å½•æœºå™¨å°±å¯ä»¥å‡çº§ã€å›æ»šchartåŒ…ã€‚</p>
]]></summary>
    <content type="html"><![CDATA[<p>helm-dashboardæ˜¯helmçš„å¯è§†åŒ–ç•Œé¢ï¼Œå¯ä»¥æŸ¥çœ‹é›†ç¾¤å†…é€šè¿‡helméƒ¨ç½²çš„chartåŒ…ã€‚å¥½å¤„ï¼šä¸éœ€è¦ç™»å½•æœºå™¨å°±å¯ä»¥å‡çº§ã€å›æ»šchartåŒ…ã€‚</p>
<!-- more -->
<h2>Helm Dashboardç®€ä»‹</h2>
<h3>å¸¸ç”¨ç‰¹æ€§</h3>
<ul>
<li>æŸ¥çœ‹ã€å‡çº§ã€å›æ»šchartåŒ…åŠå…¶å†…å®¹</li>
<li>æŸ¥çœ‹å„ä¸ªç‰ˆæœ¬ä¹‹é—´çš„åŒºåˆ«</li>
</ul>
<h3>æŸ¥çœ‹å·²å®‰è£…çš„chartåŒ…</h3>
<figure><figcaption></figcaption></figure>
<h3>å•ä¸ªchartåŒ…çš„å‡çº§ã€å›æ»šå’Œä¿®æ”¹é…ç½®</h3>
<figure><figcaption></figcaption></figure>
<h3>æ¯”è¾ƒå„ä¸ªç‰ˆæœ¬ä¹‹å‰çš„åŒºåˆ«</h3>
<figure><figcaption></figcaption></figure>
<h3>Helm Dadshboard é­”æ”¹</h3>
<p>helm-dashboardä¾èµ–çš„å‰ç«¯é™æ€èµ„æºå¦‚ï¼š</p>
<ul>
<li>https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.1/styles/github.min.css</li>
<li>https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/lightfair.min.css</li>
<li>https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css</li>
</ul>
<p>ç”±äºå›½å†…ç½‘ç»œåŸå› ï¼Œå¶å°”è®¿é—®ä¸åˆ°ï¼Œå¯¼è‡´é¡µé¢åŠ è½½ä¸å‡ºæ¥ï¼Œå½±å“ä½¿ç”¨ã€‚å› æ­¤éœ€è¦å°†è¿™äº›cdnèµ„æºæ”¹ä¸ºæœ¬åœ°å¼•ç”¨ã€‚<a href="https://github.com/Hexiaopi/helm-dashboard/commit/4eb18e1655606cd80ce1eb8001f03eaca6a55dc7" target="_blank" rel="noopener noreferrer">ä»£ç ä¿®æ”¹è¯¦è§</a></p>
<h3>æ”¯æŒå…ˆè¡Œç‰ˆæœ¬</h3>
<p>å¸¸è§çš„è¯­ä¹‰åŒ–ç‰ˆæœ¬æ ¼å¼æ˜¯ï¼š<strong>X.Y.Z</strong>ï¼Œå¦‚ï¼š</p>
<ul>
<li>1.0.0</li>
<li>2.0.0</li>
<li>3.0.0</li>
</ul>
<p>ä½†æœ‰æ—¶å€™éœ€è¦æ”¯æŒå…ˆè¡Œç‰ˆæœ¬ï¼Œå¦‚ï¼š</p>
<ul>
<li>1.0.0-alpha.1</li>
<li>1.0.0-beta.2</li>
<li>1.0.0-rc.1</li>
</ul>
<p>helm-dashboardé€šè¿‡è¯­ä¹‰åŒ–ç‰ˆæœ¬åˆ¤æ–­æœ€æ–°ç‰ˆæœ¬æ˜¯å“ªä¸ªï¼Œå¯¹äºå…ˆè¡Œç‰ˆæœ¬ä¼šå¯¼è‡´é¡µé¢æŠ¥é”™ç™½å±ï¼Œå› æ­¤å¦‚æœéœ€è¦æ”¯æŒå…ˆè¡Œç‰ˆæœ¬ï¼Œéœ€è¦åœ¨chartåŒ…value.yamlå¢åŠ <code>--devel</code>å‚æ•°ï¼Œè¯¦è§å¦‚ä¸‹ï¼š</p>
<div class="language-yaml" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token key atrule">extraArgs</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>no<span class="token punctuation">-</span>browser
    <span class="token punctuation">-</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>bind=0.0.0.0
    <span class="token punctuation">-</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>devel
</code></pre></div>]]></content>
    <category term="devops"/>
    <published>2024-03-12T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">kube-state-metrics k8s éƒ¨ç½²</title>
    <id>http://blog.cjhe.top/devops/k8s/kube-state-metrics-k8s-deploy.html</id>
    <link href="http://blog.cjhe.top/devops/k8s/kube-state-metrics-k8s-deploy.html"/>
    <updated>2024-08-27T02:59:10.000Z</updated>
    <summary type="html"><![CDATA[<p>kube-state-metricsç”¨äºç›‘æ§k8sç›¸å…³æŒ‡æ ‡</p>
]]></summary>
    <content type="html"><![CDATA[<p>kube-state-metricsç”¨äºç›‘æ§k8sç›¸å…³æŒ‡æ ‡</p>
<!-- more -->
<h2>k8séƒ¨ç½²</h2>
<p>1ã€éƒ¨ç½²cluster-role</p>
<div class="language-yaml" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> rbac.authorization.k8s.io/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> ClusterRole
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">labels</span><span class="token punctuation">:</span>
    <span class="token key atrule">app.kubernetes.io/component</span><span class="token punctuation">:</span> exporter
    <span class="token key atrule">app.kubernetes.io/name</span><span class="token punctuation">:</span> kube<span class="token punctuation">-</span>state<span class="token punctuation">-</span>metrics
    <span class="token key atrule">app.kubernetes.io/version</span><span class="token punctuation">:</span> 2.10.0
  <span class="token key atrule">name</span><span class="token punctuation">:</span> kube<span class="token punctuation">-</span>state<span class="token punctuation">-</span>metrics
<span class="token key atrule">rules</span><span class="token punctuation">:</span>
<span class="token punctuation">-</span> <span class="token key atrule">apiGroups</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token string">""</span>
  <span class="token key atrule">resources</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> configmaps
  <span class="token punctuation">-</span> secrets
  <span class="token punctuation">-</span> nodes
  <span class="token punctuation">-</span> pods
  <span class="token punctuation">-</span> services
  <span class="token punctuation">-</span> serviceaccounts
  <span class="token punctuation">-</span> resourcequotas
  <span class="token punctuation">-</span> replicationcontrollers
  <span class="token punctuation">-</span> limitranges
  <span class="token punctuation">-</span> persistentvolumeclaims
  <span class="token punctuation">-</span> persistentvolumes
  <span class="token punctuation">-</span> namespaces
  <span class="token punctuation">-</span> endpoints
  <span class="token key atrule">verbs</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> list
  <span class="token punctuation">-</span> watch
<span class="token punctuation">-</span> <span class="token key atrule">apiGroups</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> apps
  <span class="token key atrule">resources</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> statefulsets
  <span class="token punctuation">-</span> daemonsets
  <span class="token punctuation">-</span> deployments
  <span class="token punctuation">-</span> replicasets
  <span class="token key atrule">verbs</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> list
  <span class="token punctuation">-</span> watch
<span class="token punctuation">-</span> <span class="token key atrule">apiGroups</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> batch
  <span class="token key atrule">resources</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> cronjobs
  <span class="token punctuation">-</span> jobs
  <span class="token key atrule">verbs</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> list
  <span class="token punctuation">-</span> watch
<span class="token punctuation">-</span> <span class="token key atrule">apiGroups</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> autoscaling
  <span class="token key atrule">resources</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> horizontalpodautoscalers
  <span class="token key atrule">verbs</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> list
  <span class="token punctuation">-</span> watch
<span class="token punctuation">-</span> <span class="token key atrule">apiGroups</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> authentication.k8s.io
  <span class="token key atrule">resources</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> tokenreviews
  <span class="token key atrule">verbs</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> create
<span class="token punctuation">-</span> <span class="token key atrule">apiGroups</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> authorization.k8s.io
  <span class="token key atrule">resources</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> subjectaccessreviews
  <span class="token key atrule">verbs</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> create
<span class="token punctuation">-</span> <span class="token key atrule">apiGroups</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> policy
  <span class="token key atrule">resources</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> poddisruptionbudgets
  <span class="token key atrule">verbs</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> list
  <span class="token punctuation">-</span> watch
<span class="token punctuation">-</span> <span class="token key atrule">apiGroups</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> certificates.k8s.io
  <span class="token key atrule">resources</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> certificatesigningrequests
  <span class="token key atrule">verbs</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> list
  <span class="token punctuation">-</span> watch
<span class="token punctuation">-</span> <span class="token key atrule">apiGroups</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> discovery.k8s.io
  <span class="token key atrule">resources</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> endpointslices
  <span class="token key atrule">verbs</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> list
  <span class="token punctuation">-</span> watch
<span class="token punctuation">-</span> <span class="token key atrule">apiGroups</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> storage.k8s.io
  <span class="token key atrule">resources</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> storageclasses
  <span class="token punctuation">-</span> volumeattachments
  <span class="token key atrule">verbs</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> list
  <span class="token punctuation">-</span> watch
<span class="token punctuation">-</span> <span class="token key atrule">apiGroups</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> admissionregistration.k8s.io
  <span class="token key atrule">resources</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> mutatingwebhookconfigurations
  <span class="token punctuation">-</span> validatingwebhookconfigurations
  <span class="token key atrule">verbs</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> list
  <span class="token punctuation">-</span> watch
<span class="token punctuation">-</span> <span class="token key atrule">apiGroups</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> networking.k8s.io
  <span class="token key atrule">resources</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> networkpolicies
  <span class="token punctuation">-</span> ingressclasses
  <span class="token punctuation">-</span> ingresses
  <span class="token key atrule">verbs</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> list
  <span class="token punctuation">-</span> watch
<span class="token punctuation">-</span> <span class="token key atrule">apiGroups</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> coordination.k8s.io
  <span class="token key atrule">resources</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> leases
  <span class="token key atrule">verbs</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> list
  <span class="token punctuation">-</span> watch
<span class="token punctuation">-</span> <span class="token key atrule">apiGroups</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> rbac.authorization.k8s.io
  <span class="token key atrule">resources</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> clusterrolebindings
  <span class="token punctuation">-</span> clusterroles
  <span class="token punctuation">-</span> rolebindings
  <span class="token punctuation">-</span> roles
  <span class="token key atrule">verbs</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> list
  <span class="token punctuation">-</span> watch
</code></pre></div><p>2ã€éƒ¨ç½²cluster-role-binding</p>
<div class="language-yaml" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> rbac.authorization.k8s.io/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> ClusterRoleBinding
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">labels</span><span class="token punctuation">:</span>
    <span class="token key atrule">app.kubernetes.io/component</span><span class="token punctuation">:</span> exporter
    <span class="token key atrule">app.kubernetes.io/name</span><span class="token punctuation">:</span> kube<span class="token punctuation">-</span>state<span class="token punctuation">-</span>metrics
    <span class="token key atrule">app.kubernetes.io/version</span><span class="token punctuation">:</span> 2.10.0
  <span class="token key atrule">name</span><span class="token punctuation">:</span> kube<span class="token punctuation">-</span>state<span class="token punctuation">-</span>metrics
<span class="token key atrule">roleRef</span><span class="token punctuation">:</span>
  <span class="token key atrule">apiGroup</span><span class="token punctuation">:</span> rbac.authorization.k8s.io
  <span class="token key atrule">kind</span><span class="token punctuation">:</span> ClusterRole
  <span class="token key atrule">name</span><span class="token punctuation">:</span> kube<span class="token punctuation">-</span>state<span class="token punctuation">-</span>metrics
<span class="token key atrule">subjects</span><span class="token punctuation">:</span>
<span class="token punctuation">-</span> <span class="token key atrule">kind</span><span class="token punctuation">:</span> ServiceAccount
  <span class="token key atrule">name</span><span class="token punctuation">:</span> kube<span class="token punctuation">-</span>state<span class="token punctuation">-</span>metrics
  <span class="token key atrule">namespace</span><span class="token punctuation">:</span> kube<span class="token punctuation">-</span>system
</code></pre></div><p>3ã€éƒ¨ç½²deployment</p>
<p>ğŸ‘ï¸ ç”±äºå›½å¤–ç½‘ç»œåŸå› ï¼Œæ³¨æ„éœ€è¦ä¿®æ”¹é•œåƒåœ°å€</p>
<div class="language-yaml" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> apps/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Deployment
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">labels</span><span class="token punctuation">:</span>
    <span class="token key atrule">app.kubernetes.io/component</span><span class="token punctuation">:</span> exporter
    <span class="token key atrule">app.kubernetes.io/name</span><span class="token punctuation">:</span> kube<span class="token punctuation">-</span>state<span class="token punctuation">-</span>metrics
    <span class="token key atrule">app.kubernetes.io/version</span><span class="token punctuation">:</span> 2.10.0
  <span class="token key atrule">name</span><span class="token punctuation">:</span> kube<span class="token punctuation">-</span>state<span class="token punctuation">-</span>metrics
  <span class="token key atrule">namespace</span><span class="token punctuation">:</span> kube<span class="token punctuation">-</span>system
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">replicas</span><span class="token punctuation">:</span> <span class="token number">1</span>
  <span class="token key atrule">selector</span><span class="token punctuation">:</span>
    <span class="token key atrule">matchLabels</span><span class="token punctuation">:</span>
      <span class="token key atrule">app.kubernetes.io/name</span><span class="token punctuation">:</span> kube<span class="token punctuation">-</span>state<span class="token punctuation">-</span>metrics
  <span class="token key atrule">template</span><span class="token punctuation">:</span>
    <span class="token key atrule">metadata</span><span class="token punctuation">:</span>
      <span class="token key atrule">labels</span><span class="token punctuation">:</span>
        <span class="token key atrule">app.kubernetes.io/component</span><span class="token punctuation">:</span> exporter
        <span class="token key atrule">app.kubernetes.io/name</span><span class="token punctuation">:</span> kube<span class="token punctuation">-</span>state<span class="token punctuation">-</span>metrics
        <span class="token key atrule">app.kubernetes.io/version</span><span class="token punctuation">:</span> 2.10.0
    <span class="token key atrule">spec</span><span class="token punctuation">:</span>
      <span class="token key atrule">automountServiceAccountToken</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token key atrule">containers</span><span class="token punctuation">:</span>
      <span class="token comment">#- image: registry.k8s.io/kube-state-metrics/kube-state-metrics:v2.10.0</span>
      <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> docker.io/bitnami/kube<span class="token punctuation">-</span>state<span class="token punctuation">-</span>metrics<span class="token punctuation">:</span>latest
        <span class="token key atrule">livenessProbe</span><span class="token punctuation">:</span>
          <span class="token key atrule">httpGet</span><span class="token punctuation">:</span>
            <span class="token key atrule">path</span><span class="token punctuation">:</span> /healthz
            <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8080</span>
          <span class="token key atrule">initialDelaySeconds</span><span class="token punctuation">:</span> <span class="token number">5</span>
          <span class="token key atrule">timeoutSeconds</span><span class="token punctuation">:</span> <span class="token number">5</span>
        <span class="token key atrule">name</span><span class="token punctuation">:</span> kube<span class="token punctuation">-</span>state<span class="token punctuation">-</span>metrics
        <span class="token key atrule">ports</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">8080</span>
          <span class="token key atrule">name</span><span class="token punctuation">:</span> http<span class="token punctuation">-</span>metrics
        <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">8081</span>
          <span class="token key atrule">name</span><span class="token punctuation">:</span> telemetry
        <span class="token key atrule">readinessProbe</span><span class="token punctuation">:</span>
          <span class="token key atrule">httpGet</span><span class="token punctuation">:</span>
            <span class="token key atrule">path</span><span class="token punctuation">:</span> /
            <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8081</span>
          <span class="token key atrule">initialDelaySeconds</span><span class="token punctuation">:</span> <span class="token number">5</span>
          <span class="token key atrule">timeoutSeconds</span><span class="token punctuation">:</span> <span class="token number">5</span>
        <span class="token key atrule">securityContext</span><span class="token punctuation">:</span>
          <span class="token key atrule">allowPrivilegeEscalation</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
          <span class="token key atrule">capabilities</span><span class="token punctuation">:</span>
            <span class="token key atrule">drop</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> ALL
          <span class="token key atrule">readOnlyRootFilesystem</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
          <span class="token key atrule">runAsNonRoot</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
          <span class="token key atrule">runAsUser</span><span class="token punctuation">:</span> <span class="token number">65534</span>
          <span class="token key atrule">seccompProfile</span><span class="token punctuation">:</span>
            <span class="token key atrule">type</span><span class="token punctuation">:</span> RuntimeDefault
      <span class="token key atrule">nodeSelector</span><span class="token punctuation">:</span>
        <span class="token key atrule">kubernetes.io/os</span><span class="token punctuation">:</span> linux
      <span class="token key atrule">serviceAccountName</span><span class="token punctuation">:</span> kube<span class="token punctuation">-</span>state<span class="token punctuation">-</span>metrics
</code></pre></div><p>4ã€éƒ¨ç½²service</p>
<p>æ³¨æ„ï¼Œéœ€è¦è®¾ç½®annotationï¼Œè®©Prometheusè‡ªåŠ¨å‘ç°</p>
<div class="language-yaml" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Service
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">labels</span><span class="token punctuation">:</span>
    <span class="token key atrule">app.kubernetes.io/component</span><span class="token punctuation">:</span> exporter
    <span class="token key atrule">app.kubernetes.io/name</span><span class="token punctuation">:</span> kube<span class="token punctuation">-</span>state<span class="token punctuation">-</span>metrics
    <span class="token key atrule">app.kubernetes.io/version</span><span class="token punctuation">:</span> 2.10.0
  <span class="token key atrule">name</span><span class="token punctuation">:</span> kube<span class="token punctuation">-</span>state<span class="token punctuation">-</span>metrics
  <span class="token key atrule">namespace</span><span class="token punctuation">:</span> kube<span class="token punctuation">-</span>system
  <span class="token key atrule">annotations</span><span class="token punctuation">:</span>
    <span class="token key atrule">prometheus.io/scrape</span><span class="token punctuation">:</span> <span class="token string">'true'</span>
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">clusterIP</span><span class="token punctuation">:</span> None
  <span class="token key atrule">ports</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> http<span class="token punctuation">-</span>metrics
    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8080</span>
    <span class="token key atrule">targetPort</span><span class="token punctuation">:</span> http<span class="token punctuation">-</span>metrics
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> telemetry
    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8081</span>
    <span class="token key atrule">targetPort</span><span class="token punctuation">:</span> telemetry
  <span class="token key atrule">selector</span><span class="token punctuation">:</span>
    <span class="token key atrule">app.kubernetes.io/name</span><span class="token punctuation">:</span> kube<span class="token punctuation">-</span>state<span class="token punctuation">-</span>metrics
</code></pre></div><p>5ã€éƒ¨ç½²service-account</p>
<div class="language-yaml" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">automountServiceAccountToken</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
<span class="token key atrule">kind</span><span class="token punctuation">:</span> ServiceAccount
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">labels</span><span class="token punctuation">:</span>
    <span class="token key atrule">app.kubernetes.io/component</span><span class="token punctuation">:</span> exporter
    <span class="token key atrule">app.kubernetes.io/name</span><span class="token punctuation">:</span> kube<span class="token punctuation">-</span>state<span class="token punctuation">-</span>metrics
    <span class="token key atrule">app.kubernetes.io/version</span><span class="token punctuation">:</span> 2.10.0
  <span class="token key atrule">name</span><span class="token punctuation">:</span> kube<span class="token punctuation">-</span>state<span class="token punctuation">-</span>metrics
  <span class="token key atrule">namespace</span><span class="token punctuation">:</span> kube<span class="token punctuation">-</span>system
</code></pre></div>]]></content>
    <category term="devops"/>
    <published>2024-01-15T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">cadvisor k8s éƒ¨ç½²</title>
    <id>http://blog.cjhe.top/devops/k8s/cadvisor-k8s-deploy.html</id>
    <link href="http://blog.cjhe.top/devops/k8s/cadvisor-k8s-deploy.html"/>
    <updated>2024-08-27T02:59:10.000Z</updated>
    <summary type="html"><![CDATA[<p>cadvisor æ˜¯è°·æ­Œå…¬å¸ç”¨æ¥åˆ†æè¿è¡Œä¸­çš„ Docker å®¹å™¨çš„èµ„æºå ç”¨ä»¥åŠæ€§èƒ½ç‰¹æ€§çš„å·¥å…·ï¼Œç®€å•æ¥è¯´æ˜¯ç”¨äºç›‘æ§ Docker å®¹å™¨ã€‚</p>
]]></summary>
    <content type="html"><![CDATA[<p>cadvisor æ˜¯è°·æ­Œå…¬å¸ç”¨æ¥åˆ†æè¿è¡Œä¸­çš„ Docker å®¹å™¨çš„èµ„æºå ç”¨ä»¥åŠæ€§èƒ½ç‰¹æ€§çš„å·¥å…·ï¼Œç®€å•æ¥è¯´æ˜¯ç”¨äºç›‘æ§ Docker å®¹å™¨ã€‚</p>
<!-- more -->
<h2>k8séƒ¨ç½²</h2>
<div class="language-yaml" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> apps/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> DaemonSet
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> cadvisor
  <span class="token key atrule">namespace</span><span class="token punctuation">:</span> monitor
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">selector</span><span class="token punctuation">:</span>
    <span class="token key atrule">matchLabels</span><span class="token punctuation">:</span>
      <span class="token key atrule">app</span><span class="token punctuation">:</span> cAdvisor
  <span class="token key atrule">template</span><span class="token punctuation">:</span>
    <span class="token key atrule">metadata</span><span class="token punctuation">:</span>
      <span class="token key atrule">labels</span><span class="token punctuation">:</span>
        <span class="token key atrule">app</span><span class="token punctuation">:</span> cAdvisor
    <span class="token key atrule">spec</span><span class="token punctuation">:</span>
      <span class="token key atrule">tolerations</span><span class="token punctuation">:</span>    <span class="token comment">#æ±¡ç‚¹å®¹å¿,å¿½ç•¥masterçš„NoSchedule</span>
        <span class="token punctuation">-</span> <span class="token key atrule">effect</span><span class="token punctuation">:</span> NoSchedule
          <span class="token key atrule">key</span><span class="token punctuation">:</span> node<span class="token punctuation">-</span>role.kubernetes.io/master
      <span class="token key atrule">hostNetwork</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token key atrule">restartPolicy</span><span class="token punctuation">:</span> Always
      <span class="token key atrule">containers</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> cadvisor
        <span class="token key atrule">image</span><span class="token punctuation">:</span> google/cadvisor<span class="token punctuation">:</span>latest
        <span class="token key atrule">imagePullPolicy</span><span class="token punctuation">:</span> IfNotPresent 
        <span class="token key atrule">ports</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">8080</span>
        <span class="token key atrule">volumeMounts</span><span class="token punctuation">:</span>
          <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> root
            <span class="token key atrule">mountPath</span><span class="token punctuation">:</span> /rootfs
          <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> run
            <span class="token key atrule">mountPath</span><span class="token punctuation">:</span> /var/run
          <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> sys
            <span class="token key atrule">mountPath</span><span class="token punctuation">:</span> /sys
          <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> docker
            <span class="token key atrule">mountPath</span><span class="token punctuation">:</span> /var/lib/containerd
      <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> root
        <span class="token key atrule">hostPath</span><span class="token punctuation">:</span>
          <span class="token key atrule">path</span><span class="token punctuation">:</span> /
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> run
        <span class="token key atrule">hostPath</span><span class="token punctuation">:</span>
          <span class="token key atrule">path</span><span class="token punctuation">:</span> /var/run
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> sys
        <span class="token key atrule">hostPath</span><span class="token punctuation">:</span>
          <span class="token key atrule">path</span><span class="token punctuation">:</span> /sys
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> docker
        <span class="token key atrule">hostPath</span><span class="token punctuation">:</span>
          <span class="token key atrule">path</span><span class="token punctuation">:</span> /var/lib/containerd
</code></pre></div>]]></content>
    <category term="devops"/>
    <published>2024-01-15T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">node-exporter k8s éƒ¨ç½²</title>
    <id>http://blog.cjhe.top/devops/k8s/node-exporter-k8s-deploy.html</id>
    <link href="http://blog.cjhe.top/devops/k8s/node-exporter-k8s-deploy.html"/>
    <updated>2024-08-27T02:59:10.000Z</updated>
    <summary type="html"><![CDATA[<p>node-exporterç”¨äºæš´éœ²å„ä¸ªèŠ‚ç‚¹çš„æŒ‡æ ‡ï¼Œç”±äºéœ€è¦æ¯ä¸ªèŠ‚ç‚¹éƒ½éƒ¨ç½²node-exporterï¼Œå› æ­¤kindé€‰æ‹©DaemonSetï¼Œå®ƒä¼šä¿éšœæ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸€ä¸ªç›¸åŒçš„å®ä¾‹ã€‚</p>
]]></summary>
    <content type="html"><![CDATA[<p>node-exporterç”¨äºæš´éœ²å„ä¸ªèŠ‚ç‚¹çš„æŒ‡æ ‡ï¼Œç”±äºéœ€è¦æ¯ä¸ªèŠ‚ç‚¹éƒ½éƒ¨ç½²node-exporterï¼Œå› æ­¤kindé€‰æ‹©DaemonSetï¼Œå®ƒä¼šä¿éšœæ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸€ä¸ªç›¸åŒçš„å®ä¾‹ã€‚</p>
<!-- more -->
<h2>k8séƒ¨ç½²</h2>
<div class="language-yaml" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> apps/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> DaemonSet
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> node<span class="token punctuation">-</span>exporter
  <span class="token key atrule">namespace</span><span class="token punctuation">:</span> monitor
  <span class="token key atrule">labels</span><span class="token punctuation">:</span>
    <span class="token key atrule">k8s-app</span><span class="token punctuation">:</span> node<span class="token punctuation">-</span>exporter
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">selector</span><span class="token punctuation">:</span>
    <span class="token key atrule">matchLabels</span><span class="token punctuation">:</span>
        <span class="token key atrule">k8s-app</span><span class="token punctuation">:</span> node<span class="token punctuation">-</span>exporter
  <span class="token key atrule">template</span><span class="token punctuation">:</span>
    <span class="token key atrule">metadata</span><span class="token punctuation">:</span>
      <span class="token key atrule">labels</span><span class="token punctuation">:</span>
        <span class="token key atrule">k8s-app</span><span class="token punctuation">:</span> node<span class="token punctuation">-</span>exporter
    <span class="token key atrule">spec</span><span class="token punctuation">:</span>
      <span class="token key atrule">tolerations</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">effect</span><span class="token punctuation">:</span> NoSchedule
          <span class="token key atrule">key</span><span class="token punctuation">:</span> node<span class="token punctuation">-</span>role.kubernetes.io/master
      <span class="token key atrule">containers</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> prom/node<span class="token punctuation">-</span>exporter<span class="token punctuation">:</span>latest
        <span class="token key atrule">imagePullPolicy</span><span class="token punctuation">:</span> IfNotPresent
        <span class="token key atrule">name</span><span class="token punctuation">:</span> prometheus<span class="token punctuation">-</span>node<span class="token punctuation">-</span>exporter
        <span class="token key atrule">ports</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">9100</span>
          <span class="token key atrule">hostPort</span><span class="token punctuation">:</span> <span class="token number">9100</span>
          <span class="token key atrule">protocol</span><span class="token punctuation">:</span> TCP
          <span class="token key atrule">name</span><span class="token punctuation">:</span> metrics
        <span class="token key atrule">volumeMounts</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">mountPath</span><span class="token punctuation">:</span> /host/proc
          <span class="token key atrule">name</span><span class="token punctuation">:</span> proc
        <span class="token punctuation">-</span> <span class="token key atrule">mountPath</span><span class="token punctuation">:</span> /host/sys
          <span class="token key atrule">name</span><span class="token punctuation">:</span> sys
        <span class="token punctuation">-</span> <span class="token key atrule">mountPath</span><span class="token punctuation">:</span> /host
          <span class="token key atrule">name</span><span class="token punctuation">:</span> rootfs
        <span class="token key atrule">args</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>path.procfs=/host/proc
        <span class="token punctuation">-</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>path.sysfs=/host/sys
        <span class="token punctuation">-</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>path.rootfs=/host
      <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> proc
          <span class="token key atrule">hostPath</span><span class="token punctuation">:</span>
            <span class="token key atrule">path</span><span class="token punctuation">:</span> /proc
        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> sys
          <span class="token key atrule">hostPath</span><span class="token punctuation">:</span>
            <span class="token key atrule">path</span><span class="token punctuation">:</span> /sys
        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> rootfs
          <span class="token key atrule">hostPath</span><span class="token punctuation">:</span>
            <span class="token key atrule">path</span><span class="token punctuation">:</span> /
      <span class="token key atrule">hostNetwork</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token key atrule">hostPID</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre></div>]]></content>
    <category term="devops"/>
    <published>2024-01-15T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">devops</title>
    <id>http://blog.cjhe.top/devops/</id>
    <link href="http://blog.cjhe.top/devops/"/>
    <updated>2024-04-16T03:31:43.000Z</updated>
    <summary type="html"><![CDATA[<p>è¿™é‡Œè®°å½•å·¥ä½œä¸­å­¦ä¹ åˆ°çš„devopsåŸºç¡€çŸ¥è¯†</p>
]]></summary>
    <content type="html"><![CDATA[<p>è¿™é‡Œè®°å½•å·¥ä½œä¸­å­¦ä¹ åˆ°çš„devopsåŸºç¡€çŸ¥è¯†</p>
]]></content>
    <category term="devops"/>
    <published>2024-01-15T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">Prometheus k8s éƒ¨ç½²</title>
    <id>http://blog.cjhe.top/devops/k8s/prometheus-k8s-deploy.html</id>
    <link href="http://blog.cjhe.top/devops/k8s/prometheus-k8s-deploy.html"/>
    <updated>2024-08-27T02:59:10.000Z</updated>
    <summary type="html"><![CDATA[<p>Prometheusæ˜¯ä¸ªä¼˜ç§€çš„ç›‘æ§ç³»ç»Ÿï¼ŒåŸºäºæ—¶åºæ•°æ®åº“ï¼Œè¿™é‡Œè®°å½•k8séƒ¨ç½²</p>
]]></summary>
    <content type="html"><![CDATA[<p>Prometheusæ˜¯ä¸ªä¼˜ç§€çš„ç›‘æ§ç³»ç»Ÿï¼ŒåŸºäºæ—¶åºæ•°æ®åº“ï¼Œè¿™é‡Œè®°å½•k8séƒ¨ç½²</p>
<!-- more -->
<h2>k8séƒ¨ç½²</h2>
<p>æ­¥éª¤ä¸€ã€åˆ›å»ºæ•°æ®å­˜å‚¨</p>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">mkdir</span> /home/data/prometheus
<span class="token function">chmod</span> <span class="token number">777</span> /home/data/prometheus
</code></pre></div><p>æ­¥éª¤äºŒã€åˆ›å»ºserviceaccountå’Œclusterrolebinding</p>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code>kubectl create serviceaccount monitor <span class="token parameter variable">-n</span> monitor
kubectl create clusterrolebinding monitor-clusterrolebinding <span class="token parameter variable">-n</span> monitor <span class="token parameter variable">--clusterrole</span><span class="token operator">=</span>cluster-admin <span class="token parameter variable">--serviceaccount</span><span class="token operator">=</span>monitor:monitor
</code></pre></div><p>æ­¥éª¤ä¸‰ã€åˆ›å»ºPrometheus configmapç”¨äºå­˜å‚¨æŠ“å–é…ç½®</p>
<div class="language-yaml" data-ext="yml" data-title="yml"><pre class="language-yaml"><code></code></pre></div>]]></content>
    <category term="devops"/>
    <published>2024-01-15T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">ç½‘ç»œ</title>
    <id>http://blog.cjhe.top/network/</id>
    <link href="http://blog.cjhe.top/network/"/>
    <updated>2024-04-16T03:31:43.000Z</updated>
    <summary type="html"><![CDATA[<p>è¿™é‡Œè®°å½•å·¥ä½œä¸­å­¦ä¹ åˆ°çš„ç½‘ç»œåŸºç¡€çŸ¥è¯†</p>
]]></summary>
    <content type="html"><![CDATA[<p>è¿™é‡Œè®°å½•å·¥ä½œä¸­å­¦ä¹ åˆ°çš„ç½‘ç»œåŸºç¡€çŸ¥è¯†</p>
]]></content>
    <category term="ç½‘ç»œ"/>
    <published>2023-09-23T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">ä¸‰æ–¹åº“</title>
    <id>http://blog.cjhe.top/language/go/third-party/</id>
    <link href="http://blog.cjhe.top/language/go/third-party/"/>
    <updated>2024-05-15T10:01:59.000Z</updated>
    <category term="ç¼–ç¨‹è¯­è¨€"/>
    <published>2023-09-20T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">pflag</title>
    <id>http://blog.cjhe.top/language/go/third-party/pflag.html</id>
    <link href="http://blog.cjhe.top/language/go/third-party/pflag.html"/>
    <updated>2024-05-05T15:52:14.000Z</updated>
    <summary type="text">æˆ‘åœ¨æ ‡å‡†åº“ä¸­ä»‹ç»äº†ï¼Œå¯¹äºå°å‹çš„é¡¹ç›®flagèƒ½å¤ŸåŸºæœ¬æ»¡è¶³éœ€æ±‚ï¼Œä½†æ˜¯åœ¨æŸäº›å¤§å‹é¡¹ç›®æˆ–è€…ç‰¹æ®Šåœºæ™¯ä¸‹flagæœ‰äº›åŠ›ä¸ä»å¿ƒã€‚ä¸»è¦åœ¨äºï¼š

flagçš„å­å‘½ä»¤éœ€è¦è‡ªå·±è§£æ
flagçš„çŸ­å‘½ä»¤éœ€è¦å®šä¹‰ä¸¤ä¸ªå˜é‡
ä¸æ”¯æŒä¸€äº›å‚æ•°åºŸå¼ƒè¯´æ˜ï¼Œè¿™åœ¨æ›´æ–°çš„å·¥å…·ä¸­å¯¹ç”¨æˆ·æœ‰æ›´å¥½çš„å¼•å¯¼ä½œç”¨

å› æ­¤ä¸šç•Œå¼€æºçš„pflagå—åˆ°å¹¿å¤§çˆ±å¥½è€…çš„ä½¿ç”¨ï¼Œåœ¨ä¸€äº›è€³ç†Ÿèƒ½è¯¦çš„å¼€æºé¡¹ç›®é‡Œä¹Ÿéƒ½åœ¨ä½¿ç”¨pflagï¼Œä¾‹...</summary>
    <content type="html"><![CDATA[<!-- more -->
<p>æˆ‘åœ¨æ ‡å‡†åº“ä¸­ä»‹ç»äº†<a href="/language/go/standard-library/flag.html" target="_blank">flagä½¿ç”¨</a>ï¼Œå¯¹äºå°å‹çš„é¡¹ç›®flagèƒ½å¤ŸåŸºæœ¬æ»¡è¶³éœ€æ±‚ï¼Œä½†æ˜¯åœ¨æŸäº›å¤§å‹é¡¹ç›®æˆ–è€…ç‰¹æ®Šåœºæ™¯ä¸‹flagæœ‰äº›åŠ›ä¸ä»å¿ƒã€‚ä¸»è¦åœ¨äºï¼š</p>
<ul>
<li>flagçš„å­å‘½ä»¤éœ€è¦è‡ªå·±è§£æ</li>
<li>flagçš„çŸ­å‘½ä»¤éœ€è¦å®šä¹‰ä¸¤ä¸ªå˜é‡</li>
<li>ä¸æ”¯æŒä¸€äº›å‚æ•°åºŸå¼ƒè¯´æ˜ï¼Œè¿™åœ¨æ›´æ–°çš„å·¥å…·ä¸­å¯¹ç”¨æˆ·æœ‰æ›´å¥½çš„å¼•å¯¼ä½œç”¨</li>
</ul>
<p>å› æ­¤ä¸šç•Œå¼€æºçš„<a href="https://github.com/spf13/pflag" target="_blank" rel="noopener noreferrer">pflag</a>å—åˆ°å¹¿å¤§çˆ±å¥½è€…çš„ä½¿ç”¨ï¼Œåœ¨ä¸€äº›è€³ç†Ÿèƒ½è¯¦çš„å¼€æºé¡¹ç›®é‡Œä¹Ÿéƒ½åœ¨ä½¿ç”¨pflagï¼Œä¾‹å¦‚ï¼šKubernetesã€Istioã€Helmã€Dockerã€Etcdç­‰ã€‚</p>
<h2>ç®€å•ç”¨æ³•</h2>
<h3>æ”¯æŒæ ‡å‡†åº“flagç”¨æ³•</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">var</span> flagStrA <span class="token operator">=</span> pflag<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token string">"str-a"</span><span class="token punctuation">,</span> <span class="token string">"str-a"</span><span class="token punctuation">,</span> <span class="token string">"flag test *string"</span><span class="token punctuation">)</span>
</code></pre></div><p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">ExampleFlagLongStringPoint</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	pflag<span class="token punctuation">.</span>CommandLine<span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">"--str-a"</span><span class="token punctuation">,</span> <span class="token string">"stra"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">*</span>flagStrA<span class="token punctuation">)</span>
	<span class="token comment">// Output:</span>
	<span class="token comment">// stra</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="hint-container warning">
<p class="hint-container-title">æ³¨æ„</p>
<p>æ³¨æ„æ˜¯é•¿é€‰é¡¹ï¼Œå³å‚æ•°ä¸º<code>--xxx</code></p>
</div>
<h3>æ”¯æŒçŸ­é€‰é¡¹</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">var</span> flagStrB <span class="token operator">=</span> pflag<span class="token punctuation">.</span><span class="token function">StringP</span><span class="token punctuation">(</span><span class="token string">"str-b"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"str-b"</span><span class="token punctuation">,</span> <span class="token string">"long and short flag test *string"</span><span class="token punctuation">)</span>
</code></pre></div><p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">ExampleFlagShortStringPoint</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	pflag<span class="token punctuation">.</span>CommandLine<span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">"-b"</span><span class="token punctuation">,</span> <span class="token string">"strb"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">*</span>flagStrB<span class="token punctuation">)</span>
	<span class="token comment">// OutPut:</span>
	<span class="token comment">// strb</span>
<span class="token punctuation">}</span>
</code></pre></div><h3>æ”¯æŒç»‘å®šåˆ°å·²æœ‰å˜é‡</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">var</span> flagStrC <span class="token builtin">string</span>
<span class="token keyword">var</span> flagStrD <span class="token builtin">string</span>

<span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	pflag<span class="token punctuation">.</span><span class="token function">StringVar</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>flagStrC<span class="token punctuation">,</span> <span class="token string">"str-c"</span><span class="token punctuation">,</span> <span class="token string">"str-c"</span><span class="token punctuation">,</span> <span class="token string">"long flag test string"</span><span class="token punctuation">)</span>
	pflag<span class="token punctuation">.</span><span class="token function">StringVarP</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>flagStrD<span class="token punctuation">,</span> <span class="token string">"str-d"</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">,</span> <span class="token string">"str-d"</span><span class="token punctuation">,</span> <span class="token string">"long and short flag test string"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">ExampleFlagString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	pflag<span class="token punctuation">.</span>CommandLine<span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">"--str-c"</span><span class="token punctuation">,</span> <span class="token string">"strc"</span><span class="token punctuation">,</span> <span class="token string">"-d"</span><span class="token punctuation">,</span> <span class="token string">"strd"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>flagStrC<span class="token punctuation">,</span> flagStrD<span class="token punctuation">)</span>
	<span class="token comment">// Output:</span>
	<span class="token comment">// strc strd</span>
<span class="token punctuation">}</span>
</code></pre></div><h3>æ ‡è®°å‘½ä»¤è¡Œå‚æ•°å·²åºŸå¼ƒ</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code>pflag<span class="token punctuation">.</span>CommandLine<span class="token punctuation">.</span><span class="token function">MarkDeprecated</span><span class="token punctuation">(</span><span class="token string">"badflag"</span><span class="token punctuation">,</span> <span class="token string">"please use --desc instead"</span><span class="token punctuation">)</span>
pflag<span class="token punctuation">.</span>CommandLine<span class="token punctuation">.</span><span class="token function">MarkShorthandDeprecated</span><span class="token punctuation">(</span><span class="token string">"str-b"</span><span class="token punctuation">,</span> <span class="token string">"please use --str-b instead"</span><span class="token punctuation">)</span>
</code></pre></div><p>æ‰“å°Usage()</p>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>Flag --badflag has been deprecated, please use --desc instead
Flag shorthand -b has been deprecated, please use --str-b instead
</code></pre></div><h3>æŒ‡å®šäº†å‚æ•°å´æ²¡æœ‰ä¼ å€¼åœºæ™¯ä¸‹çš„é»˜è®¤å€¼æ”¹å†™</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">var</span> age <span class="token operator">=</span> pflag<span class="token punctuation">.</span><span class="token function">IntP</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token string">"Input Your Age"</span><span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	pflag<span class="token punctuation">.</span><span class="token function">Lookup</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>NoOptDefVal <span class="token operator">=</span> <span class="token string">"25"</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">TestFlagDefault</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	tests <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">struct</span> <span class="token punctuation">{</span>
		name      <span class="token builtin">string</span>
		arguments <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>
		want      <span class="token builtin">int</span>
	<span class="token punctuation">}</span><span class="token punctuation">{</span>
		<span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">"æ²¡ä¼ å…¥å‚æ•°å’Œå€¼"</span><span class="token punctuation">,</span> arguments<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">""</span><span class="token punctuation">}</span><span class="token punctuation">,</span> want<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">"ä¼ å…¥å‚æ•°å’Œå€¼"</span><span class="token punctuation">,</span> arguments<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">"--age=10"</span><span class="token punctuation">}</span><span class="token punctuation">,</span> want<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">"ä¼ å…¥å‚æ•°,æ²¡ä¼ å€¼"</span><span class="token punctuation">,</span> arguments<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">"--age"</span><span class="token punctuation">}</span><span class="token punctuation">,</span> want<span class="token punctuation">:</span> <span class="token number">25</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> test <span class="token operator">:=</span> <span class="token keyword">range</span> tests <span class="token punctuation">{</span>
		pflag<span class="token punctuation">.</span>CommandLine<span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>test<span class="token punctuation">.</span>arguments<span class="token punctuation">)</span>
		<span class="token keyword">if</span> <span class="token operator">*</span>age <span class="token operator">!=</span> test<span class="token punctuation">.</span>want <span class="token punctuation">{</span>
			t<span class="token punctuation">.</span><span class="token function">Fatalf</span><span class="token punctuation">(</span><span class="token string">"%s pflag parse want:%d,but got:%d"</span><span class="token punctuation">,</span> test<span class="token punctuation">.</span>name<span class="token punctuation">,</span> test<span class="token punctuation">.</span>want<span class="token punctuation">,</span> <span class="token operator">*</span>age<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>::: notice</p>
<ul>
<li>å½“è¾“å…¥--age 10ï¼Œageå˜é‡å€¼ä¸ºï¼š10ï¼›</li>
<li>å½“è¾“å…¥--ageï¼Œageå˜é‡å€¼ä¸ºï¼š25ï¼›</li>
<li>å½“æ²¡è¾“å…¥--ageï¼Œageå˜é‡å€¼ä¸ºï¼š30ï¼›</li>
</ul>
<p>:::</p>
<h3>æ”¯æŒéšè—å‚æ•°</h3>
<blockquote>
<p>éšè—çš„å‚æ•°ä¸ä¼šæ˜¾ç¤ºåœ¨usage/helpä¸­</p>
</blockquote>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code>pflag<span class="token punctuation">.</span>CommandLine<span class="token punctuation">.</span><span class="token function">MarkHidden</span><span class="token punctuation">(</span><span class="token string">"secretFlag"</span><span class="token punctuation">)</span>
</code></pre></div>]]></content>
    <category term="ç¼–ç¨‹è¯­è¨€"/>
    <published>2023-09-20T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">æ ‡å‡†åº“</title>
    <id>http://blog.cjhe.top/language/go/standard-library/</id>
    <link href="http://blog.cjhe.top/language/go/standard-library/"/>
    <updated>2024-05-15T10:01:59.000Z</updated>
    <category term="ç¼–ç¨‹è¯­è¨€"/>
    <published>2023-09-19T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">flagä½¿ç”¨</title>
    <id>http://blog.cjhe.top/language/go/standard-library/flag.html</id>
    <link href="http://blog.cjhe.top/language/go/standard-library/flag.html"/>
    <updated>2024-05-05T15:52:14.000Z</updated>
    <summary type="text">flagåº“å®ç°å‘½ä»¤è¡Œå‚æ•°è§£æ

ç®€å•ç”¨æ³•

flagå‚æ•°ä½¿ç”¨è¯­æ³•
-flag    // ç ´æŠ˜å·ï¼Œä½¿ç”¨é»˜è®¤å€¼
--flag   // åŒç ´æŠ˜å·
-flag=x  // æŒ‡å®šå‚æ•°å€¼
-flag x  // non-boolean flags only

å­—ç¬¦ä¸²ç±»å‹
ä½¿ç”¨ç¤ºä¾‹
ä¸è¿‡ç”±äºflag.String()è¿”å›çš„æ˜¯æŒ‡é’ˆç±»å‹çš„å­—ç¬¦ä¸²ï¼Œå› æ­¤ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹é¢...</summary>
    <content type="html"><![CDATA[<!-- more -->
<blockquote>
<p>flagåº“å®ç°å‘½ä»¤è¡Œå‚æ•°è§£æ</p>
</blockquote>
<h2>ç®€å•ç”¨æ³•</h2>
<div class="hint-container tip">
<p class="hint-container-title">flagå‚æ•°ä½¿ç”¨è¯­æ³•</p>
<p>-flag    // ç ´æŠ˜å·ï¼Œä½¿ç”¨é»˜è®¤å€¼
--flag   // åŒç ´æŠ˜å·
-flag=x  // æŒ‡å®šå‚æ•°å€¼
-flag x  // non-boolean flags only</p>
</div>
<h3>å­—ç¬¦ä¸²ç±»å‹</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token comment">// Example1ï¼šflag.String è¿”å›æŒ‡é’ˆç±»å‹å­—ç¬¦ä¸²</span>
<span class="token keyword">var</span> flagStrA <span class="token operator">=</span> flag<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token string">"str-a"</span><span class="token punctuation">,</span> <span class="token string">"str-a"</span><span class="token punctuation">,</span> <span class="token string">"flag test *string"</span><span class="token punctuation">)</span>
</code></pre></div><p>ä½¿ç”¨ç¤ºä¾‹</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">ExampleFlagStringPointPrint</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	flag<span class="token punctuation">.</span>CommandLine<span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">"-str-a"</span><span class="token punctuation">,</span> <span class="token string">"stra"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">*</span>flagStrA<span class="token punctuation">)</span>
	<span class="token comment">// Output:</span>
	<span class="token comment">// stra</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä¸è¿‡ç”±äºflag.String()è¿”å›çš„æ˜¯æŒ‡é’ˆç±»å‹çš„å­—ç¬¦ä¸²ï¼Œå› æ­¤ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹é¢æ–¹å¼å®šä¹‰</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token comment">// Example2ï¼šå¦‚æœæœŸæœ›å®šä¹‰å­—ç¬¦ä¸²ç±»å‹ï¼Œå¯ä»¥é€šè¿‡initå‡½æ•°åˆå§‹åŒ–</span>
<span class="token keyword">var</span> flagStrB <span class="token builtin">string</span>

<span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// flag.StringVarå¯ä»¥ç»‘å®šå·²æœ‰çš„å˜é‡</span>
	flag<span class="token punctuation">.</span><span class="token function">StringVar</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>flagStrB<span class="token punctuation">,</span> <span class="token string">"str-b"</span><span class="token punctuation">,</span> <span class="token string">"str-b"</span><span class="token punctuation">,</span> <span class="token string">"flag test string"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä½¿ç”¨ç¤ºä¾‹</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">ExampleFlagStringPrint</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	flag<span class="token punctuation">.</span>CommandLine<span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">"-str-b"</span><span class="token punctuation">,</span> <span class="token string">"strb"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>flagStrB<span class="token punctuation">)</span>
	<span class="token comment">// Output:</span>
	<span class="token comment">// strb</span>
<span class="token punctuation">}</span>
</code></pre></div><h3>intç±»å‹</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token comment">// Example3ï¼šintç±»å‹å˜é‡</span>
<span class="token keyword">var</span> flagInt <span class="token operator">=</span> flag<span class="token punctuation">.</span><span class="token function">Int</span><span class="token punctuation">(</span><span class="token string">"int"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"flag test *int"</span><span class="token punctuation">)</span>
</code></pre></div><p>ä½¿ç”¨ç¤ºä¾‹</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">ExampleFlagIntPointPrint</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	flag<span class="token punctuation">.</span>CommandLine<span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">"-int"</span><span class="token punctuation">,</span> <span class="token string">"10"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">*</span>flagInt<span class="token punctuation">)</span>
	<span class="token comment">// Output:</span>
	<span class="token comment">// 10</span>
<span class="token punctuation">}</span>
</code></pre></div><h3>Boolç±»å‹</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token comment">// Example3ï¼šintç±»å‹å˜é‡</span>
<span class="token keyword">var</span> flagInt <span class="token operator">=</span> flag<span class="token punctuation">.</span><span class="token function">Int</span><span class="token punctuation">(</span><span class="token string">"int"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"flag test *int"</span><span class="token punctuation">)</span>
</code></pre></div><div class="hint-container tip">
<p class="hint-container-title">boolç±»å‹å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å­—é¢é‡</p>
<p>1, 0, t, f, T, F, true, false, TRUE, FALSE, True, False</p>
</div>
<p>ä½¿ç”¨ç¤ºä¾‹</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">ExampleBoolPointPrint</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	flag<span class="token punctuation">.</span>CommandLine<span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">"-bool=True"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">*</span>flagBool<span class="token punctuation">)</span>
	<span class="token comment">// Output:</span>
	<span class="token comment">// true</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ³¨æ„äº‹é¡¹</p>
<h4>boolç±»å‹ä¸å¯ä½¿ç”¨ï¼š-flag xå½¢å¼</h4>
<div class="hint-container warning">
<p class="hint-container-title">æ³¨æ„</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">ExampleBoolPointNoticPrint</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	flag<span class="token punctuation">.</span>CommandLine<span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">"-bool"</span><span class="token punctuation">,</span> <span class="token string">"false"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">*</span>flagBool<span class="token punctuation">)</span>
	<span class="token comment">// Output:</span>
	<span class="token comment">// true</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è™½ç„¶æ˜¾ç¤ºçš„ä¼ å…¥<code>false</code>ï¼Œä½†æ˜¯æœ€ç»ˆç»“æœæ˜¯<code>true</code></p>
</div>
<h4>boolç±»å‹ï¼š-flagå½¢å¼ï¼Œè®¤ä¸ºtrue</h4>
<div class="hint-container warning">
<p class="hint-container-title">æ³¨æ„</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">ExampleBoolPointEmptyPrint</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	flag<span class="token punctuation">.</span>CommandLine<span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">"-bool"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">*</span>flagBool<span class="token punctuation">)</span>
	<span class="token comment">// Output:</span>
	<span class="token comment">// true</span>
<span class="token punctuation">}</span>
</code></pre></div></div>
<h3>durationç±»å‹</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token comment">// Example5ï¼šdurationç±»å‹å˜é‡</span>
<span class="token keyword">var</span> flagDuration <span class="token operator">=</span> flag<span class="token punctuation">.</span><span class="token function">Duration</span><span class="token punctuation">(</span><span class="token string">"duration"</span><span class="token punctuation">,</span> time<span class="token punctuation">.</span>Minute<span class="token operator">*</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"flag test *duration"</span><span class="token punctuation">)</span>
</code></pre></div><p>ä½¿ç”¨ç¤ºä¾‹</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">ExampleFlagDurationPointPrint</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	flag<span class="token punctuation">.</span>CommandLine<span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">"-duration"</span><span class="token punctuation">,</span> <span class="token string">"1m1s"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">*</span>flagDuration<span class="token punctuation">)</span>
	<span class="token comment">// Output:</span>
	<span class="token comment">// 1m1s</span>
<span class="token punctuation">}</span>
</code></pre></div><h2>é«˜é˜¶ç”¨æ³•</h2>
<p>flagæ ‡å‡†åº“æä¾›äº†åŸºç¡€çš„æ•°æ®ç±»å‹å‚æ•°ï¼Œå¦‚ä¸‹ï¼š</p>
<ul>
<li>bool</li>
<li>int</li>
<li>int64</li>
<li>uint</li>
<li>uint64</li>
<li>string</li>
<li>float64</li>
<li>duration</li>
</ul>
<h3>è‡ªå®šä¹‰ç±»å‹</h3>
<p>å¦‚æœéœ€è¦è‡ªå®šä¹‰ç±»å‹ï¼Œéœ€è¦å®ç°<code>flag.Value</code>æ¥å£</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">type</span> Value <span class="token keyword">interface</span> <span class="token punctuation">{</span>
	<span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span>
	<span class="token function">Set</span><span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">error</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token comment">// Example6: è‡ªå®šä¹‰ç±»å‹</span>
<span class="token keyword">type</span> URLValue <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	URL <span class="token operator">*</span>url<span class="token punctuation">.</span>URL
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>v URLValue<span class="token punctuation">)</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> v<span class="token punctuation">.</span>URL <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> v<span class="token punctuation">.</span>URL<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token string">""</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>v <span class="token operator">*</span>URLValue<span class="token punctuation">)</span> <span class="token function">Set</span><span class="token punctuation">(</span>s <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> u<span class="token punctuation">,</span> err <span class="token operator">:=</span> url<span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> err
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		v<span class="token punctuation">.</span>URL <span class="token operator">=</span> u
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> u URLValue

<span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	flag<span class="token punctuation">.</span><span class="token function">Var</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>u<span class="token punctuation">,</span> <span class="token string">"url"</span><span class="token punctuation">,</span> <span class="token string">"flag test self struct"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä½¿ç”¨ç¤ºä¾‹</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">ExampleStructPrint</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	flag<span class="token punctuation">.</span>CommandLine<span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">"-url"</span><span class="token punctuation">,</span> <span class="token string">"https://golang.org/pkg/flag/"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span>
	<span class="token comment">// Output:</span>
	<span class="token comment">// https://golang.org/pkg/flag/</span>
<span class="token punctuation">}</span>
</code></pre></div><h3>å­å‘½ä»¤</h3>
<p>è¿™é‡Œå‚è€ƒç½‘ç«™ç¤ºä¾‹ï¼š<a href="https://gobyexample.com/command-line-subcommands" target="_blank" rel="noopener noreferrer">gobyexample</a></p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">"flag"</span>
    <span class="token string">"fmt"</span>
    <span class="token string">"os"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    fooCmd <span class="token operator">:=</span> flag<span class="token punctuation">.</span><span class="token function">NewFlagSet</span><span class="token punctuation">(</span><span class="token string">"foo"</span><span class="token punctuation">,</span> flag<span class="token punctuation">.</span>ExitOnError<span class="token punctuation">)</span>
    fooEnable <span class="token operator">:=</span> fooCmd<span class="token punctuation">.</span><span class="token function">Bool</span><span class="token punctuation">(</span><span class="token string">"enable"</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">"enable"</span><span class="token punctuation">)</span>
    fooName <span class="token operator">:=</span> fooCmd<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token string">"name"</span><span class="token punctuation">)</span>

    barCmd <span class="token operator">:=</span> flag<span class="token punctuation">.</span><span class="token function">NewFlagSet</span><span class="token punctuation">(</span><span class="token string">"bar"</span><span class="token punctuation">,</span> flag<span class="token punctuation">.</span>ExitOnError<span class="token punctuation">)</span>
    barLevel <span class="token operator">:=</span> barCmd<span class="token punctuation">.</span><span class="token function">Int</span><span class="token punctuation">(</span><span class="token string">"level"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"level"</span><span class="token punctuation">)</span>

    <span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>Args<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">2</span> <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"expected 'foo' or 'bar' subcommands"</span><span class="token punctuation">)</span>
        os<span class="token punctuation">.</span><span class="token function">Exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">switch</span> os<span class="token punctuation">.</span>Args<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>

    <span class="token keyword">case</span> <span class="token string">"foo"</span><span class="token punctuation">:</span>
        fooCmd<span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>Args<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"subcommand 'foo'"</span><span class="token punctuation">)</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"  enable:"</span><span class="token punctuation">,</span> <span class="token operator">*</span>fooEnable<span class="token punctuation">)</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"  name:"</span><span class="token punctuation">,</span> <span class="token operator">*</span>fooName<span class="token punctuation">)</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"  tail:"</span><span class="token punctuation">,</span> fooCmd<span class="token punctuation">.</span><span class="token function">Args</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token string">"bar"</span><span class="token punctuation">:</span>
        barCmd<span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>Args<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"subcommand 'bar'"</span><span class="token punctuation">)</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"  level:"</span><span class="token punctuation">,</span> <span class="token operator">*</span>barLevel<span class="token punctuation">)</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"  tail:"</span><span class="token punctuation">,</span> barCmd<span class="token punctuation">.</span><span class="token function">Args</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">default</span><span class="token punctuation">:</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"expected 'foo' or 'bar' subcommands"</span><span class="token punctuation">)</span>
        os<span class="token punctuation">.</span><span class="token function">Exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä½¿ç”¨ç¤ºä¾‹</p>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code>./command-line-subcommands foo <span class="token parameter variable">-enable</span> <span class="token parameter variable">-name</span><span class="token operator">=</span>joe a1 a2
</code></pre></div><div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>subcommand 'foo'
  enable: true
  name: joe
  tail: [a1 a2]
</code></pre></div><div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code>./command-line-subcommands bar <span class="token parameter variable">-level</span> <span class="token number">8</span> a1
</code></pre></div><div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>subcommand 'bar'
  level: 8
  tail: [a1]
</code></pre></div><h2>åº•å±‚ç»“æ„</h2>
<p>Flagä»£è¡¨ä¸€ä¸ªæ ‡å¿—ï¼Œä¾‹å¦‚:<code>--version</code></p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token comment">// A Flag represents the state of a flag.</span>
<span class="token keyword">type</span> Flag <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	Name     <span class="token builtin">string</span> <span class="token comment">// name as it appears on command line</span>
	Usage    <span class="token builtin">string</span> <span class="token comment">// help message</span>
	Value    Value  <span class="token comment">// value as set</span>
	DefValue <span class="token builtin">string</span> <span class="token comment">// default value (as text); for usage message</span>
<span class="token punctuation">}</span>
</code></pre></div><p>FlagSet ä»£è¡¨æ ‡å¿—çš„é›†åˆï¼Œä¾‹å¦‚ï¼š<code>--name</code>ã€<code>--age</code>...</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">type</span> FlagSet <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	<span class="token comment">// Usage is the function called when an error occurs while parsing flags.</span>
	<span class="token comment">// The field is a function (not a method) that may be changed to point to</span>
	<span class="token comment">// a custom error handler. What happens after Usage is called depends</span>
	<span class="token comment">// on the ErrorHandling setting; for the command line, this defaults</span>
	<span class="token comment">// to ExitOnError, which exits the program after calling Usage.</span>
	Usage <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

	name          <span class="token builtin">string</span>
	parsed        <span class="token builtin">bool</span>
	actual        <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">*</span>Flag
	formal        <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">*</span>Flag
	args          <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token comment">// arguments after flags</span>
	errorHandling ErrorHandling
	output        io<span class="token punctuation">.</span>Writer <span class="token comment">// nil means stderr; use Output() accessor</span>
<span class="token punctuation">}</span>
</code></pre></div><p>FlagSetåŒ…å«ä¸€ç³»åˆ—æ–¹æ³•ï¼š</p>
<ul>
<li>BoolVar(p *bool,name string,value bool,usage string)</li>
<li>Bool(name string,value bool,usage string) *bool</li>
<li>IntVar(p *int,name string,value int,usage string)</li>
<li>Int(name string,value int,usage string) *int</li>
<li>Int64Var(p *int64,name string,value int64,usage string)</li>
<li>Int64(name string,value int64,usage string) *int64</li>
<li>UIntVar(p *uint,name string,value uint,usage string)</li>
<li>UInt(name string,value uint,usage string) *Uint</li>
<li>UInt64Var(p *uint64,name string,value uint64,usage string)</li>
<li>UInt64(name string,value uint64,usage string) *Uint64</li>
<li>StringVar(p *string,name string,value string,usage string)</li>
<li>String(name string,value string,usage string) *string</li>
<li>Float64Var(p *float64,name string,value float64,usage string)</li>
<li>Float64(name string,value float64,usage string) *float64</li>
<li>DurationVar(p *time.Duration,name string,value time.Duration,usage string)</li>
<li>Duration(name string,value time.Duration,usage string) *time.Duration</li>
<li>TextVar(p encoding.TextUnmarshaler,name string,value encoding.TextMarshaler,usage string)</li>
<li>Var(value Value, name string, usage string)</li>
</ul>
<p>è€Œæˆ‘ä»¬å¸¸å¸¸ä½¿ç”¨çš„æ˜¯flagåº“ä¸­çš„ä»¥ä¸‹æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š<code>flag.StringVar()</code></p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">StringVar</span><span class="token punctuation">(</span>p <span class="token operator">*</span><span class="token builtin">string</span><span class="token punctuation">,</span> name <span class="token builtin">string</span><span class="token punctuation">,</span> value <span class="token builtin">string</span><span class="token punctuation">,</span> usage <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	CommandLine<span class="token punctuation">.</span><span class="token function">Var</span><span class="token punctuation">(</span><span class="token function">newStringValue</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> usage<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å…¶æœ¬è´¨ä¸Šæ˜¯è°ƒç”¨<code>CommandLine.Var</code>æ–¹æ³•ï¼Œè€ŒCommandLineæ˜¯FlagSetçš„ä¸€ä¸ªå®ä¾‹ï¼š</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">var</span> CommandLine <span class="token operator">=</span> <span class="token function">NewFlagSet</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>Args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ExitOnError<span class="token punctuation">)</span>
</code></pre></div><ul>
<li><code>os.Args[0]</code>ï¼šæ˜¯ç¨‹åºè¿è¡Œæ—¶çš„åç§°ã€‚</li>
<li><code>ExitOnError</code>ï¼šæ˜¯è§£æå‚æ•°æ—¶é‡åˆ°é”™è¯¯æ—¶é€€å‡º</li>
</ul>
<p><code>flag.Parse</code>å…¶æœ¬è´¨ä¸Šä¹Ÿæ˜¯è°ƒç”¨CommandLineçš„è§£æï¼Œå¦‚ä¸‹ï¼š</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">Parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// Ignore errors; CommandLine is set for ExitOnError.</span>
	CommandLine<span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>Args<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å®ƒå°†<code>os.Args[1:]</code>ï¼Œå³é™¤äº†ç¨‹åºåç§°å¤–ï¼Œå…¶ä½™çš„å‚æ•°ä¼ ç»™CommandLineè¿›è¡Œè§£æã€‚</p>
<p>æœ€ä¸ºæ ¸å¿ƒçš„ä»£ç è«è¿‡äºå‚æ•°çš„è§£æï¼Œå¦‚ä¸‹ï¼š</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>f <span class="token operator">*</span>FlagSet<span class="token punctuation">)</span> <span class="token function">Parse</span><span class="token punctuation">(</span>arguments <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
	f<span class="token punctuation">.</span>parsed <span class="token operator">=</span> <span class="token boolean">true</span>
	f<span class="token punctuation">.</span>args <span class="token operator">=</span> arguments
	<span class="token keyword">for</span> <span class="token punctuation">{</span>
		seen<span class="token punctuation">,</span> err <span class="token operator">:=</span> f<span class="token punctuation">.</span><span class="token function">parseOne</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token keyword">if</span> seen <span class="token punctuation">{</span>
			<span class="token keyword">continue</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> err <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
			<span class="token keyword">break</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">switch</span> f<span class="token punctuation">.</span>errorHandling <span class="token punctuation">{</span>
		<span class="token keyword">case</span> ContinueOnError<span class="token punctuation">:</span>
			<span class="token keyword">return</span> err
		<span class="token keyword">case</span> ExitOnError<span class="token punctuation">:</span>
			<span class="token keyword">if</span> err <span class="token operator">==</span> ErrHelp <span class="token punctuation">{</span>
				os<span class="token punctuation">.</span><span class="token function">Exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
			os<span class="token punctuation">.</span><span class="token function">Exit</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
		<span class="token keyword">case</span> PanicOnError<span class="token punctuation">:</span>
			<span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¿™é‡Œå¾ªç¯è§£ææ¯ä¸€ä¸ªFlagï¼Œå³ï¼š<code>f.parseOne()</code>ã€‚</p>
<p>æœ€åæ€»ç»“å…¶ä¸­çš„å…³ç³»å›¾:</p>
<figure><figcaption>flag</figcaption></figure>
]]></content>
    <category term="ç¼–ç¨‹è¯­è¨€"/>
    <published>2023-09-05T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">recoveræ³¨æ„äº‹é¡¹</title>
    <id>http://blog.cjhe.top/language/go/base/recover.html</id>
    <link href="http://blog.cjhe.top/language/go/base/recover.html"/>
    <updated>2024-10-16T07:00:58.000Z</updated>
    <summary type="html"><![CDATA[<blockquote>
<p>deferç»“åˆrecoveré€šå¸¸ç”¨äºæ•è·panic</p>
</blockquote>
]]></summary>
    <content type="html"><![CDATA[<blockquote>
<p>deferç»“åˆrecoveré€šå¸¸ç”¨äºæ•è·panic</p>
</blockquote>
<!-- more -->
<h2>æ­£ç¡®ä½¿ç”¨ç¤ºä¾‹</h2>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">PrintRecover</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> err <span class="token operator">:=</span> <span class="token function">recover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
			fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span>
	<span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">"some thing"</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä½¿ç”¨ç¤ºä¾‹</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">ExamplePrintRecover</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">PrintRecover</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token comment">// Output:</span>
	<span class="token comment">// a</span>
	<span class="token comment">// some thing</span>
<span class="token punctuation">}</span>
</code></pre></div><h2>é”™è¯¯ç”¨ä¾‹ï¼šä¸ä½¿ç”¨defer</h2>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">FailRecoverWithoutDefer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> err <span class="token operator">:=</span> <span class="token function">recover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span>
	<span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">"some thing"</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="hint-container caution">
<p class="hint-container-title">è­¦å‘Š</p>
<p>ä¸ä½¿ç”¨defer æ–¹å¼ï¼Œå°†æ— æ³•æ•è·å¼‚å¸¸ï¼Œç¨‹åºé™·å…¥panic</p>
</div>
<h2>é”™è¯¯ç”¨ä¾‹ï¼šrecover åœ¨ defer åµŒå¥—å‡½æ•°ä¸­</h2>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">FailRecoverWithoutLevelDefer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//recover åœ¨ defer åµŒå¥—å‡½æ•°ä¸­</span>
			<span class="token keyword">if</span> err <span class="token operator">:=</span> <span class="token function">recover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
				fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span>
	<span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">"some thing"</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="hint-container caution">
<p class="hint-container-title">è­¦å‘Š</p>
<p>defer recoverå’Œpanicä¸åœ¨åŒä¸€å±‚çº§ï¼Œå¯¼è‡´æ— æ³•æ•è·å¼‚å¸¸ï¼Œç¨‹åºé™·å…¥panic</p>
</div>
<h2>defer recover å†æ¬¡panic</h2>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"xx"</span><span class="token punctuation">,</span> <span class="token function">recover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"yy"</span><span class="token punctuation">,</span> <span class="token function">recover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token function">panic</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">defer</span> <span class="token function">recover</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token function">panic</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><details class="hint-container details"><summary>æ‰§è¡Œç»“æœ</summary>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>yy 1
xx 2
</code></pre></div></details>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"xx"</span><span class="token punctuation">,</span> <span class="token function">recover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">defer</span> fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"yy"</span><span class="token punctuation">,</span> <span class="token function">recover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token function">panic</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">defer</span> <span class="token function">recover</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token function">panic</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><details class="hint-container details"><summary>æ‰§è¡Œç»“æœ</summary>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>yy 2
xx 1
</code></pre></div></details>
]]></content>
    <category term="ç¼–ç¨‹è¯­è¨€"/>
    <published>2023-08-27T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">package</title>
    <id>http://blog.cjhe.top/language/go/base/package.html</id>
    <link href="http://blog.cjhe.top/language/go/base/package.html"/>
    <updated>2024-10-10T12:23:49.000Z</updated>
    <summary type="text">package

Goè¯­è¨€ä½¿ç”¨åŒ…ï¼ˆpackageï¼‰ä½œä¸ºåŸºæœ¬å•å…ƒæ¥ç»„ç»‡æºç ã€‚

packageçš„ä¼˜ç‚¹

ç¼–è¯‘é€Ÿåº¦å¿«


Goè¦æ±‚æ¯ä¸ªæºæ–‡ä»¶åœ¨å¼€å¤´æ˜¾ç¤ºåœ°åˆ—å‡ºæ‰€æœ‰ä¾èµ–çš„åŒ…ï¼Œå¦‚æœå¼•å…¥äº†æœªä½¿ç”¨çš„åŒ…ï¼ŒGoè¯­è¨€ç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚
Goè¦æ±‚åŒ…ä¹‹é—´ä¸èƒ½å­˜åœ¨å¾ªç¯ä¾èµ–ï¼Œè¿™æ ·åŒ…çš„ä¾èµ–å…³ç³»ä¾¿å½¢æˆäº†ä¸€å¼ æœ‰å‘æ— ç¯å›¾ï¼Œè¿™æ ·æ¯ä¸ªåŒ…å¯ä»¥å•ç‹¬ç¼–è¯‘ä¹Ÿå¯å¹¶è¡Œç¼–è¯‘
å·²ç¼–è¯‘çš„GoåŒ…ä¸ä»…è®°å½•äº†è¯¥åŒ…çš„ä¿¡æ¯...</summary>
    <content type="html"><![CDATA[<!-- more -->
<h1>package</h1>
<blockquote>
<p>Goè¯­è¨€ä½¿ç”¨åŒ…ï¼ˆpackageï¼‰ä½œä¸ºåŸºæœ¬å•å…ƒæ¥ç»„ç»‡æºç ã€‚</p>
</blockquote>
<h2>packageçš„ä¼˜ç‚¹</h2>
<blockquote>
<p>ç¼–è¯‘é€Ÿåº¦å¿«</p>
</blockquote>
<ul>
<li>Goè¦æ±‚æ¯ä¸ªæºæ–‡ä»¶åœ¨å¼€å¤´æ˜¾ç¤ºåœ°åˆ—å‡ºæ‰€æœ‰ä¾èµ–çš„åŒ…ï¼Œå¦‚æœå¼•å…¥äº†æœªä½¿ç”¨çš„åŒ…ï¼ŒGoè¯­è¨€ç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚</li>
<li>Goè¦æ±‚åŒ…ä¹‹é—´ä¸èƒ½å­˜åœ¨å¾ªç¯ä¾èµ–ï¼Œè¿™æ ·åŒ…çš„ä¾èµ–å…³ç³»ä¾¿å½¢æˆäº†ä¸€å¼ æœ‰å‘æ— ç¯å›¾ï¼Œè¿™æ ·æ¯ä¸ªåŒ…å¯ä»¥å•ç‹¬ç¼–è¯‘ä¹Ÿå¯å¹¶è¡Œç¼–è¯‘</li>
<li>å·²ç¼–è¯‘çš„GoåŒ…ä¸ä»…è®°å½•äº†è¯¥åŒ…çš„ä¿¡æ¯ï¼Œè¿˜è®°å½•äº†ä¾èµ–åŒ…çš„ä¿¡æ¯ã€‚åªéœ€è¯»å–ç¼“å­˜çš„ç¼–è¯‘äº§ç‰©å³å¯ã€‚</li>
</ul>
<h2>æ³¨æ„äº‹é¡¹</h2>
<ul>
<li>Goè¯­è¨€å®˜ç½‘å·¥å…·é“¾å¯¹äºå¼•å…¥è·¯å¾„åŒ…å«<code>internal</code>ç›®å½•åçš„ä»£ç åŒ…è¢«è§†ä¸ºä¸€ä¸ªç‰¹æ®Šçš„ä»£ç åŒ…ï¼Œå®ƒåªèƒ½è¢«æ­¤ç›®å½•çš„ç›´æ¥çˆ¶ç›®å½•çš„ä»£ç åŒ…å¼•ç”¨ï¼Œè€Œä¸èƒ½è¢«å…¶ä»–ä»£ç åŒ…å¼•ç”¨ã€‚</li>
<li>Goä¸æ”¯æŒå¾ªç¯å¼•ç”¨ï¼Œä¾‹å¦‚ï¼šAåŒ…å¼•å…¥BåŒ…ï¼ŒBåŒ…å¼•å…¥AåŒ…ï¼Œè¿™ç§å°†ä¸è¢«å…è®¸ã€‚</li>
<li><code>main</code>åŒ…æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„åŒ…ï¼Œå®ƒæ˜¯ç¨‹åºå…¥å£å‡½æ•°ï¼Œä¸èƒ½è¢«å¼•ç”¨ã€‚</li>
</ul>
<h2>åˆå§‹åŒ–é¡ºåº</h2>
<p>Goè¯­è¨€å†…ç½®å‡½æ•°<code>init()</code>ï¼Œå¸¸ç”¨äºåŒ…çº§æ•°æ®åˆå§‹åŒ–ä»¥åŠåˆå§‹çŠ¶æ€çš„æ£€æŸ¥å·¥ä½œã€‚</p>
<ul>
<li>ä¸€ä¸ªGoåŒ…å¯ä»¥æœ‰å¤šä¸ª<code>init()</code>å‡½æ•°ï¼›</li>
<li><code>init()</code>å‡½æ•°ä¸å¯æ˜¾ç¤ºçš„è°ƒç”¨ï¼Œå¦åˆ™ä¼šç¼–è¯‘æœŸé—´æŠ¥é”™ï¼›</li>
<li><code>init()</code>åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼›</li>
</ul>
<p>GoåŒ…å¼•å…¥å…¶ä»–åŒ…ï¼Œåˆå§‹åŒ–æ—¶æŒ‰ç…§ä¸€å®šçš„æ¬¡åºé€ä¸€è°ƒç”¨è¯¥åŒ…çš„initå‡½æ•°ã€‚</p>
<figure><figcaption>package-init</figcaption></figure>
<p>Goè¯­è¨€è¿è¡Œæ—¶æŒ‰ç…§<code>å¸¸é‡</code>-&gt;<code>å˜é‡</code>-&gt;<code>init()</code>é¡ºåºè¿›è¡Œåˆå§‹åŒ–ã€‚</p>
]]></content>
    <category term="ç¼–ç¨‹è¯­è¨€"/>
    <published>2023-08-27T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">MQTTåè®®</title>
    <id>http://blog.cjhe.top/network/application-layer/MQTT.html</id>
    <link href="http://blog.cjhe.top/network/application-layer/MQTT.html"/>
    <updated>2024-05-05T15:52:14.000Z</updated>
    <summary type="text">MQTT(Mesage Queuing Telemetry Transportï¼Œæ¶ˆæ¯é˜Ÿåˆ—é¥æµ‹ä¼ è¾“åè®®)ï¼Œæ˜¯ä¸€ç§åŸºäºå‘å¸ƒ/è®¢é˜…æ¨¡å¼çš„è½»é‡çº§é€šè®¯åè®®ï¼Œè¯¥åè®®æ„å»ºäºTCP/IPåè®®ä¸Šã€‚

å‘å±•å†å²

1999å¹´ç”±IBMå‘æ˜ï¼Œèµ·åˆç”¨äºåŸæ²¹ç®¡é“æ•°æ®é‡‡é›†ç›‘æ§ç³»ç»Ÿï¼Œè§£å†³å«æ˜Ÿä¸åŸæ²¹ç®¡é“æ£€æµ‹æ•°æ®çš„ä¼ è¾“é—®é¢˜ã€‚
2010 å‘å¸ƒMQTT 3.1ã€‚
2014å¹´åœ¨ OASIS æ ‡...</summary>
    <content type="html"><![CDATA[<!-- more -->
<blockquote>
<p>MQTT(Mesage Queuing Telemetry Transportï¼Œæ¶ˆæ¯é˜Ÿåˆ—é¥æµ‹ä¼ è¾“åè®®)ï¼Œæ˜¯ä¸€ç§åŸºäºå‘å¸ƒ/è®¢é˜…æ¨¡å¼çš„è½»é‡çº§é€šè®¯åè®®ï¼Œè¯¥åè®®æ„å»ºäºTCP/IPåè®®ä¸Šã€‚</p>
</blockquote>
<h2>å‘å±•å†å²</h2>
<ul>
<li>1999å¹´ç”±IBMå‘æ˜ï¼Œèµ·åˆç”¨äºåŸæ²¹ç®¡é“æ•°æ®é‡‡é›†ç›‘æ§ç³»ç»Ÿï¼Œè§£å†³å«æ˜Ÿä¸åŸæ²¹ç®¡é“æ£€æµ‹æ•°æ®çš„ä¼ è¾“é—®é¢˜ã€‚</li>
<li>2010 å‘å¸ƒMQTT 3.1ã€‚</li>
<li>2014å¹´åœ¨ <strong>OASIS</strong> æ ‡å‡†åŒ–ç»„ç»‡çš„æ¨åŠ¨ä¸‹äºå…¬å¸ƒäº† <a href="https://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.html" target="_blank" rel="noopener noreferrer"><code>V3.1.1</code></a> ç‰ˆæœ¬è§„èŒƒã€‚</li>
<li>2019å¹´3æœˆå‘å¸ƒäº†æœ€æ–°çš„ <a href="https://docs.oasis-open.org/mqtt/mqtt/v5.0/cs02/mqtt-v5.0-cs02.html" target="_blank" rel="noopener noreferrer"><code>V5.0</code></a> ç‰ˆæœ¬è§„èŒƒã€‚</li>
</ul>
<h2>ä¼˜ç‚¹</h2>
<ul>
<li>æ”¯æŒQoSï¼ˆè®¾å¤‡ç½‘ç»œç¯å¢ƒå¤æ‚ï¼‰</li>
<li>è½»é‡ä¸”çœå¸¦å®½ï¼ˆMQTTæŠ¥æ–‡ç´§å‡‘ï¼Œå¯åœ¨ä¸¥é‡å—é™çš„ç¡¬ä»¶è®¾å¤‡å’Œä½å¸¦å®½ã€é«˜å»¶è¿Ÿçš„ç½‘ç»œä¸Šå®ç°ç¨³å®šä¼ è¾“ï¼‰</li>
<li>å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œå°†å‘å¸ƒè€…ä¸è®¢é˜…è€…è§£è€¦</li>
<li>æŒç»­ä¼šè¯æ„ŸçŸ¥èƒ½åŠ›ï¼ˆæ—¶åˆ»çŸ¥é“è®¾å¤‡æ˜¯å¦åœ¨çº¿ï¼‰</li>
</ul>
<h2>é€šä¿¡æ¨¡å¼</h2>
<blockquote>
<p>å‘å¸ƒ/è®¢é˜…æ¨¡å¼(Publish/Subscribe)å°†å‘é€æ¶ˆæ¯çš„å‘å¸ƒè€…(Publisher)ä¸æ¥æ”¶æ¶ˆæ¯çš„è®¢é˜…è€…(Subscriber)åˆ†ç¦»ï¼Œä¹‹é—´çš„è¿æ¥å…³ç³»ç”±ä»£ç†è€…(Broker)è¿›è¡Œå¤„ç†ã€‚ä¸¤è€…ä¸ç›´æ¥è¿›è¡Œé€šä¿¡ï¼Œç”šè‡³å½¼æ­¤ä¹‹å‰éƒ½ä¸çŸ¥é“å¯¹æ–¹çš„å­˜åœ¨ã€‚</p>
</blockquote>
<figure><figcaption>MQTTé€šä¿¡æ¨¡å¼</figcaption></figure>
<h3>ç‰¹ç‚¹</h3>
<blockquote>
<p>å‘å¸ƒ/è®¢é˜…æ¨¡å¼çš„é‡è¦ç‰¹æ€§å°±æ˜¯å°†æ¶ˆæ¯çš„å‘å¸ƒè€…ä¸è®¢é˜…è€…è§£è€¦ï¼Œè¿™ç§è§£è€¦ä½“ç°åœ¨ä»¥ä¸‹ä¸‰ä¸ªæ–¹é¢ï¼š</p>
<ul>
<li>ç©ºé—´è§£è€¦ï¼šå‘å¸ƒè€…å’Œè®¢é˜…è€…ä¸éœ€è¦ç›¸äº’äº†è§£ï¼ˆä¾‹å¦‚æ— é¡»äº¤æ¢IPåœ°å€ä¸ç«¯å£ï¼‰ï¼›</li>
<li>æ—¶é—´è§£è€¦ï¼šå‘å¸ƒè€…ä¸è®¢é˜…è€…çš„æ“ä½œä¸éœ€è¦åŒæ—¶è¿è¡Œï¼ˆå¯ä¸‹çº¿ï¼‰ï¼›</li>
<li>åŒæ­¥è§£è€¦ï¼šåœ¨å‘å¸ƒæˆ–è€…è®¢é˜…æ¶ˆæ¯çš„è¿‡ç¨‹å½“ä¸­ï¼Œå‘å¸ƒè€…å’Œè®¢é˜…è€…å¯ä»¥å¼‚æ­¥è¿›è¡Œå·¥ä½œï¼ˆC/Sæ¨¡å¼éœ€è¦å®¢æˆ·ç«¯æˆ–æœåŠ¡ç«¯ç­‰å¾…ï¼‰ï¼›</li>
</ul>
</blockquote>
<p>Brokeré€šè¿‡æŸç§<strong>è¿‡æ»¤è§„åˆ™</strong>å°†Publisherçš„æ¶ˆæ¯å‘é€ç»™Subscriberï¼Œè¯¥<strong>è¿‡æ»¤è§„åˆ™</strong>å°±æ˜¯<strong>Topic</strong></p>
<h2>æ ¸å¿ƒæ¦‚å¿µ</h2>
<h3>ä¸»é¢˜ Topic</h3>
<blockquote>
<p>MQTT åè®®çš„<strong>ä¸»é¢˜</strong>ï¼ˆTopicï¼‰æ˜¯æŒ‡<strong>ä»£ç†è€…</strong>ç”¨äºä¸º<strong>å®¢æˆ·ç«¯</strong>è¿‡æ»¤ä¸è·¯ç”±æ¶ˆæ¯çš„ <strong>UTF-8 ç¼–ç å­—ç¬¦ä¸²</strong></p>
<p>ä¸€ä¸ª<strong>ä¸»é¢˜</strong>æ˜¯ç”±ä¸€ä¸ªæˆ–è€…å¤šä¸ª<strong>ä¸»é¢˜çº§åˆ«</strong>ï¼ˆTopic Levelï¼‰æ„æˆï¼Œæ¯ä¸ªä¸»é¢˜çº§åˆ«ç”±æ­£æ–œçº¿ <code>/</code> è¿›è¡Œåˆ†éš”ã€‚</p>
<p>ä¾‹å¦‚ï¼š&lt;çˆ¶çº§Topicåç§°&gt;/&lt;äºŒçº§Topicåç§°&gt;/&lt;ä¸‰çº§Topicåç§°&gt;</p>
<p>æ¯ä¸ª<strong>ä¸»é¢˜</strong>å¿…é¡»è‡³å°‘åŒ…å« 1 ä¸ªå­—ç¬¦ï¼ˆä¸€ä¸ªå•ç‹¬çš„æ–œæ† <code>/</code> ä¹Ÿæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ä¸»é¢˜ï¼‰ï¼Œå¹¶ä¸”ä¸»é¢˜å­—ç¬¦ä¸²å…è®¸å­˜åœ¨<strong>ç©ºæ ¼</strong>ã€‚</p>
<p>ä¸»é¢˜<strong>åŒºåˆ†å¤§å°å†™</strong>ï¼Œ<code>home/temperature</code> ä¸ <code>Home/Temperature</code> æ˜¯ 2 ä¸ªä¸åŒçš„<strong>ä¸»é¢˜</strong>ã€‚</p>
<p>ä¸»é¢˜ä¸éœ€è¦æå‰åˆ›å»ºï¼Œå‘å¸ƒè€…å‘é€æ¶ˆæ¯åˆ°æŸä¸ªä¸»é¢˜æˆ–è®¢é˜…è€…è®¢é˜…æŸä¸ªä¸»é¢˜æ—¶ï¼ŒBrokerå°±ä¼šè‡ªåŠ¨åˆ›å»º</p>
</blockquote>
<h4>é€šé…ç¬¦</h4>
<ul>
<li>
<p>å•çº§é€šé…ç¬¦ï¼š<code>+</code></p>
<blockquote>
<p>åªèƒ½åŒ¹é…ä¸€ä¸ªä¸»é¢˜çº§åˆ«</p>
</blockquote>
</li>
</ul>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>  ä¾‹å¦‚ï¼šè®¢é˜…myhome/groundfloor/+/temperature
  myhome/groundfloor/livingroom/temperature		//åŒ¹é…
  myhome/groundfloor/kitchen/temperature			//åŒ¹é…
  myhome/groundfloor/kitchen/brightness			//ä¸åŒ¹é…
  myhome/firstfloor/kitchen/temperature			//ä¸åŒ¹é…
  myhome/groundfloor/kitchen/fridge/temperature	//ä¸åŒ¹é…
</code></pre></div><ul>
<li>
<p>å¤šçº§é€šé…ç¬¦ï¼š<code>#</code></p>
<blockquote>
<p>å¯ä»¥åŒ¹é…å¤šä¸ªä¸»é¢˜çº§åˆ«</p>
</blockquote>
</li>
</ul>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>  ä¾‹å¦‚ï¼šè®¢é˜…myhome/groundfloor/#
  myhome/groundfloor/livingroom/temperature		//åŒ¹é…
  myhome/groundfloor/kitchen/temperature			//åŒ¹é…
  myhome/groundfloor/kitchen/brightness			//åŒ¹é…
  myhome/firstfloor/kitchen/temperature			//ä¸åŒ¹é…
</code></pre></div><ul>
<li>
<p>ç³»ç»Ÿä¿ç•™ä¸»é¢˜ï¼š<code>$</code></p>
<blockquote>
<p>MQTTç³»ç»Ÿå†…éƒ¨ä¿ç•™ï¼Œç”¨äºä»£ç†è€…å†…éƒ¨ç»Ÿè®¡ä¿¡æ¯</p>
</blockquote>
</li>
</ul>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>  $SYS/broker/clients/disconnected
  $SYS/broker/clients/connected
  $SYS/broker/messages/sent
  $SYS/broker/clients/total
  $SYS/broker/uptime
</code></pre></div><h4>ç”¨ä¾‹</h4>
<p>æ¯”å¦‚æˆ‘ä»¬ç”¨ä¼ æ„Ÿå™¨ç›‘è§†å®¶é‡Œçš„å§å®¤ã€å®¢å…ä»¥åŠå¨æˆ¿çš„æ¸©åº¦ã€æ¹¿åº¦å’Œç©ºæ°”è´¨é‡ï¼Œå¯ä»¥è®¾è®¡ä¸€ä¸‹å‡ ä¸ªä¸»é¢˜ï¼š</p>
<ul>
<li><code>myhome/bedroom/temperature</code></li>
<li><code>myhome/bedroom/humidity</code></li>
<li><code>myhome/bedroom/airquality</code></li>
<li><code>myhome/livingroom/temperature</code></li>
<li><code>myhome/livingroom/humidity</code></li>
<li><code>myhome/livingroom/airquality</code></li>
<li><code>myhome/kitchen/temperature</code></li>
<li><code>myhome/kitchen/humidity</code></li>
<li><code>myhome/kitchen/airquality</code></li>
</ul>
<p>å½“æˆ‘ä»¬æƒ³è·å–å§å®¤çš„æ‰€æœ‰æ•°æ®æ—¶ï¼Œå¯ä»¥è®¢é˜… <code>myhome/bedroom/+</code> ä¸»é¢˜ï¼Œå½“æˆ‘ä»¬æƒ³è·å–ä¸‰ä¸ªæˆ¿é—´çš„æ¸©åº¦æ•°æ®çš„æ—¶å€™ï¼Œå¯ä»¥è®¢é˜… <code>myhome/+/temperature</code> ä¸»é¢˜ï¼Œå½“æˆ‘ä»¬æƒ³è·å–æ‰€æœ‰çš„æ•°æ®çš„æ—¶å€™ï¼Œå¯ä»¥è®¢é˜… <code>myhome/#</code> æˆ–è€… <code>#</code>ã€‚</p>
<h4>æœ€ä½³å®è·µ</h4>
<ul>
<li>åˆ‡å‹¿åœ¨ä¸»é¢˜å¼€å¤´ä½¿ç”¨æ­£æ–œæ  <code>/</code>ï¼Œé¿å…å¼•å…¥ä¸€ä¸ª<strong>é›¶å­—ç¬¦</strong>ä½œä¸ºä¸å¿…è¦çš„ä¸»é¢˜çº§åˆ«ï¼›</li>
<li>æ°¸è¿œä¸è¦åœ¨ä¸»é¢˜ä¸­ä½¿ç”¨ç©ºæ ¼ï¼ˆåŒ…æ‹¬ UTF-8 å½“ä¸­ä¸åŒç±»å‹çš„ç©ºç™½ï¼‰ï¼Œä»è€Œé¿å…ä¸ºé˜…è¯»å’Œè°ƒè¯•å¸¦æ¥ä¸å¿…è¦çš„å›°æ‰°ï¼›</li>
<li>å°½é‡ä¿æŒä¸»é¢˜ç®€çŸ­ï¼Œå¯¹äºèµ„æºæœ‰é™çš„ç‰©è”ç½‘è®¾å¤‡ï¼Œæ¯ä¸ªå­—èŠ‚å ç”¨çš„å­˜å‚¨ç©ºé—´éƒ½éå¸¸é‡è¦ï¼›</li>
<li>ä»…ä½¿ç”¨ ASCII å­—ç¬¦ï¼Œé¿å…ä½¿ç”¨ä¸€äº›ä¸å¯æ‰“å°çš„å­—ç¬¦ï¼›</li>
<li>å°†å”¯ä¸€æ ‡è¯†ç¬¦æˆ–è€…<strong>å®¢æˆ·ç«¯</strong> ID åµŒå…¥ä¸»é¢˜ï¼Œä»è€Œæ–¹ä¾¿çš„è¯†åˆ«æ¶ˆæ¯çš„å‘é€è€…ï¼›</li>
<li>ä¸è¦è½»æ˜“ç›´æ¥è®¢é˜… <code>#</code>ï¼Œå³ä¸è¦ç›´æ¥ä½¿ç”¨<strong>å¤šçº§é€šé…ç¬¦</strong>è®¢é˜…<strong>ä»£ç†è€…</strong>ä¸Šå‘å¸ƒçš„å…¨éƒ¨æ¶ˆæ¯ï¼Œé¿å…ç»™<strong>è®¢é˜…è€…</strong>å¸¦æ¥è¿‡å¤§çš„æ•°æ®ååé‡ï¼›</li>
<li>ä¼˜åŒ–ä¸»é¢˜å±‚æ¬¡ç»“æ„ï¼Œä¿æŒä¸»é¢˜å‘½åçš„é•¿æœŸæ‰©å±•æ€§ï¼›</li>
</ul>
<h3>æœåŠ¡è´¨é‡ QoS</h3>
<ul>
<li>QoS-0(è‡³å¤šä¸€æ¬¡)ï¼šæ¥æ”¶æ–¹ä¸ä¼šç¡®è®¤æ”¶åˆ°æ¶ˆæ¯ï¼Œå‘é€å‘ä¹Ÿä¸ä¼šå­˜å‚¨å’Œé‡æ–°ä¼ è¾“æ¶ˆæ¯ï¼Œæ¶ˆæ¯å‘å¸ƒå®Œå…¨ä¾èµ–åº•å±‚TCP/IPç½‘ç»œï¼Œæ¶ˆæ¯å¯èƒ½ä¼šä¸¢å¤±ã€‚</li>
<li>QoS-1(è‡³å°‘ä¸€æ¬¡)ï¼šå‘é€æ–¹ä¼šå­˜å‚¨æ¶ˆæ¯ç›´è‡³æ¥æ”¶æ–¹è·å¾—ç¡®è®¤æ¶ˆæ¯çš„PUBACKæ•°æ®åŒ…ä¸ºæ­¢ï¼Œç¡®ä¿æ¶ˆæ¯åˆ°è¾¾ï¼Œä½†å¯èƒ½ä¼šå‡ºç°é‡å¤ï¼›</li>
<li>QoS-2(åªæœ‰ä¸€æ¬¡)ï¼šç¡®ä¿æ¶ˆæ¯åˆ°è¾¾ä¸”æ²¡æœ‰é‡å¤ã€‚</li>
</ul>
<figure><figcaption>MQTT-QoS</figcaption></figure>
<p>http://www.steves-internet-guide.com/mqtt-publish-subscribe/</p>
<ul>
<li>å½“å®¢æˆ·ç«¯ A çš„å‘å¸ƒ QoS å¤§äºå®¢æˆ·ç«¯ B çš„è®¢é˜… QoS æ—¶ï¼ŒæœåŠ¡ç«¯å‘å®¢æˆ·ç«¯ B è½¬å‘æ¶ˆæ¯æ—¶ä½¿ç”¨çš„ QoS ä¸ºå®¢æˆ·ç«¯ B çš„è®¢é˜… QoSã€‚</li>
<li>å½“å®¢æˆ·ç«¯ A çš„å‘å¸ƒ QoS å°äºå®¢æˆ·ç«¯ B çš„è®¢é˜… QoS æ—¶ï¼ŒæœåŠ¡ç«¯å‘å®¢æˆ·ç«¯ B è½¬å‘æ¶ˆæ¯æ—¶ä½¿ç”¨çš„ QoS ä¸ºå®¢æˆ·ç«¯ A çš„å‘å¸ƒ QoS</li>
</ul>
<h3>æ¶ˆæ¯ç±»å‹</h3>
<ul>
<li>CONNECT/CONNACK è¿æ¥ç›¸å…³</li>
<li>PUBLISH/PUBACK å‘å¸ƒç›¸å…³</li>
<li>SUBSCRIBE/SUBACK è®¢é˜…ç›¸å…³</li>
<li>UNSUBSCRIBE/UNSUBACK å–æ¶ˆè®¢é˜…ç›¸å…³</li>
<li>PINGREQ/PINGRESP å¿ƒè·³ç›¸å…³</li>
<li>DISCONNECT å…³é—­è¿æ¥</li>
</ul>
<h4>CONNECT</h4>
<figure><img src="http://www.uinio.com/Embedded/MQTT/4.png" alt="MQTT-CONNECT" tabindex="0" loading="lazy"><figcaption>MQTT-CONNECT</figcaption></figure>
<ul>
<li><strong>å®¢æˆ·ç«¯æ ‡è¯†ç¬¦</strong> <code>clientId</code>ï¼šç”¨äºæ ‡è¯†è¿æ¥åˆ°<strong>ä»£ç†è€…</strong>çš„æ¯ä¸ª<strong>å®¢æˆ·ç«¯</strong>ï¼Œè¯¥æ ‡è¯†ç¬¦çš„å–å€¼å¯¹äº<strong>ä»£ç†è€…</strong>ä¸<strong>å®¢æˆ·ç«¯</strong>è€Œè¨€å¿…é¡»å”¯ä¸€ï¼›</li>
<li><strong>æ¸…ç†ä¼šè¯</strong> <code>cleanSession</code>ï¼šç”¨äºå‘ŠçŸ¥<strong>ä»£ç†è€…</strong>ï¼Œå½“å‰<strong>å®¢æˆ·ç«¯</strong>æ˜¯å¦éœ€è¦å»ºç«‹æŒä¹…ä¼šè¯ï¼›
<ul>
<li>å½“ <code>CleanSession = false</code> æ—¶ï¼Œ<strong>ä»£ç†è€…</strong>å°†å­˜å‚¨<strong>å®¢æˆ·ç«¯</strong>çš„æ‰€æœ‰è®¢é˜…ï¼Œä»¥åŠå®¢æˆ·ç«¯ä»¥<strong>æœåŠ¡è´¨é‡</strong>ï¼ˆQoSï¼‰çº§åˆ« <code>1</code> æˆ–è€… <code>2</code> æ‰€è®¢é˜…çš„å…¨éƒ¨é—æ¼æ¶ˆæ¯ï¼›</li>
<li>å½“ <code>CleanSession = true</code> æ—¶ï¼Œ<strong>ä»£ç†è€…</strong>ä¸ä½†ä¸ä¼šä¸º<strong>å®¢æˆ·ç«¯</strong>ä¿å­˜ä»»ä½•æ¶ˆæ¯ï¼Œè¿˜ä¼šæ¸…é™¤æ‰æ¥è‡ªäºä¹‹å‰æŒä¹…ä¼šè¯çš„æ‰€æœ‰æ¶ˆæ¯ï¼›</li>
</ul>
</li>
<li><strong>ç”¨æˆ·å/å¯†ç </strong> <code>username</code>/<code>password</code>ï¼šç”¨äºå¯¹<strong>å®¢æˆ·ç«¯</strong>è¿›è¡Œè®¤è¯ä¸æˆæƒï¼Œé»˜è®¤ä¸ºæ˜æ–‡ä¼ è¾“ï¼Œå®é™…åº”ç”¨å½“ä¸­åº”å½“è¿›è¡ŒåŠ å¯†å¤„ç†ï¼›</li>
<li><strong>ä¸´ç»ˆé—å˜±</strong> <code>lastWill*</code>ï¼šå±äº MQTT <strong>ä¸´ç»ˆé—å˜±</strong>ï¼ˆLWTï¼ŒLast Will and Testamentï¼‰ç‰¹æ€§çš„ä¸€éƒ¨åˆ†ï¼Œå½“<strong>å®¢æˆ·ç«¯</strong>éæ­£å¸¸æ–­å¼€è¿æ¥æ—¶ï¼Œç”¨äºå‘é€é—å˜±æ¶ˆæ¯é€šçŸ¥å…¶å®ƒçš„<strong>å®¢æˆ·ç«¯</strong>ï¼›</li>
<li><strong>ä¿æŒè¿æ¥</strong> <code>keepAlive</code>ï¼šç”¨äºæŒ‡å®š<strong>å®¢æˆ·ç«¯</strong>åœ¨è¿æ¥å»ºç«‹æ—¶ï¼Œä¸<strong>ä»£ç†è€…</strong>é€šä¿¡çš„æ—¶é—´é—´éš”ï¼ˆä»¥<strong>ç§’</strong>ä¸ºå•ä½ï¼‰ï¼Œå³<strong>ä»£ç†è€…</strong>ä¸<strong>å®¢æˆ·ç«¯</strong>åœ¨ä¸å‘é€æ¶ˆæ¯çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ä¿æŒè¿æ¥çš„æœ€é•¿æ—¶é—´ï¼›</li>
</ul>
<h4>CONNACK</h4>
<figure><img src="http://www.uinio.com/Embedded/MQTT/5.png" alt="MQTT-CONNACK" tabindex="0" loading="lazy"><figcaption>MQTT-CONNACK</figcaption></figure>
<ul>
<li>
<p><strong>ä¼šè¯å‡ºç°æ ‡è¯†</strong> <code>sessionPresent</code>ï¼šç”¨äºå‘ŠçŸ¥<strong>å®¢æˆ·ç«¯</strong>ï¼Œå½“å‰çš„<strong>ä»£ç†è€…</strong>æ˜¯å¦å·²ç»æ‹¥æœ‰äº†ä¸€ä¸ªä¼šè¯ï¼›å½“<strong>å®¢æˆ·ç«¯</strong>è¿æ¥æ¶ˆæ¯çš„ <code>cleanSession = true</code> æ—¶ï¼Œç”±äºå½“å‰æ²¡æœ‰å¯ç”¨çš„ä¼šè¯ï¼Œæ‰€ä»¥è¯¥é¡¹æ€»æ˜¯ä¸º <code>false</code>ï¼›è€Œå½“<strong>å®¢æˆ·ç«¯</strong>è¿æ¥æ¶ˆæ¯çš„ <code>cleanSession = false</code> æ—¶ï¼Œæ­¤æ—¶å°±ä¼šå­˜åœ¨ä¸¤ç§å¯èƒ½æ€§ï¼š</p>
<ul>
<li>å¦‚æœä¼šè¯æ¶ˆæ¯å¯¹äº <code>clientId</code> å¯ç”¨ï¼Œå¹¶ä¸”<strong>ä»£ç†è€…</strong>æœåŠ¡å·²ç»ç¼“å­˜äº†è¿™äº›ä¼šè¯ä¿¡æ¯ï¼Œé‚£ä¹ˆ <code>sessionPresent</code> ä¸º <code>true</code>ï¼›</li>
<li>åä¹‹ï¼Œå¦‚æœ<strong>ä»£ç†è€…</strong>æ²¡æœ‰ä»»ä½•è¿™ä¸ª <code>clientId</code> çš„ä¼šè¯ä¿¡æ¯ï¼Œé‚£ä¹ˆè¯¥é¡¹å°±ä¸º <code>false</code>ï¼›</li>
</ul>
</li>
<li>
<p><strong>è¿æ¥è¿”å›ç </strong> <code>returnCode</code>ï¼šç”¨äºé€šçŸ¥<strong>å®¢æˆ·ç«¯</strong>å½“å‰è¿æ¥æ˜¯å¦æˆåŠŸï¼Œå…·ä½“å–å€¼è¯·å‚è€ƒä¸‹é¢è¡¨æ ¼ï¼š</p>
<p>| è¿”å›ä»£ç  | è¿”å›ç å“åº”                       |
| :</p>
</li>
</ul>
]]></content>
    <category term="ç½‘ç»œ"/>
    <published>2023-08-26T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">æ•°æ®å­˜å‚¨</title>
    <id>http://blog.cjhe.top/database/</id>
    <link href="http://blog.cjhe.top/database/"/>
    <updated>2024-05-20T03:37:50.000Z</updated>
    <summary type="html"><![CDATA[<blockquote>
<p>è®°å½•å­¦ä¹ æ•°æ®åº“çš„è¿‡ç¨‹</p>
</blockquote>
]]></summary>
    <content type="html"><![CDATA[<blockquote>
<p>è®°å½•å­¦ä¹ æ•°æ®åº“çš„è¿‡ç¨‹</p>
</blockquote>
]]></content>
    <category term="æ•°æ®å­˜å‚¨"/>
    <published>2023-08-24T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">MySQL</title>
    <id>http://blog.cjhe.top/database/mysql/</id>
    <link href="http://blog.cjhe.top/database/mysql/"/>
    <updated>2024-05-20T03:37:50.000Z</updated>
    <summary type="text">MySQLæ˜¯ä¸€ç§æµè¡Œçš„å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œå…·æœ‰ä»¥ä¸‹å‡ ä¸ªä¼˜ç‚¹ï¼š


å¼€æºå…è´¹: MySQLé‡‡ç”¨å¼€æºè®¸å¯è¯ï¼Œå¯ä»¥å…è´¹è·å¾—å’Œä½¿ç”¨ã€‚è¿™ä½¿å¾—MySQLæˆä¸ºè®¸å¤šä¸ªäººå¼€å‘è€…ã€åˆåˆ›å…¬å¸å’Œä¸­å°å‹ä¼ä¸šçš„é¦–é€‰æ•°æ®åº“ï¼Œå¯ä»¥é™ä½æˆæœ¬å¹¶æé«˜çµæ´»æ€§ã€‚


å¯é æ€§å’Œç¨³å®šæ€§: MySQLç»è¿‡äº†å¹¿æ³›æµ‹è¯•å’Œå¸‚åœºéªŒè¯ï¼Œå…·æœ‰è‰¯å¥½çš„ç¨³å®šæ€§å’Œå¯é æ€§ã€‚å®ƒæ”¯æŒäº‹åŠ¡å¤„ç†å’ŒACIDï¼ˆåŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»...</summary>
    <content type="html"><![CDATA[<!-- more -->
<p>MySQLæ˜¯ä¸€ç§æµè¡Œçš„å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œå…·æœ‰ä»¥ä¸‹å‡ ä¸ªä¼˜ç‚¹ï¼š</p>
<ul>
<li>
<p>å¼€æºå…è´¹: MySQLé‡‡ç”¨å¼€æºè®¸å¯è¯ï¼Œå¯ä»¥å…è´¹è·å¾—å’Œä½¿ç”¨ã€‚è¿™ä½¿å¾—MySQLæˆä¸ºè®¸å¤šä¸ªäººå¼€å‘è€…ã€åˆåˆ›å…¬å¸å’Œä¸­å°å‹ä¼ä¸šçš„é¦–é€‰æ•°æ®åº“ï¼Œå¯ä»¥é™ä½æˆæœ¬å¹¶æé«˜çµæ´»æ€§ã€‚</p>
</li>
<li>
<p>å¯é æ€§å’Œç¨³å®šæ€§: MySQLç»è¿‡äº†å¹¿æ³›æµ‹è¯•å’Œå¸‚åœºéªŒè¯ï¼Œå…·æœ‰è‰¯å¥½çš„ç¨³å®šæ€§å’Œå¯é æ€§ã€‚å®ƒæ”¯æŒäº‹åŠ¡å¤„ç†å’ŒACIDï¼ˆåŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§å’ŒæŒä¹…æ€§ï¼‰å±æ€§ï¼Œä¿è¯æ•°æ®çš„ä¸€è‡´æ€§å’Œå®‰å…¨ã€‚</p>
</li>
<li>
<p>é«˜æ€§èƒ½: MySQLå…·æœ‰å‡ºè‰²çš„æ€§èƒ½ç‰¹ç‚¹ï¼Œèƒ½å¤Ÿå¤„ç†å¤§è§„æ¨¡çš„å¹¶å‘è¯·æ±‚ã€‚å®ƒä¸ºå¤šç”¨æˆ·å¹¶å‘æ“ä½œæä¾›äº†æœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆï¼Œå¹¶ä¸”ä¼˜åŒ–äº†å¤„ç†å¤§é‡æ•°æ®çš„èƒ½åŠ›ã€‚</p>
</li>
<li>
<p>å¯æ‰©å±•æ€§: MySQLæ”¯æŒæ°´å¹³å’Œå‚ç›´æ‰©å±•ï¼Œå¯ä»¥æ ¹æ®éœ€è¦å¢åŠ æ›´å¤šçš„æœåŠ¡å™¨ã€èŠ‚ç‚¹å’Œå­˜å‚¨ï¼Œä»¥åº”å¯¹ä¸æ–­å¢é•¿çš„æ•°æ®éœ€æ±‚ã€‚å®ƒè¿˜æä¾›äº†å¤åˆ¶å’Œåˆ†ç‰‡ç­‰æœºåˆ¶ï¼Œä»¥å®ç°æ•°æ®çš„å¤åˆ¶å’Œåˆ†å¸ƒå¼å­˜å‚¨ã€‚</p>
</li>
<li>
<p>çµæ´»æ€§: MySQLæ”¯æŒå¤šç§æ“ä½œç³»ç»Ÿï¼ŒåŒ…æ‹¬Windowsã€Linuxã€macOSç­‰ï¼Œå¯ä»¥åœ¨å„ç§ç¯å¢ƒä¸­è¿è¡Œã€‚å®ƒè¿˜æ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€çš„é©±åŠ¨ç¨‹åºå’ŒAPIï¼Œå¦‚Pythonã€Javaã€PHPç­‰ï¼Œæä¾›äº†å¹¿æ³›çš„å¼€å‘å’Œé›†æˆé€‰é¡¹ã€‚</p>
</li>
<li>
<p>ç¤¾åŒºæ”¯æŒå’Œç”Ÿæ€ç³»ç»Ÿ: MySQLæ‹¥æœ‰åºå¤§çš„å¼€å‘è€…ç¤¾åŒºå’Œæ´»è·ƒçš„ç”Ÿæ€ç³»ç»Ÿï¼Œæœ‰è®¸å¤šå¼€æºå·¥å…·ã€ç¬¬ä¸‰æ–¹åº“å’Œæ’ä»¶å¯ä¾›é€‰æ‹©ã€‚è¿™æ„å‘³ç€å¯ä»¥è·å¾—ä¸°å¯Œçš„èµ„æºå’Œæ”¯æŒï¼Œèƒ½å¤Ÿæ›´å¿«åœ°è§£å†³é—®é¢˜å’Œå¼€å‘åº”ç”¨ã€‚</p>
</li>
</ul>
]]></content>
    <category term="æ•°æ®å­˜å‚¨"/>
    <published>2023-08-24T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">é¡¹ç›®è§„èŒƒ</title>
    <id>http://blog.cjhe.top/project-standard/</id>
    <link href="http://blog.cjhe.top/project-standard/"/>
    <updated>2024-05-05T15:52:14.000Z</updated>
    <summary type="text">è¿™é‡Œè®°å½•å¹³æ—¶å¼€å‘è¿‡ç¨‹ä¸­çš„é¡¹ç›®è§„èŒƒï¼Œå¥½çš„è§„èŒƒæœ‰åŠ©äºï¼š


ä¸€è‡´æ€§: é¡¹ç›®è§„èŒƒç¡®ä¿å›¢é˜Ÿæˆå‘˜åœ¨å·¥ä½œä¸­éµå¾ªç›¸åŒçš„æ ‡å‡†å’Œåšæ³•ï¼Œä½¿å¾—ä»£ç ã€æ–‡æ¡£ã€å‘½åç­‰ä¿æŒä¸€è‡´ã€‚è¿™æœ‰åŠ©äºæé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œå‡å°‘æ··ä¹±å’Œé”™è¯¯ã€‚


æé«˜æ•ˆç‡: é¡¹ç›®è§„èŒƒå®šä¹‰äº†å·²ç»éªŒè¯è¿‡çš„æœ€ä½³å®è·µå’ŒæŒ‡å¯¼åŸåˆ™ï¼Œå¯ä»¥å‡å°‘é‡å¤åŠ³åŠ¨å’Œä¸å¿…è¦çš„æ€è€ƒï¼Œæé«˜å›¢é˜Ÿæˆå‘˜çš„å·¥ä½œæ•ˆç‡ã€‚è§„èŒƒåŒ–çš„æµç¨‹å’Œæ¨¡æ¿ä¹Ÿèƒ½å‡å°‘æ²Ÿé€šæˆæœ¬...</summary>
    <content type="html"><![CDATA[<!-- more -->
<p>è¿™é‡Œè®°å½•å¹³æ—¶å¼€å‘è¿‡ç¨‹ä¸­çš„é¡¹ç›®è§„èŒƒï¼Œå¥½çš„è§„èŒƒæœ‰åŠ©äºï¼š</p>
<ul>
<li>
<p>ä¸€è‡´æ€§: é¡¹ç›®è§„èŒƒç¡®ä¿å›¢é˜Ÿæˆå‘˜åœ¨å·¥ä½œä¸­éµå¾ªç›¸åŒçš„æ ‡å‡†å’Œåšæ³•ï¼Œä½¿å¾—ä»£ç ã€æ–‡æ¡£ã€å‘½åç­‰ä¿æŒä¸€è‡´ã€‚è¿™æœ‰åŠ©äºæé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œå‡å°‘æ··ä¹±å’Œé”™è¯¯ã€‚</p>
</li>
<li>
<p>æé«˜æ•ˆç‡: é¡¹ç›®è§„èŒƒå®šä¹‰äº†å·²ç»éªŒè¯è¿‡çš„æœ€ä½³å®è·µå’ŒæŒ‡å¯¼åŸåˆ™ï¼Œå¯ä»¥å‡å°‘é‡å¤åŠ³åŠ¨å’Œä¸å¿…è¦çš„æ€è€ƒï¼Œæé«˜å›¢é˜Ÿæˆå‘˜çš„å·¥ä½œæ•ˆç‡ã€‚è§„èŒƒåŒ–çš„æµç¨‹å’Œæ¨¡æ¿ä¹Ÿèƒ½å‡å°‘æ²Ÿé€šæˆæœ¬ï¼Œä½¿å¾—å›¢é˜Ÿæ›´é«˜æ•ˆåœ°ååŒå·¥ä½œã€‚</p>
</li>
<li>
<p>å¯ç»´æŠ¤æ€§: é¡¹ç›®è§„èŒƒé€šå¸¸åŒ…æ‹¬å‘½åçº¦å®šã€ä»£ç ç»“æ„ã€æ³¨é‡Šè§„èŒƒç­‰ï¼Œè¿™äº›æŒ‡å¯¼å¯ä»¥æé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§ã€‚å½“æ–°æˆå‘˜åŠ å…¥æˆ–è€…å›¢é˜Ÿæˆå‘˜å˜åŠ¨æ—¶ï¼Œä»–ä»¬èƒ½å¤Ÿæ›´å¿«åœ°ç†è§£é¡¹ç›®çš„ç»“æ„å’Œä»£ç ï¼Œå‡è½»ç»´æŠ¤è´Ÿæ‹…ã€‚</p>
</li>
<li>
<p>è´¨é‡æ§åˆ¶: é¡¹ç›®è§„èŒƒå¯ä»¥ç¡®ä¿é¡¹ç›®ç¬¦åˆè‰¯å¥½çš„è½¯ä»¶å·¥ç¨‹å®è·µå’Œè¡Œä¸šæ ‡å‡†ï¼Œä»è€Œæé«˜é¡¹ç›®çš„è´¨é‡ã€‚è§„èŒƒåŒ–çš„ä»£ç å’Œæµç¨‹å¯ä»¥å‡å°‘æ½œåœ¨çš„ bug å’Œé—®é¢˜ï¼Œå¹¶ä¸”æä¾›äº†ä¸€è‡´çš„è¯„ä¼°æ ‡å‡†ï¼Œæœ‰åŠ©äºæå‰å‘ç°å’Œçº æ­£é—®é¢˜ã€‚</p>
</li>
<li>
<p>å¯æ‰©å±•æ€§: é€šè¿‡å®šä¹‰è‰¯å¥½çš„è§„èŒƒå¹¶éµå¾ªå®ƒä»¬ï¼Œé¡¹ç›®å¯ä»¥æ›´å®¹æ˜“åœ°è¿›è¡Œæ‰©å±•å’Œç»´æŠ¤ã€‚åˆç†çš„æ¶æ„è®¾è®¡å’Œè§„èŒƒåŒ–çš„å¼€å‘å®è·µå¯ä»¥ä½¿å¾—é¡¹ç›®æ›´æ˜“äºæ‰©å±•ï¼Œå¹¶ä¸”é™ä½äº†å¼•å…¥æ–°åŠŸèƒ½ã€æ”¹è¿›å’Œä¼˜åŒ–çš„é£é™©ã€‚</p>
</li>
</ul>
]]></content>
    <category term="é¡¹ç›®è§„èŒƒ"/>
    <published>2023-08-23T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">Goè¿›é˜¶</title>
    <id>http://blog.cjhe.top/language/go/advance/</id>
    <link href="http://blog.cjhe.top/language/go/advance/"/>
    <updated>2024-05-15T10:01:59.000Z</updated>
    <summary type="html"><![CDATA[<blockquote>
<p>ä»‹ç»Goè¯­è¨€è¿›é˜¶çŸ¥è¯†ï¼ŒåŒ…æ‹¬é‡åˆ°çš„ä¸€äº›å‘å’Œåº•å±‚åŸç†ï¼Œè¿›é˜¶çŸ¥è¯†å¯¹äºå…¥é—¨ç«¥é‹æ¥è¯´å¯ä»¥ä¸ç”¨äº†è§£ï¼Œå¹¶ä¸ä¼šå½±å“æ—¥å¸¸å¼€å‘ï¼Œå±äºæ·±åº¦æ¢è®¨</p>
</blockquote>
]]></summary>
    <content type="html"><![CDATA[<blockquote>
<p>ä»‹ç»Goè¯­è¨€è¿›é˜¶çŸ¥è¯†ï¼ŒåŒ…æ‹¬é‡åˆ°çš„ä¸€äº›å‘å’Œåº•å±‚åŸç†ï¼Œè¿›é˜¶çŸ¥è¯†å¯¹äºå…¥é—¨ç«¥é‹æ¥è¯´å¯ä»¥ä¸ç”¨äº†è§£ï¼Œå¹¶ä¸ä¼šå½±å“æ—¥å¸¸å¼€å‘ï¼Œå±äºæ·±åº¦æ¢è®¨</p>
</blockquote>
]]></content>
    <category term="ç¼–ç¨‹è¯­è¨€"/>
    <published>2023-08-24T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">GoåŸºç¡€</title>
    <id>http://blog.cjhe.top/language/go/base/</id>
    <link href="http://blog.cjhe.top/language/go/base/"/>
    <updated>2024-05-15T10:01:59.000Z</updated>
    <summary type="html"><![CDATA[<blockquote>
<p>ä»‹ç»Goè¯­è¨€åŸºç¡€çŸ¥è¯†ï¼Œä¹Ÿä¼šæ¶‰åŠåˆ°åº•å±‚åŸç†ï¼Œè¿™äº›æ˜¯æˆ‘è®¤ä¸ºè¦æŒæ¡çš„çŸ¥è¯†ã€‚</p>
</blockquote>
]]></summary>
    <content type="html"><![CDATA[<blockquote>
<p>ä»‹ç»Goè¯­è¨€åŸºç¡€çŸ¥è¯†ï¼Œä¹Ÿä¼šæ¶‰åŠåˆ°åº•å±‚åŸç†ï¼Œè¿™äº›æ˜¯æˆ‘è®¤ä¸ºè¦æŒæ¡çš„çŸ¥è¯†ã€‚</p>
</blockquote>
]]></content>
    <category term="ç¼–ç¨‹è¯­è¨€"/>
    <published>2023-08-24T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">è½¬è½½</title>
    <id>http://blog.cjhe.top/language/go/reprint/</id>
    <link href="http://blog.cjhe.top/language/go/reprint/"/>
    <updated>2024-05-15T10:01:59.000Z</updated>
    <summary type="html"><![CDATA[<blockquote>
<p>è¿™é‡Œä¼šè½¬è½½æˆ‘è®¤ä¸ºæ¯”è¾ƒå¥½çš„åšæ–‡</p>
</blockquote>
]]></summary>
    <content type="html"><![CDATA[<blockquote>
<p>è¿™é‡Œä¼šè½¬è½½æˆ‘è®¤ä¸ºæ¯”è¾ƒå¥½çš„åšæ–‡</p>
</blockquote>
]]></content>
    <category term="ç¼–ç¨‹è¯­è¨€"/>
    <published>2023-08-24T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">é€€å‡ºæ¨¡å¼</title>
    <id>http://blog.cjhe.top/design-pattern/concurrency/exit.html</id>
    <link href="http://blog.cjhe.top/design-pattern/concurrency/exit.html"/>
    <updated>2024-05-05T15:52:14.000Z</updated>
    <summary type="text">é€€å‡ºæ¨¡å¼
ä½¿ç”¨å…³é”®å­—goå¾ˆå®¹æ˜“å¯åŠ¨goroutineï¼Œè¿™æ ·åˆ›å»ºçš„åç¨‹å’Œå½“å‰åç¨‹å·²ç»åˆ†ç¦»ï¼Œæˆ‘ä»¬å¹¶ä¸çŸ¥é“
ç­‰å¾…æŒ‡å®šåç¨‹é€€å‡º
Â 
æç¤º
spawnå‡½æ•°åˆ›å»ºçš„æ–°goroutineä¸è°ƒç”¨spawnå‡½æ•°çš„goroutineï¼ˆmain goroutineï¼‰ä¹‹é—´é€šè¿‡channelå»ºç«‹äº†è”ç³»ã€‚

ç­‰å¾…å¤šä¸ªåç¨‹é€€å‡º
Â 
æç¤º
é€šè¿‡sync.WaitGroupï¼Œå¯¹äºæ¯ä¸€ä¸ªå...</summary>
    <content type="html"><![CDATA[<!-- more -->
<h2>é€€å‡ºæ¨¡å¼</h2>
<p>ä½¿ç”¨å…³é”®å­—<code>go</code>å¾ˆå®¹æ˜“å¯åŠ¨goroutineï¼Œè¿™æ ·åˆ›å»ºçš„åç¨‹å’Œå½“å‰åç¨‹å·²ç»åˆ†ç¦»ï¼Œæˆ‘ä»¬å¹¶ä¸çŸ¥é“</p>
<h3>ç­‰å¾…æŒ‡å®šåç¨‹é€€å‡º</h3>
<div class="language-go" data-ext="go" data-title="go"><pre go="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"fmt"</span>
	<span class="token string">"time"</span>
<span class="token punctuation">)</span>

<span class="token keyword">type</span> signal <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">worker</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"worker is working..."</span><span class="token punctuation">)</span>
	time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">spawn</span><span class="token punctuation">(</span>f <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&lt;-</span><span class="token keyword">chan</span> signal <span class="token punctuation">{</span>
	c <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> signal<span class="token punctuation">)</span>
	<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"worker start to work..."</span><span class="token punctuation">)</span>
		<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		c <span class="token operator">&lt;-</span> <span class="token function">signal</span><span class="token punctuation">(</span><span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> c
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"start a worker..."</span><span class="token punctuation">)</span>
	c <span class="token operator">:=</span> <span class="token function">spawn</span><span class="token punctuation">(</span>worker<span class="token punctuation">)</span>
	<span class="token operator">&lt;-</span>c
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"worker work done!"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="hint-container tip">
<p class="hint-container-title">æç¤º</p>
<p>spawnå‡½æ•°åˆ›å»ºçš„æ–°goroutineä¸è°ƒç”¨spawnå‡½æ•°çš„goroutineï¼ˆmain goroutineï¼‰ä¹‹é—´é€šè¿‡channelå»ºç«‹äº†è”ç³»ã€‚</p>
</div>
<h3>ç­‰å¾…å¤šä¸ªåç¨‹é€€å‡º</h3>
<div class="language-go" data-ext="go" data-title="go"><pre go="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"fmt"</span>
	<span class="token string">"sync"</span>
	<span class="token string">"time"</span>
<span class="token punctuation">)</span>

<span class="token keyword">type</span> signal <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">worker</span><span class="token punctuation">(</span>i <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"worker %d: is working...\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
	time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"worker %d: works done\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">spawnGroup</span><span class="token punctuation">(</span>f <span class="token keyword">func</span><span class="token punctuation">(</span>i <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">,</span> num <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">&lt;-</span><span class="token keyword">chan</span> signal <span class="token punctuation">{</span>
	c <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> signal<span class="token punctuation">)</span>
	<span class="token keyword">var</span> wg sync<span class="token punctuation">.</span>WaitGroup

	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> num<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
		wg<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
		<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span>i <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"worker %d: start to work...\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
			<span class="token function">f</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
			wg<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		wg<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		c <span class="token operator">&lt;-</span> <span class="token function">signal</span><span class="token punctuation">(</span><span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> c
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"the group of workers start to work..."</span><span class="token punctuation">)</span>
	c <span class="token operator">:=</span> <span class="token function">spawnGroup</span><span class="token punctuation">(</span>worker<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
	<span class="token operator">&lt;-</span>c
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"the group of workers work done!"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="hint-container tip">
<p class="hint-container-title">æç¤º</p>
<p>é€šè¿‡sync.WaitGroupï¼Œå¯¹äºæ¯ä¸€ä¸ªåç¨‹å¤„ç†å‰è¿›è¡Œwg.Add(1)ï¼Œé€€å‡ºæ—¶æ‰§è¡Œwg.Done()ï¼Œå¹¶ç­‰å¾…æ‰€æœ‰çš„åç¨‹é€€å‡ºwg.Wait()ã€‚ä¿éšœæ‰€æœ‰çš„åç¨‹éƒ½ä¼šç»“æŸã€‚</p>
</div>
]]></content>
    <category term="è®¾è®¡æ¨¡å¼"/>
    <published>2023-08-22T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">æ‰‡å…¥/æ‰‡å‡ºæ¨¡å‹</title>
    <id>http://blog.cjhe.top/design-pattern/concurrency/fan-in-fan-out.html</id>
    <link href="http://blog.cjhe.top/design-pattern/concurrency/fan-in-fan-out.html"/>
    <updated>2024-05-05T15:52:14.000Z</updated>
    <summary type="text">æ‰‡å‡ºæ¨¡å¼
å³å¤šä¸ªç›¸åŒgoroutineä»åŒä¸€ä¸ªchannelè¯»å–æ•°æ®å¹¶å¤„ç†
fan-outfan-out
è¾“å‡ºç»“æœ
æˆ‘ä»¬ä½¿ç”¨ä¸‰ä¸ªåç¨‹ä»ä¸€ä¸ªchannelä¸­è¿‡æ»¤2çš„å€æ•°ï¼Œåˆ†åˆ«æ”¾åœ¨ä¸‰ä¸ªchannelè¾“å‡ºã€‚ç”±äºGoè¯­è¨€è°ƒåº¦ä¸ç¡®å®šæ€§ï¼Œå› æ­¤æµ‹è¯•ç»“æœå¯èƒ½ä¸ä¸€è‡´ã€‚
æ‰‡å…¥æ¨¡å¼
ä»å¤šä¸ªchannelè¯»å–æ•°æ®å¹¶å¤„ç†ï¼Œå°†ç»“æœæ”¾å…¥ä¸€ä¸ªchannel
fan-infan-in
...</summary>
    <content type="html"><![CDATA[<!-- more -->
<h2>æ‰‡å‡ºæ¨¡å¼</h2>
<p>å³å¤šä¸ªç›¸åŒgoroutineä»åŒä¸€ä¸ªchannelè¯»å–æ•°æ®å¹¶å¤„ç†</p>
<figure><figcaption>fan-out</figcaption></figure>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">TestFanOut</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">}</span>
	in <span class="token operator">:=</span> <span class="token function">echo</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>
	c1 <span class="token operator">:=</span> <span class="token function">odd</span><span class="token punctuation">(</span>in<span class="token punctuation">)</span>
	c2 <span class="token operator">:=</span> <span class="token function">odd</span><span class="token punctuation">(</span>in<span class="token punctuation">)</span>
	c3 <span class="token operator">:=</span> <span class="token function">odd</span><span class="token punctuation">(</span>in<span class="token punctuation">)</span>
	t<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span><span class="token string">"c1"</span><span class="token punctuation">)</span>
	<span class="token keyword">for</span> n <span class="token operator">:=</span> <span class="token keyword">range</span> c1 <span class="token punctuation">{</span>
		t<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	t<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span><span class="token string">"c2"</span><span class="token punctuation">)</span>
	<span class="token keyword">for</span> n <span class="token operator">:=</span> <span class="token keyword">range</span> c2 <span class="token punctuation">{</span>
		t<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	t<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span><span class="token string">"c3"</span><span class="token punctuation">)</span>
	<span class="token keyword">for</span> n <span class="token operator">:=</span> <span class="token keyword">range</span> c3 <span class="token punctuation">{</span>
		t<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¾“å‡ºç»“æœ</p>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>=== RUN   TestFanOut
    fan-in-fan-out_test.go:24: c1
    fan-in-fan-out_test.go:26: 1
    fan-in-fan-out_test.go:26: 7
    fan-in-fan-out_test.go:26: 9
    fan-in-fan-out_test.go:28: c2
    fan-in-fan-out_test.go:30: 3
    fan-in-fan-out_test.go:32: c3
    fan-in-fan-out_test.go:34: 5
</code></pre></div>]]></content>
    <category term="è®¾è®¡æ¨¡å¼"/>
    <published>2023-08-22T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">ç®¡é“æ¨¡å¼</title>
    <id>http://blog.cjhe.top/design-pattern/concurrency/pipeline.html</id>
    <link href="http://blog.cjhe.top/design-pattern/concurrency/pipeline.html"/>
    <updated>2024-05-05T15:52:14.000Z</updated>
    <summary type="text">ç®¡é“æ˜¯Unix/Linuxä¸Šä¸€ç§å…¸å‹çš„å¹¶å‘ç¨‹åºè®¾è®¡æ¨¡å¼ï¼Œä¹Ÿæ˜¯Unixå´‡å°šç»„åˆè®¾è®¡å“²å­¦çš„å…·ä½“ä½“ç°ï¼Œä¾‹å¦‚æ‰§è¡Œï¼š
å°±å¯ä»¥åˆ©ç”¨ç®¡é“æœºåˆ¶è¿‡æ»¤å‡ºå½“å‰è·¯å¾„ä¸‹ä»¥&amp;quot;.go&amp;quot;ç»“å°¾çš„æ–‡ä»¶åˆ—è¡¨ã€‚
ls -lçš„è¾“å‡ºä½œä¸ºgrep &amp;quot;\.go&amp;quot;çš„è¾“å…¥å¾ˆå®¹æ˜“å°†ä¸¤ä¸ªåŠŸèƒ½æ¨¡å—ä¸²åœ¨ä¸€èµ·ã€‚
ç®¡é“æ¨¡å¼
pipelinepipeline
Goé€šå¸¸ä½¿ç”¨channelåŸè¯­æ„å»ºç®¡é“æ¨¡å¼
ç®¡é“æ¨¡å¼ä½¿ç”¨ç¤º...</summary>
    <content type="html"><![CDATA[<!-- more -->
<p>ç®¡é“æ˜¯Unix/Linuxä¸Šä¸€ç§å…¸å‹çš„å¹¶å‘ç¨‹åºè®¾è®¡æ¨¡å¼ï¼Œä¹Ÿæ˜¯Unixå´‡å°š<strong>ç»„åˆ</strong>è®¾è®¡å“²å­¦çš„å…·ä½“ä½“ç°ï¼Œä¾‹å¦‚æ‰§è¡Œï¼š</p>
<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">ls</span> <span class="token parameter variable">-l</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">"\.go"</span>
</code></pre></div><p>å°±å¯ä»¥åˆ©ç”¨ç®¡é“æœºåˆ¶è¿‡æ»¤å‡ºå½“å‰è·¯å¾„ä¸‹ä»¥".go"ç»“å°¾çš„æ–‡ä»¶åˆ—è¡¨ã€‚</p>
<p><code>ls -l</code>çš„è¾“å‡ºä½œä¸º<code>grep "\.go"</code>çš„è¾“å…¥å¾ˆå®¹æ˜“å°†ä¸¤ä¸ªåŠŸèƒ½æ¨¡å—ä¸²åœ¨ä¸€èµ·ã€‚</p>
<h2>ç®¡é“æ¨¡å¼</h2>
<figure><figcaption>pipeline</figcaption></figure>
<p>Goé€šå¸¸ä½¿ç”¨channelåŸè¯­æ„å»ºç®¡é“æ¨¡å¼</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">package</span> concurrency

<span class="token keyword">func</span> <span class="token function">echo</span><span class="token punctuation">(</span>nums <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">&lt;-</span><span class="token keyword">chan</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
	out <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> n <span class="token operator">:=</span> <span class="token keyword">range</span> nums <span class="token punctuation">{</span>
			out <span class="token operator">&lt;-</span> n
		<span class="token punctuation">}</span>
		<span class="token function">close</span><span class="token punctuation">(</span>out<span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> out
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">square</span><span class="token punctuation">(</span>in <span class="token operator">&lt;-</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">&lt;-</span><span class="token keyword">chan</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
	out <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span>
	<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">for</span> n <span class="token operator">:=</span> <span class="token keyword">range</span> in <span class="token punctuation">{</span>
			out <span class="token operator">&lt;-</span> n <span class="token operator">*</span> n
		<span class="token punctuation">}</span>
		<span class="token function">close</span><span class="token punctuation">(</span>out<span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> out
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">odd</span><span class="token punctuation">(</span>in <span class="token operator">&lt;-</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">&lt;-</span><span class="token keyword">chan</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
	out <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span>
	<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">for</span> n <span class="token operator">:=</span> <span class="token keyword">range</span> in <span class="token punctuation">{</span>
			<span class="token keyword">if</span> n<span class="token operator">%</span><span class="token number">2</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token punctuation">{</span>
				out <span class="token operator">&lt;-</span> n
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token function">close</span><span class="token punctuation">(</span>out<span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> out
<span class="token punctuation">}</span>
</code></pre></div><p>ç®¡é“æ¨¡å¼ä½¿ç”¨ç¤ºä¾‹</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">package</span> concurrency

<span class="token keyword">import</span> <span class="token string">"testing"</span>

<span class="token keyword">func</span> <span class="token function">TestPipeline</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">}</span>
	<span class="token keyword">for</span> n <span class="token operator">:=</span> <span class="token keyword">range</span> <span class="token function">square</span><span class="token punctuation">(</span><span class="token function">odd</span><span class="token punctuation">(</span><span class="token function">echo</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		t<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¾“å‡ºç»“æœ</p>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>=== RUN   TestPipeline
    pipeline_test.go:8: 1
    pipeline_test.go:8: 9
    pipeline_test.go:8: 25
    pipeline_test.go:8: 49
    pipeline_test.go:8: 81
</code></pre></div>]]></content>
    <category term="è®¾è®¡æ¨¡å¼"/>
    <published>2023-08-22T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">ç”Ÿäº§è€…/æ¶ˆè´¹è€…æ¨¡å¼</title>
    <id>http://blog.cjhe.top/design-pattern/concurrency/producer-consumer.html</id>
    <link href="http://blog.cjhe.top/design-pattern/concurrency/producer-consumer.html"/>
    <updated>2024-05-05T15:52:14.000Z</updated>
    <summary type="text">ç”Ÿäº§è€…/æ¶ˆè´¹è€…æ¨¡å¼æ˜¯å¹¶å‘ç¼–ç¨‹ä¸­å¸¸è§çš„æ¨¡å‹ï¼Œè¯¥æ¨¡å‹ä¸»è¦é€šè¿‡å¹³è¡¡ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…æ¥æé«˜ç¨‹åºçš„æ•´ä½“å¤„ç†æ•°æ®çš„èƒ½åŠ›
ç”Ÿäº§è€…/æ¶ˆè´¹è€…æ¨¡å¼
è¯¥æ¨¡å‹ä¸­ï¼šç”Ÿäº§è€…ç”Ÿäº§æ•°æ®ï¼Œæ”¾åˆ°é˜Ÿåˆ—ä¸­ï¼Œæ¶ˆè´¹è€…ä»é˜Ÿåˆ—ä¸­å–æ•°æ®ã€‚è¿™æ ·ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…å˜æˆå¼‚æ­¥çš„ä¸¤ä¸ªè¿‡ç¨‹ã€‚
producer-consumerproducer-consumer
å®šä¹‰ç”Ÿäº§è€…
å®šä¹‰æ¶ˆè´¹è€…
å¯åŠ¨ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…æ¨¡å‹
åœ¨è¿™ä¸ªä¾‹å­...</summary>
    <content type="html"><![CDATA[<!-- more -->
<p><strong>ç”Ÿäº§è€…/æ¶ˆè´¹è€…</strong>æ¨¡å¼æ˜¯å¹¶å‘ç¼–ç¨‹ä¸­å¸¸è§çš„æ¨¡å‹ï¼Œè¯¥æ¨¡å‹ä¸»è¦é€šè¿‡å¹³è¡¡ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…æ¥æé«˜ç¨‹åºçš„æ•´ä½“å¤„ç†æ•°æ®çš„èƒ½åŠ›</p>
<h2>ç”Ÿäº§è€…/æ¶ˆè´¹è€…æ¨¡å¼</h2>
<p>è¯¥æ¨¡å‹ä¸­ï¼šç”Ÿäº§è€…ç”Ÿäº§æ•°æ®ï¼Œæ”¾åˆ°é˜Ÿåˆ—ä¸­ï¼Œæ¶ˆè´¹è€…ä»é˜Ÿåˆ—ä¸­å–æ•°æ®ã€‚è¿™æ ·ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…å˜æˆå¼‚æ­¥çš„ä¸¤ä¸ªè¿‡ç¨‹ã€‚</p>
<figure><figcaption>producer-consumer</figcaption></figure>
<p>å®šä¹‰ç”Ÿäº§è€…</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token comment">// Producer: ç”Ÿäº§factorå€æ•°</span>
<span class="token keyword">func</span> <span class="token function">Producer</span><span class="token punctuation">(</span>factor <span class="token builtin">int</span><span class="token punctuation">,</span> out <span class="token keyword">chan</span><span class="token operator">&lt;-</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
		out <span class="token operator">&lt;-</span> i <span class="token operator">*</span> factor
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å®šä¹‰æ¶ˆè´¹è€…</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token comment">// Consumer: æ¶ˆè´¹æ‰“å°é˜Ÿåˆ—</span>
<span class="token keyword">func</span> <span class="token function">Consumer</span><span class="token punctuation">(</span>in <span class="token operator">&lt;-</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">for</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> in <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å¯åŠ¨ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…æ¨¡å‹</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code>	ch <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
	<span class="token keyword">go</span> <span class="token function">Producer</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> ch<span class="token punctuation">)</span>
	<span class="token keyword">go</span> <span class="token function">Producer</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> ch<span class="token punctuation">)</span>
	<span class="token keyword">go</span> <span class="token function">Consumer</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span>
	time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>
</code></pre></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯åŠ¨ï¼š</p>
<ul>
<li>ä¸¤ä¸ªç”Ÿäº§è€…ï¼Œåˆ†åˆ«ç”Ÿäº§3çš„å€æ•°ã€5çš„å€æ•°</li>
<li>ä¸€ä¸ªæ¶ˆè´¹è€…ï¼Œæ‰“å°é˜Ÿåˆ—ä¸­çš„æ•°æ®</li>
</ul>
]]></content>
    <category term="è®¾è®¡æ¨¡å¼"/>
    <published>2023-08-22T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">deferæ³¨æ„äº‹é¡¹</title>
    <id>http://blog.cjhe.top/language/go/base/defer.html</id>
    <link href="http://blog.cjhe.top/language/go/base/defer.html"/>
    <updated>2024-10-16T07:00:58.000Z</updated>
    <summary type="text">defer è¯­å¥èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬ç¡®ä¿åœ¨å‡½æ•°ç»“æŸæ—¶æ‰§è¡Œä¸€äº›å¿…è¦çš„æ“ä½œï¼Œæ¯”å¦‚ï¼šå…³é—­æ–‡ä»¶å¥æŸ„ã€é‡Šæ”¾èµ„æºã€è§£é”äº’æ–¥é”ç­‰ã€‚defer å…³é”®å­—åªèƒ½ä½œç”¨å‡½æ•°æˆ–å‡½æ•°è°ƒç”¨ã€‚
deferæ³¨æ„äº‹é¡¹
å¤§å¤šæ•°å†…ç½®å‡½æ•°ä¸å¯ä»¥ç›´æ¥è°ƒç”¨

å¤§å¤šæ•°å†…ç½®å‡½æ•°ï¼ˆé™¤äº†copyå’Œrecoverï¼‰çš„è°ƒç”¨çš„è¿”å›ç»“æœéƒ½ä¸å¯ä»¥èˆå¼ƒï¼Œè€Œdeferå»¶è¿Ÿè°ƒç”¨çš„è¿”å›ç»“æœéƒ½å¿…é¡»èˆå¼ƒæ‰ï¼Œæ‰€ä»¥ï¼Œå¾ˆå¤šå†…ç½®å‡½æ•°æ˜¯ä¸èƒ½è¢«è¢«å»¶...</summary>
    <content type="html"><![CDATA[<!-- more -->
<p>defer è¯­å¥èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬ç¡®ä¿åœ¨å‡½æ•°ç»“æŸæ—¶æ‰§è¡Œä¸€äº›å¿…è¦çš„æ“ä½œï¼Œæ¯”å¦‚ï¼š<strong>å…³é—­æ–‡ä»¶å¥æŸ„</strong>ã€<strong>é‡Šæ”¾èµ„æº</strong>ã€<strong>è§£é”äº’æ–¥é”</strong>ç­‰ã€‚defer å…³é”®å­—åªèƒ½ä½œç”¨å‡½æ•°æˆ–å‡½æ•°è°ƒç”¨ã€‚</p>
<h1>deferæ³¨æ„äº‹é¡¹</h1>
<h2>å¤§å¤šæ•°å†…ç½®å‡½æ•°ä¸å¯ä»¥ç›´æ¥è°ƒç”¨</h2>
<blockquote>
<p>å¤§å¤šæ•°å†…ç½®å‡½æ•°ï¼ˆé™¤äº†<code>copy</code>å’Œ<code>recover</code>ï¼‰çš„è°ƒç”¨çš„è¿”å›ç»“æœéƒ½ä¸å¯ä»¥èˆå¼ƒï¼Œè€Œdeferå»¶è¿Ÿè°ƒç”¨çš„è¿”å›ç»“æœéƒ½å¿…é¡»èˆå¼ƒæ‰ï¼Œæ‰€ä»¥ï¼Œå¾ˆå¤šå†…ç½®å‡½æ•°æ˜¯ä¸èƒ½è¢«è¢«å»¶è¿Ÿç›´æ¥è°ƒç”¨çš„ã€‚å½“ç„¶å¯ä»¥é€šè¿‡åŒ¿åå‡½æ•°æ¥è§£å†³ã€‚</p>
</blockquote>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	s <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">}</span>
	<span class="token keyword">defer</span> fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">// [a x y d]</span>
	<span class="token comment">// defer append(s[:1], "x", "y") // ç¼–è¯‘é”™è¯¯</span>
	<span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token boolean">_</span> <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">"x"</span><span class="token punctuation">,</span> <span class="token string">"y"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2>æ‰§è¡Œé¡ºåº</h2>
<div class="hint-container warning">
<p class="hint-container-title">æ³¨æ„</p>
<p>defer è¯­å¥çš„æ‰§è¡Œé¡ºåºæ˜¯æŒ‰ç…§å…ˆè¿›åå‡ºï¼ˆFILOï¼‰çš„ï¼Œå³å…ˆè¿›å» defer è¯­å¥å°†æœ€åæ‰§è¡Œã€‚</p>
</div>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">DeferDemo1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
		<span class="token keyword">defer</span> fmt<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> 
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><details class="hint-container details"><summary>æ‰§è¡Œç»“æœ</summary>
<p>43210</p>
</details>
<h2>å‚æ•°è®¡ç®—æ—¶æœº</h2>
<div class="hint-container warning">
<p class="hint-container-title">æ³¨æ„</p>
<p>defer è¯­å¥ä¸­çš„å‡½æ•°å‚æ•°ä¼šåœ¨ defer è¯­å¥è¢«å£°æ˜æ—¶è¿›è¡Œæ±‚å€¼ï¼Œè€Œä¸æ˜¯åœ¨å®é™…æ‰§è¡Œæ—¶ã€‚</p>
</div>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">DeferDemo2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span>
	<span class="token keyword">defer</span> fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
	i <span class="token operator">=</span> <span class="token number">2</span>
<span class="token punctuation">}</span>
</code></pre></div><details class="hint-container details"><summary>æ‰§è¡Œç»“æœ</summary>
<p>1</p>
</details>
<p>æˆ‘ä»¬å†çœ‹ä¸€ä¸ªå¤æ‚çš„ä¾‹å­ï¼š</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">type</span> T <span class="token builtin">int</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>t T<span class="token punctuation">)</span> <span class="token function">M</span><span class="token punctuation">(</span>n <span class="token builtin">int</span><span class="token punctuation">)</span> T <span class="token punctuation">{</span>
  <span class="token function">print</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
  <span class="token keyword">return</span> t
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> t T
	<span class="token comment">// ç”±äºéœ€è¦ä¼°å€¼M(2)çš„å±ä¸»å®å‚ï¼Œå› æ­¤éœ€è¦å…ˆè®¡ç®—t.M(1)ã€‚</span>
	<span class="token keyword">defer</span> t<span class="token punctuation">.</span><span class="token function">M</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">M</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
	t<span class="token punctuation">.</span><span class="token function">M</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">M</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><details class="hint-container details"><summary>æ‰§è¡Œç»“æœ</summary>
<p>1342</p>
</details>
<h2>é‡è§å¼‚å¸¸</h2>
<h3>é‡è§panic</h3>
<blockquote>
<p>é‡è§panicï¼Œdeferå°†ä¼šæ‰§è¡Œã€‚è¿™ä¹Ÿæ˜¯recoverä¸ºä»€ä¹ˆè¦åŒ…å«åœ¨deferä¸­çš„åŸå› ã€‚</p>
</blockquote>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">defer</span> fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"æ­¤è¡Œå¯ä»¥è¢«æ‰§è¡Œåˆ°"</span><span class="token punctuation">)</span>
	<span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">"xxx"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><details class="hint-container details"><summary>æ‰§è¡Œç»“æœ</summary>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>æ­¤è¡Œå¯ä»¥è¢«æ‰§è¡Œåˆ°
panic: xxx

goroutine 1 [running]:
main.main()
        D:/code/test/test/main.go:7 +0x59
exit status 2
</code></pre></div></details>
<h3>é‡è§os.Exit</h3>
<blockquote>
<p>ä¸»åŠ¨è°ƒç”¨os.Exit(int)é€€å‡ºè¿›ç¨‹æ—¶ï¼Œdeferå°†ä¸å†è¢«æ‰§è¡Œ</p>
</blockquote>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"fmt"</span>
	<span class="token string">"os"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"defer"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"some thing..."</span><span class="token punctuation">)</span>
	os<span class="token punctuation">.</span><span class="token function">Exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><details class="hint-container details"><summary>æ‰§è¡Œç»“æœ</summary>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>some thing...
exit status 1
</code></pre></div></details>
<h2>å»¶è¿Ÿå‡½æ•°ä½“</h2>
<h3>å»¶è¿Ÿå‡½æ•°ä½“æœªä¼ å‚</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">DeferDemo3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span>
	<span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	i <span class="token operator">=</span> <span class="token number">2</span>
<span class="token punctuation">}</span>
</code></pre></div><details class="hint-container details"><summary>æ‰§è¡Œç»“æœ</summary>
<p>2</p>
</details>
<h3>å»¶è¿Ÿå‡½æ•°ä½“ä¼ å‚</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">DeferDemo4</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span>
	<span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span>i <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
	i <span class="token operator">=</span> <span class="token number">2</span>
<span class="token punctuation">}</span>
</code></pre></div><details class="hint-container details"><summary>æ‰§è¡Œç»“æœ</summary>
<p>1</p>
</details>
<p>demo3å’Œdemo4çš„å”¯ä¸€åŒºåˆ«æ˜¯æ‰§è¡Œå‡½æ•°ä½“æ˜¯å¦ä¼ å‚ï¼Œå´å¾—åˆ°å®Œå…¨ä¸åŒçš„ç»“æœã€‚</p>
<ul>
<li>demo3æ²¡æœ‰ä¼ å‚ï¼Œæ— æ³•ç›´æ¥è®¡ç®—ï¼Œä½†æ˜¯å¯ä»¥å¼•ç”¨</li>
<li>demo4ä¼ å…¥å‚æ•°ï¼Œå¯ä»¥ç›´æ¥è®¡ç®—</li>
</ul>
<h2>å¯èƒ½ä¼šæ“ä½œå¹¶å½±å“è¿”å›å€¼</h2>
<h3>å‡½æ•°ç­¾åè¿”å›å…·åè¿”å›å€¼</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">DeferDemo5</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>result <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	i <span class="token operator">:=</span> <span class="token number">1</span>
	<span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		result<span class="token operator">++</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> i
<span class="token punctuation">}</span>
</code></pre></div><details class="hint-container details"><summary>æ‰§è¡Œç»“æœ</summary>
<p>2</p>
</details>
<p>è¿™æ˜¯ç”±äºreturnå¹¶éåŸå­æ“ä½œï¼Œä¸Šé¢å‡½æ•°ç­‰ä»·äº</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">DeferDemo5</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>result <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  i <span class="token operator">:=</span> <span class="token number">1</span>
  result <span class="token operator">=</span> i
  result<span class="token operator">++</span>
  <span class="token keyword">return</span>
<span class="token punctuation">}</span>
</code></pre></div><h3>å‡½æ•°ç­¾åè¿”å›åŒ¿åè¿”å›å€¼</h3>
<div class="hint-container caution">
<p class="hint-container-title">è­¦å‘Š</p>
<p>è¿™ç§æƒ…å†µä¸‹deferè¯­å¥å¯ä»¥å¼•ç”¨è¿”å›å€¼ï¼Œä½†ä¸ä¼šæ”¹å˜è¿”å›å€¼</p>
</div>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">DeferDemo6</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
	i <span class="token operator">:=</span> <span class="token number">1</span>
	<span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		i<span class="token operator">++</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> i
<span class="token punctuation">}</span>
</code></pre></div><details class="hint-container details"><summary>æ‰§è¡Œç»“æœ</summary>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">ExampleDeferDemo6</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">DeferDemo6</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token comment">// Output:</span>
	<span class="token comment">// 1</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¿™é‡Œç­‰ä»·äºè¿”å›äº†ä¸€ä¸ª<code>anony</code>çš„åŒ¿åå˜é‡ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">DeferDemo6</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>anony <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	i <span class="token operator">:=</span> <span class="token number">1</span>
  anony <span class="token operator">=</span> i
  i<span class="token operator">++</span>
	<span class="token keyword">return</span> anony
<span class="token punctuation">}</span>
</code></pre></div></details>
<h3>æ˜¾ç¤ºreturnå¸¸é‡ä¹Ÿå¯èƒ½ä¼šå½±å“è¿”å›å€¼</h3>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">DeferDemo7</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>result <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		result<span class="token operator">++</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre></div><details class="hint-container details"><summary>æ‰§è¡Œç»“æœ</summary>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">ExampleDeferDemo7</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">DeferDemo7</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token comment">// Output:</span>
	<span class="token comment">// 1</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è™½ç„¶æ˜¾ç¤ºè¿”å›0ï¼Œä½†ç”±äºreturnä¸æ˜¯åŸå­æ“ä½œã€‚ç­‰ä»·äºï¼š</p>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">DeferDemo7</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>result <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	result <span class="token operator">=</span> <span class="token number">0</span>
	result<span class="token operator">++</span>
	<span class="token keyword">return</span> 
<span class="token punctuation">}</span>
</code></pre></div></details>
<h2>å¯èƒ½ä¼šé€ æˆçŸ­æš‚æ€§å†…å­˜æ³„æ¼</h2>
<blockquote>
<p>å½“éœ€è¦å¤„ç†å¤§é‡çš„æ–‡ä»¶ï¼Œä¸‹é¢å‡½æ•°é€€å‡ºä¹‹å‰ï¼Œå°†æœ‰å¤§é‡çš„æ–‡ä»¶å¥æŸ„å¾—ä¸åˆ°é‡Šæ”¾ã€‚</p>
</blockquote>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">writeManyFiles</span><span class="token punctuation">(</span>files <span class="token punctuation">[</span><span class="token punctuation">]</span>File<span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> file <span class="token operator">:=</span> <span class="token keyword">range</span> files <span class="token punctuation">{</span>
		f<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>path<span class="token punctuation">)</span>
		<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> err
		<span class="token punctuation">}</span>
		<span class="token keyword">defer</span> f<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

		<span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">=</span> f<span class="token punctuation">.</span><span class="token function">WriteString</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>content<span class="token punctuation">)</span>
		<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> err
		<span class="token punctuation">}</span>

		err <span class="token operator">=</span> f<span class="token punctuation">.</span><span class="token function">Sync</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> err
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote>
<p>å¯¹ä¸Šé¢çš„å‡½æ•°æ”¹è¿›å¦‚ä¸‹ï¼š</p>
</blockquote>
<div class="language-go" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">writeManyFiles</span><span class="token punctuation">(</span>files <span class="token punctuation">[</span><span class="token punctuation">]</span>File<span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> file <span class="token operator">:=</span> <span class="token keyword">range</span> files <span class="token punctuation">{</span>
		<span class="token keyword">if</span> err <span class="token operator">:=</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
			f<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>path<span class="token punctuation">)</span>
			<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> err
			<span class="token punctuation">}</span>
			<span class="token keyword">defer</span> f<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// å°†åœ¨æ­¤å¾ªç¯æ­¥å†…æ‰§è¡Œ</span>

			<span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">=</span> f<span class="token punctuation">.</span><span class="token function">WriteString</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>content<span class="token punctuation">)</span>
			<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> err
			<span class="token punctuation">}</span>

			<span class="token keyword">return</span> f<span class="token punctuation">.</span><span class="token function">Sync</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> err
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">}</span>
</code></pre></div>]]></content>
    <category term="ç¼–ç¨‹è¯­è¨€"/>
    <published>2023-08-27T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">Goä¹‹ç¦…</title>
    <id>http://blog.cjhe.top/language/go/reprint/zen.html</id>
    <link href="http://blog.cjhe.top/language/go/reprint/zen.html"/>
    <updated>2024-05-15T10:01:59.000Z</updated>
    <summary type="html"><![CDATA[<blockquote>
<p>Pythonçš„æ ¸å¿ƒå¼€å‘æˆå‘˜ä¹‹ä¸€Tim Peterå†™ä¸‹çš„ã€ŠThe Zen of Pythonã€‹ï¼Œæˆä¸ºPythonç¼–ç¨‹å’Œè®¾è®¡çš„æŒ‡å¯¼åŸåˆ™ã€‚Goè¯­è¨€æ­¥é“å¸ˆDave Cheney 2020å¹´å‘è¡¨äº†åä¸ºã€ŠThe Zen of Goã€‹</p>
</blockquote>
]]></summary>
    <content type="html"><![CDATA[<blockquote>
<p>Pythonçš„æ ¸å¿ƒå¼€å‘æˆå‘˜ä¹‹ä¸€Tim Peterå†™ä¸‹çš„ã€ŠThe Zen of Pythonã€‹ï¼Œæˆä¸ºPythonç¼–ç¨‹å’Œè®¾è®¡çš„æŒ‡å¯¼åŸåˆ™ã€‚Goè¯­è¨€æ­¥é“å¸ˆDave Cheney 2020å¹´å‘è¡¨äº†åä¸ºã€ŠThe Zen of Goã€‹</p>
</blockquote>
<!-- more -->
<h2>è¯‘æ–‡</h2>
<h3>Each package fulfils a single purpose æ¯ä¸€ä¸ªpackageå®ç°å•ä¸€ç›®æ ‡</h3>
<p>A well designed Go package provides a single idea, a set of related behaviours. A good Go package starts by choosing a good name. Think of your packageâ€™s name as an elevator pitch to describe what it provides, using just one word.
ç²¾å¿ƒè®¾è®¡çš„Goè½¯ä»¶åŒ…åªæä¾›å•ä¸€åŠŸèƒ½å’Œä¸€ç³»åˆ—ç›¸å…³çš„è¡Œä¸ºã€‚ä¸€ä¸ªå¥½çš„Goè½¯ä»¶åŒ…ä»é€‰æ‹©ä¸€ä¸ªå¥½çš„åå­—å¼€å§‹ã€‚æŠŠä½ çš„åŒ…çš„åå­—æƒ³è±¡æˆä¸€ä¸ªç”µæ¢¯å¹¿å‘Šï¼Œä»…ç”¨ä¸€ä¸ªè¯æ¥æè¿°å®ƒæ‰€æä¾›çš„åŠŸèƒ½ã€‚</p>
<h3>Handle errors explicitly æ˜¾å¼å¤„ç†é”™è¯¯</h3>
<p>Robust programs are composed from pieces that handle the failure cases before they pat themselves on the back. The verbosity of if err != nil { return err } is outweighed by the value of deliberately handling each failure condition at the point at which they occur. Panic and recover are not exceptions, they arenâ€™t intended to be used that way.
å¥å£®çš„ç¨‹åºæ˜¯ç”±å¤„ç†å¤±è´¥caseçš„å„ä¸ªç‰‡æ®µç»„æˆçš„ã€‚ å†—é•¿çš„<code>if err != nil { return err }</code> æ¯”å‡ºäº†æ•…éšœå†ä¸€ä¸ªä¸ªå»å¤„ç†æ›´æœ‰ä»·å€¼ã€‚Panicå’Œrecoverä¹Ÿä¸€æ ·ã€‚</p>
<h3>Return early rather than nesting deeply å°½æ—©returnï¼Œä¸è¦æ·±é™·</h3>
<p>Every time you indent you add another precondition to the programmerâ€™s stack consuming one of the 7 Â±2 slots in their short term memory. Avoid control flow that requires deep indentation. Rather than nesting deeply, keep the success path to the left using guard clauses.
æ¯ç¼©è¿›ä¸€æ¬¡ï¼Œå°±ä¼šåœ¨ç¨‹åºå‘˜çš„å †æ ˆä¸­å¢åŠ ä¸€ä¸ªå‰ææ¡ä»¶ï¼Œå ç”¨å…¶çŸ­æ—¶è®°å¿†ä¸­ 7 Â±2 ä¸ªæ’æ§½ä¸­çš„ä¸€ä¸ªã€‚é¿å…éœ€è¦æ·±åº¦ç¼©è¿›çš„æ§åˆ¶æµã€‚ä¸å…¶æ·±åº¦åµŒå¥—ï¼Œä¸å¦‚ä½¿ç”¨ä¿æŠ¤å­å¥å°†æˆåŠŸè·¯å¾„ä¿æŒåœ¨å·¦ä¾§ã€‚</p>
<h3>Leave concurrency to the caller å¹¶å‘æƒç•™ç»™è°ƒç”¨è€…</h3>
<p>Let the caller choose if they want to run your library or function asynchronously, donâ€™t force it on them. If your library uses concurrency it should do so transparently.
è®©è°ƒç”¨è€…è‡ªå·±é€‰æ‹©æ˜¯å¦è¦å¼‚æ­¥è¿è¡Œä½ çš„åº“æˆ–å‡½æ•°ï¼Œä¸è¦å¼ºè¿«ä»–ä»¬ã€‚å¦‚æœæ‚¨çš„ç¨‹åºåº“ä½¿ç”¨å¹¶å‘åŠŸèƒ½ï¼Œåˆ™åº”é€æ˜åœ°ä½¿ç”¨ã€‚</p>
<h3>Before you launch a goroutine, know when it will stop åœ¨å¯åŠ¨goroutineä¹‹å‰ï¼Œè¦çŸ¥é“å®ƒä»€ä¹ˆæ—¶å€™ä¼šåœæ­¢</h3>
<p>Goroutines own resources; locks, variables, memory, etc. The sure fire way to free those resources is to stop the owning goroutine.
goroutine æ‹¥æœ‰é”ã€å˜é‡ã€å†…å­˜ç­‰èµ„æºã€‚é‡Šæ”¾è¿™äº›èµ„æºçš„å¯é æ–¹æ³•æ˜¯åœæ­¢æ‹¥æœ‰èµ„æºçš„ goroutineã€‚</p>
<h3>Avoid package level state é¿å…åŒ…çº§çŠ¶æ€</h3>
<p>Seek to be explicit, reduce coupling, and spooky action at a distance by providing the dependencies a type needs as fields on that type rather than using package variables.
é€šè¿‡å°†ç±»å‹æ‰€éœ€çš„ä¾èµ–å…³ç³»ä½œä¸ºè¯¥ç±»å‹çš„å­—æ®µè€Œä¸æ˜¯ä½¿ç”¨åŒ…å˜é‡æ¥æä¾›ï¼ŒåŠ›æ±‚æ˜¾å¼åŒ–ï¼Œå‡å°‘è€¦åˆï¼Œå¹¶å®ç°è¶…è·ä½œç”¨ã€‚</p>
<h3>Simplicity matters ç®€å•å¾ˆé‡è¦</h3>
<p>Simplicity is not a synonym for unsophisticated. Simple doesnâ€™t mean crude, it means readable and maintainable. When it is possible to choose, defer to the simpler solution.
ç®€å•ä¸æ˜¯å®¹æ˜“ï¼ˆä¸å¤æ‚ï¼‰çš„åŒä¹‰è¯ã€‚ç®€å•å¹¶ä¸æ„å‘³ç€ç²—ç³™ï¼Œå®ƒæ„å‘³ç€å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚å¦‚æœå¯ä»¥é€‰æ‹©ï¼Œè¯·éµå¾ªè¾ƒç®€å•çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<h3>Write tests to lock in the behaviour of your packageâ€™s API ç¼–å†™æµ‹è¯•ä»¥ç¡®å®šåŒ…APIçš„è¡Œä¸º</h3>
<p>Test first or test later, if you shoot for 100% test coverage or are happy with less, regardless your packageâ€™s API is your contract with its users. Tests are the guarantees that those contracts are written in. Make sure you test for the behaviour that users can observe and rely on.
å…ˆæµ‹è¯•è¿˜æ˜¯åæµ‹è¯•ï¼Œæ˜¯è¿½æ±‚ 100% çš„æµ‹è¯•è¦†ç›–ç‡è¿˜æ˜¯æ»¡è¶³äºè¾ƒä½çš„æµ‹è¯•è¦†ç›–ç‡ï¼Œæ— è®ºå¦‚ä½•ï¼Œè½¯ä»¶åŒ…çš„åº”ç”¨ç¨‹åºæ¥å£éƒ½æ˜¯æ‚¨ä¸ç”¨æˆ·ä¹‹é—´çš„å¥‘çº¦ã€‚æµ‹è¯•æ˜¯è¿™äº›åˆçº¦çš„ä¿è¯ã€‚è¯·ç¡®ä¿æ‚¨æµ‹è¯•çš„æ˜¯ç”¨æˆ·å¯ä»¥è§‚å¯Ÿå’Œä¾èµ–çš„è¡Œä¸ºã€‚</p>
<h3>If you think itâ€™s slow, first prove it with a benchmark å¦‚æœä½ è§‰å¾—æ…¢ï¼Œå…ˆç”¨åŸºå‡†æ¥è¯æ˜</h3>
<p>So many crimes against maintainability are committed in the name of performance. Optimisation tears down abstractions, exposes internals, and couples tightly. If youâ€™re choosing to shoulder that cost, ensure it is done for good reason.
ä»¥æ€§èƒ½ä¸ºåï¼Œå¯¹å¯ç»´æŠ¤æ€§çŠ¯ä¸‹äº†è®¸å¤šç½ªè¡Œã€‚ä¼˜åŒ–ä¼šç ´åæŠ½è±¡æ¦‚å¿µï¼Œæš´éœ²å†…éƒ¨ç»“æ„ï¼Œå¹¶é€ æˆç´§å¯†è€¦åˆã€‚å¦‚æœä½ é€‰æ‹©æ‰¿æ‹…è¿™ç§ä»£ä»·ï¼Œè¯·ç¡®ä¿è¿™æ ·åšæ˜¯æœ‰å……åˆ†ç†ç”±çš„ã€‚</p>
<h3>Moderation is a virtue èŠ‚åˆ¶æ˜¯ä¸€ç§ç¾å¾·</h3>
<p>Use goroutines, channels, locks, interfaces, embedding, in moderation.
é€‚åº¦ä½¿ç”¨goroutinesã€channelsã€locksã€interfacesã€embeddedã€‚</p>
<h3>Maintainability counts å¯ç»´æŠ¤æ€§å¾ˆé‡è¦</h3>
<p>Clarity, readability, simplicity, are all aspects of maintainability. Can the thing you worked hard to build be maintained after youâ€™re gone? What can you do today to make it easier for those that come after you?
æ¸…æ™°åº¦ã€å¯è¯»æ€§ã€ç®€æ´æ€§éƒ½æ˜¯å¯ç»´æŠ¤æ€§çš„ä½“ç°ã€‚ä½ è¾›è¾›è‹¦è‹¦åˆ›å»ºçš„ä¸œè¥¿åœ¨ä½ ç¦»å¼€åè¿˜èƒ½è¢«ç»´æŠ¤å—ï¼Ÿä½ ä»Šå¤©èƒ½åšäº›ä»€ä¹ˆæ¥è®©ä½ çš„åäººæ›´å®¹æ˜“åœ°ç»´æŠ¤å®ƒï¼Ÿ</p>
<h2>å‚è€ƒæ–‡çŒ®</h2>
<p><a href="https://the-zen-of-go.netlify.app" target="_blank" rel="noopener noreferrer">ç®€æ´ç‰ˆ</a>
<a href="https://dave.cheney.net/2020/02/23/the-zen-of-go" target="_blank" rel="noopener noreferrer">å®Œæ•´ç‰ˆ</a></p>
]]></content>
    <author>
      <name>Dave Cheney</name>
    </author>
    <category term="ç¼–ç¨‹è¯­è¨€"/>
    <contributor>
      <name>Dave Cheney</name>
    </contributor>
    <published>2023-08-15T00:00:00.000Z</published>
    <rights>Copyright by Dave Cheney</rights>
  </entry>
  <entry>
    <title type="text">Goç®´è¨€</title>
    <id>http://blog.cjhe.top/language/go/reprint/proverb.html</id>
    <link href="http://blog.cjhe.top/language/go/reprint/proverb.html"/>
    <updated>2024-05-15T10:01:59.000Z</updated>
    <summary type="html"><![CDATA[<p>ã€è½¬ã€‘<a href="http://go-proverbs.github.io/" target="_blank" rel="noopener noreferrer">åŸæ–‡é“¾æ¥</a></p>
]]></summary>
    <content type="html"><![CDATA[<p>ã€è½¬ã€‘<a href="http://go-proverbs.github.io/" target="_blank" rel="noopener noreferrer">åŸæ–‡é“¾æ¥</a></p>
<!-- more -->
<blockquote>
<p>Go è¯­è¨€ä¹‹çˆ¶ Rob Pike åœ¨ 2015 å¹´åˆ†äº«çš„ä¸»é¢˜ã€ŠGo Proverbsã€‹</p>
<p>æ ¸å¿ƒç†å¿µæ˜¯ï¼šç®€å•ã€è¯—æ„ã€ç®€æ´ï¼ˆSimple, Poetic, Pithyï¼‰ã€‚</p>
</blockquote>
<h2>è¯‘æ–‡</h2>
<p>Don't communicate by sharing memory, share memory by communicating.
ä¸è¦é€šè¿‡å…±äº«å†…å­˜è¿›è¡Œé€šä¿¡ï¼Œé€šè¿‡é€šä¿¡å…±äº«å†…å­˜</p>
<p>Concurrency is not parallelism.
å¹¶å‘ä¸æ˜¯å¹¶è¡Œ</p>
<p>Channels orchestrate; mutexes serialize.
ç®¡é“ç”¨äºåè°ƒï¼›äº’æ–¥é”ç”¨äºåŒæ­¥</p>
<p>The bigger the interface, the weaker the abstraction.
æ¥å£è¶Šå¤§ï¼ŒæŠ½è±¡å°±è¶Šå¼±</p>
<p>Make the zero value useful.
åˆ©ç”¨å¥½é›¶å€¼</p>
<p>interface{} says nothing.
ç©ºæ¥å£ interface{} æ²¡æœ‰ä»»ä½•ç±»å‹çº¦æŸ</p>
<p>Gofmt's style is no one's favorite, yet gofmt is everyone's favorite.
Gofmt çš„é£æ ¼ä¸æ˜¯äººä»¬æœ€å–œæ¬¢çš„ï¼Œä½† gofmt æ˜¯æ¯ä¸ªäººçš„æœ€çˆ±</p>
<p>A little copying is better than a little dependency.
å…è®¸ä¸€ç‚¹ç‚¹é‡å¤æ¯”å¼•å…¥ä¸€ç‚¹ç‚¹ä¾èµ–æ›´å¥½</p>
<p>Syscall must always be guarded with build tags.
ç³»ç»Ÿè°ƒç”¨å¿…é¡»å§‹ç»ˆä½¿ç”¨æ„å»ºæ ‡è®°è¿›è¡Œä¿æŠ¤</p>
<p>Cgo must always be guarded with build tags.
å¿…é¡»å§‹ç»ˆä½¿ç”¨æ„å»ºæ ‡è®°ä¿æŠ¤ Cgo</p>
<p>Cgo is not Go.
Cgo ä¸æ˜¯ Goã€‚</p>
<p>With the unsafe package there are no guarantees.
ä½¿ç”¨æ ‡å‡†åº“çš„ unsafe åŒ…ï¼Œä¸èƒ½ä¿è¯èƒ½å¦‚æœŸè¿è¡Œ</p>
<p>Clear is better than clever.
æ¸…æ™°æ¯”èªæ˜æ›´å¥½</p>
<p>Reflection is never clear.
åå°„æ°¸è¿œä¸æ¸…æ™°</p>
<p>Errors are values.
é”™è¯¯æ˜¯å€¼</p>
<p>Don't just check errors, handle them gracefully.
ä¸è¦åªæ£€æŸ¥é”™è¯¯ï¼Œè¿˜è¦ä¼˜é›…åœ°å¤„ç†å®ƒä»¬</p>
<p>Design the architecture, name the components, document the details.
è®¾è®¡æ¶æ„ï¼Œå‘½åç»„ä»¶ï¼Œæ–‡æ¡£è®°å½•ç»†èŠ‚</p>
<p>Documentation is for users.
æ–‡æ¡£æ˜¯ä¾›ç”¨æˆ·ä½¿ç”¨çš„</p>
<p>Don't panic.
ä¸è¦ä½¿ç”¨ panic</p>
<h2>å‚è€ƒæ–‡çŒ®</h2>
<p><a href="http://go-proverbs.github.io/" target="_blank" rel="noopener noreferrer">åŸæ–‡é“¾æ¥</a>
<a href="https://zhuanlan.zhihu.com/p/514680942" target="_blank" rel="noopener noreferrer">ä¸­æ–‡è¯‘æ–‡</a></p>
]]></content>
    <author>
      <name>Rob Pike</name>
    </author>
    <category term="ç¼–ç¨‹è¯­è¨€"/>
    <contributor>
      <name>Rob Pike</name>
    </contributor>
    <published>2023-08-15T00:00:00.000Z</published>
    <rights>Copyright by Rob Pike</rights>
  </entry>
  <entry>
    <title type="text">å˜æ›´æ—¥å¿—</title>
    <id>http://blog.cjhe.top/CHANGELOG.html</id>
    <link href="http://blog.cjhe.top/CHANGELOG.html"/>
    <updated>2024-12-10T07:18:45.000Z</updated>
    <summary type="text">v0.12.8 (2024-12-10)
âœ¨Features

devops: Dockerä¿®æ”¹é»˜è®¤å­˜å‚¨ä½ç½®
open-source-project: é€šç”¨çš„åå°ç®¡ç†ç³»ç»Ÿ


v0.12.7 (2024-12-03)
âœ¨Features

database: å¢åŠ minioé›†ç¾¤dockeréƒ¨ç½²


v0.12.6 (2024-12-03)
ğŸ›Bug ...</summary>
    <content type="html"><![CDATA[<!-- more -->
<p><a name="v0.12.8"></a></p>
<h2><a class="header-anchor" href="#v0-12-8-2024-12-10"><span></span></a><a href="https://github.com/Hexiaopi/hexiaopi.github.io/compare/v0.12.7...v0.12.8" target="_blank" rel="noopener noreferrer">v0.12.8</a> (2024-12-10)</h2>
<h3>âœ¨Features</h3>
<ul>
<li><strong>devops:</strong> Dockerä¿®æ”¹é»˜è®¤å­˜å‚¨ä½ç½®</li>
<li><strong>open-source-project:</strong> é€šç”¨çš„åå°ç®¡ç†ç³»ç»Ÿ</li>
</ul>
<p><a name="v0.12.7"></a></p>
<h2><a class="header-anchor" href="#v0-12-7-2024-12-03"><span></span></a><a href="https://github.com/Hexiaopi/hexiaopi.github.io/compare/v0.12.6...v0.12.7" target="_blank" rel="noopener noreferrer">v0.12.7</a> (2024-12-03)</h2>
<h3>âœ¨Features</h3>
<ul>
<li><strong>database:</strong> å¢åŠ minioé›†ç¾¤dockeréƒ¨ç½²</li>
</ul>
<p><a name="v0.12.6"></a></p>
<h2><a class="header-anchor" href="#v0-12-6-2024-12-03"><span></span></a><a href="https://github.com/Hexiaopi/hexiaopi.github.io/compare/v0.12.5...v0.12.6" target="_blank" rel="noopener noreferrer">v0.12.6</a> (2024-12-03)</h2>
<h3>ğŸ›Bug Fixes</h3>
<ul>
<li>ä¿®å¤ä¸€äº›é—®é¢˜</li>
<li><strong>langauge:</strong> ä¿®æ”¹sync.Onceå¢åŠ æ³¨æ„äº‹é¡¹</li>
<li><strong>language:</strong> ä¿®æ”¹go sliceæ³¨æ„äº‹é¡¹</li>
<li><strong>language:</strong> ä¿®å¤ä¸€äº›é—®é¢˜</li>
<li><strong>language:</strong> ä¿®å¤ä¸€äº›é—®é¢˜</li>
</ul>
<h3>âœ¨Features</h3>
<ul>
<li><strong>database:</strong> å¢åŠ postgresqlé›†ç¾¤dockeréƒ¨ç½²</li>
<li><strong>language:</strong> å¢åŠ Goè¯­è¨€errgroupçš„ä½¿ç”¨ç¤ºä¾‹å’Œæºç åˆ†æ</li>
</ul>
<p><a name="v0.12.5"></a></p>
<h2><a class="header-anchor" href="#v0-12-5-2024-09-24"><span></span></a><a href="https://github.com/Hexiaopi/hexiaopi.github.io/compare/v0.12.4...v0.12.5" target="_blank" rel="noopener noreferrer">v0.12.5</a> (2024-09-24)</h2>
<h3>âœ¨Features</h3>
<ul>
<li><strong>devops:</strong> å¢åŠ gpuéƒ¨ç½²k8s</li>
<li><strong>language:</strong> å¢åŠ Goè¯­è¨€sync.Condåº•å±‚åŸç†</li>
<li><strong>language:</strong> å¢åŠ sync.Onceåº•å±‚åŸç†</li>
<li><strong>network:</strong> å¢åŠ SSEæ¶ˆæ¯æ¨é€</li>
<li><strong>open-source-project:</strong> æ·»åŠ æˆ‘çš„å¼€æºé¡¹ç›®</li>
</ul>
<p><a name="v0.12.4"></a></p>
<h2><a class="header-anchor" href="#v0-12-4-2024-08-29"><span></span></a><a href="https://github.com/Hexiaopi/hexiaopi.github.io/compare/v0.12.3...v0.12.4" target="_blank" rel="noopener noreferrer">v0.12.4</a> (2024-08-29)</h2>
<h3>ğŸ›Bug Fixes</h3>
<ul>
<li><strong>design-pattern:</strong> ä¿®æ”¹åŸå‹æ¨¡å¼</li>
<li><strong>design-pattern:</strong> ä¿®å¤goè¯­è¨€è£…é¥°å™¨æ¨¡å¼åŒåç»“æ„ä½“ä¸å‡½æ•°é‡å¤é—®é¢˜</li>
<li><strong>design-pattern:</strong> è£…é¥°å™¨è®¾è®¡æ¨¡å¼å¢åŠ å’Œç»§æ‰¿çš„å¯¹æ¯”</li>
<li><strong>language:</strong> ä¿®æ”¹å†…å­˜å¯¹é½</li>
</ul>
<h3>â™»ï¸Code Refactoring</h3>
<ul>
<li>è°ƒæ•´tag</li>
</ul>
<h3>âœ¨Features</h3>
<ul>
<li><strong>database:</strong> å¢åŠ é˜¿é‡Œå·´å·´MySQLå¼€å‘è§„èŒƒ</li>
<li><strong>language:</strong> å¢åŠ Goè¯­è¨€Contextæ·±å…¥æºç åˆ†æ</li>
<li><strong>language:</strong> å¢åŠ Goè¯­è¨€Contextä½¿ç”¨æ–¹æ³•ä¸åœºæ™¯</li>
</ul>
<p><a name="v0.12.3"></a></p>
<h2><a class="header-anchor" href="#v0-12-3-2024-07-12"><span></span></a><a href="https://github.com/Hexiaopi/hexiaopi.github.io/compare/v0.12.2...v0.12.3" target="_blank" rel="noopener noreferrer">v0.12.3</a> (2024-07-12)</h2>
<h3>âœ¨Features</h3>
<ul>
<li><strong>language:</strong> å¢åŠ Goè¯­è¨€åœ¨Dockerç¯å¢ƒä¸‹è®¾ç½®maxprocs</li>
</ul>
<p><a name="v0.12.2"></a></p>
<h2><a class="header-anchor" href="#v0-12-2-2024-06-23"><span></span></a><a href="https://github.com/Hexiaopi/hexiaopi.github.io/compare/v0.12.1...v0.12.2" target="_blank" rel="noopener noreferrer">v0.12.2</a> (2024-06-23)</h2>
<h3>ğŸ›Bug Fixes</h3>
<ul>
<li><strong>language:</strong> ä¿®æ”¹Goå‘½ä»¤</li>
</ul>
<h3>â™»ï¸Code Refactoring</h3>
<ul>
<li><strong>language:</strong> Goç»ƒä¹ å’Œç¤¾åŒºå’Œæ–‡ç« </li>
</ul>
<h3>âœ¨Features</h3>
<ul>
<li><strong>language:</strong> å¢åŠ goè¯­è¨€å†…å­˜å¯¹é½</li>
<li><strong>language:</strong> å¢åŠ go command</li>
<li><strong>language:</strong> å¢åŠ Goæµ‹è¯•MySQL</li>
</ul>
<p><a name="v0.12.1"></a></p>
<h2><a class="header-anchor" href="#v0-12-1-2024-05-29"><span></span></a><a href="https://github.com/Hexiaopi/hexiaopi.github.io/compare/v0.12.0...v0.12.1" target="_blank" rel="noopener noreferrer">v0.12.1</a> (2024-05-29)</h2>
<h3>ğŸ›Bug Fixes</h3>
<ul>
<li><strong>language:</strong> ä¿®æ”¹Goç¦æ­¢æ‹·è´</li>
<li><strong>language:</strong> è¡¥å……goè¯­è¨€ä¸€äº›ç¤ºä¾‹</li>
</ul>
<h3>â™»ï¸Code Refactoring</h3>
<ul>
<li>httpé“¾æ¥æ”¹ä¸ºhttps</li>
<li>è°ƒæ•´devopså’Œdatabaseå†…å®¹</li>
<li>é¡ºåºè°ƒæ•´</li>
</ul>
<h3>âœ¨Features</h3>
<ul>
<li><strong>database:</strong> å¢åŠ nacosç›‘æ§</li>
<li><strong>database:</strong> å¢åŠ mysqlç›¸å…³å›¾</li>
<li><strong>go:</strong> å¢åŠ Goè¯­è¨€sync.Mapåº•å±‚åŸç†</li>
<li><strong>language:</strong> Goå¦‚ä½•ç¦æ­¢æ‹·è´</li>
</ul>
<p><a name="v0.12.0"></a></p>
<h2><a class="header-anchor" href="#v0-12-0-2024-05-12"><span></span></a><a href="https://github.com/Hexiaopi/hexiaopi.github.io/compare/v0.11.4...v0.12.0" target="_blank" rel="noopener noreferrer">v0.12.0</a> (2024-05-12)</h2>
<h3>ğŸ›Bug Fixes</h3>
<ul>
<li>ä¿®æ”¹ä¸ªäººä¿¡æ¯</li>
</ul>
<h3>â™»ï¸Code Refactoring</h3>
<ul>
<li>è°ƒæ•´å›¾æ ‡</li>
</ul>
<h3>âœ¨Features</h3>
<ul>
<li><strong>devops:</strong> å¢åŠ makefileéƒ¨ç½²k8såº”ç”¨</li>
<li><strong>devops:</strong> å¢åŠ chartmuseum</li>
<li><strong>share:</strong> å¢åŠ åäºŒå› ç´ åº”ç”¨åŸåˆ™</li>
</ul>
<p><a name="v0.11.4"></a></p>
<h2><a class="header-anchor" href="#v0-11-4-2024-05-07"><span></span></a><a href="https://github.com/Hexiaopi/hexiaopi.github.io/compare/v0.11.3...v0.11.4" target="_blank" rel="noopener noreferrer">v0.11.4</a> (2024-05-07)</h2>
<h3>â™»ï¸Code Refactoring</h3>
<ul>
<li><strong>database:</strong> è°ƒæ•´åˆ†å¸ƒå¼é”</li>
</ul>
<h3>âœ¨Features</h3>
<ul>
<li><strong>database:</strong> å¢åŠ åŸºäºRediså®ç°æ¶ˆæ¯åˆ°æœŸæé†’</li>
</ul>
<p><a name="v0.11.3"></a></p>
<h2><a class="header-anchor" href="#v0-11-3-2024-05-07"><span></span></a><a href="https://github.com/Hexiaopi/hexiaopi.github.io/compare/v0.11.2...v0.11.3" target="_blank" rel="noopener noreferrer">v0.11.3</a> (2024-05-07)</h2>
<h3>ğŸ›Bug Fixes</h3>
<ul>
<li><strong>design-pattern:</strong> ä¿®æ”¹icon</li>
<li><strong>language:</strong> vueç»„ä»¶é€šä¿¡å¢åŠ slot</li>
<li><strong>language:</strong> vueç»„ä»¶é€šä¿¡å¢åŠ pinia</li>
<li><strong>language:</strong> vueç»„ä»¶é€šä¿¡å¢åŠ provideå’Œinject</li>
<li><strong>language:</strong> vueç»„ä»¶é€šä¿¡å¢åŠ refå’Œ$parent</li>
<li><strong>language:</strong> vueç»„ä»¶é€šä¿¡å¢åŠ useAttrs</li>
<li><strong>language:</strong> vueç»„ä»¶é€šä¿¡å¢åŠ v-model</li>
</ul>
<p><a name="v0.11.2"></a></p>
<h2><a class="header-anchor" href="#v0-11-2-2024-05-06"><span></span></a><a href="https://github.com/Hexiaopi/hexiaopi.github.io/compare/v0.11.1...v0.11.2" target="_blank" rel="noopener noreferrer">v0.11.2</a> (2024-05-06)</h2>
<h3>ğŸ›Bug Fixes</h3>
<ul>
<li>å¢åŠ icon</li>
<li>æ ·å¼è°ƒæ•´</li>
<li><strong>devops:</strong> helm-dashboardæ”¯æŒå…ˆè¡Œç‰ˆæœ¬</li>
</ul>
<h3>â™»ï¸Code Refactoring</h3>
<ul>
<li>è°ƒæ•´ç¼–ç¨‹è¯­è¨€</li>
</ul>
<h3>âœ¨Features</h3>
<ul>
<li><strong>language:</strong> vueå¢åŠ ç»„ä»¶é€šä¿¡</li>
</ul>
<p><a name="v0.11.1"></a></p>
<h2><a class="header-anchor" href="#v0-11-1-2024-04-23"><span></span></a><a href="https://github.com/Hexiaopi/hexiaopi.github.io/compare/v0.11.0...v0.11.1" target="_blank" rel="noopener noreferrer">v0.11.1</a> (2024-04-23)</h2>
<h3>ğŸ›Bug Fixes</h3>
<ul>
<li>ä¿®æ”¹ä½œè€…</li>
<li>ä¿®æ”¹title</li>
<li><strong>network:</strong> ç§»åŠ¨ICMPåè®®</li>
</ul>
<h3>â™»ï¸Code Refactoring</h3>
<ul>
<li>ä¼˜åŒ–changelog</li>
</ul>
<h3>âœ¨Features</h3>
<ul>
<li><strong>devops:</strong> å¢åŠ minioç›‘æ§</li>
<li><strong>devops:</strong> å¢åŠ mongodbç›‘æ§</li>
<li><strong>go-language:</strong> å¢åŠ åœ¨çº¿ä¹¦ç±</li>
</ul>
<p><a name="v0.11.0"></a></p>
<h2><a class="header-anchor" href="#v0-11-0-2024-04-14"><span></span></a><a href="https://github.com/Hexiaopi/hexiaopi.github.io/compare/v0.10.1...v0.11.0" target="_blank" rel="noopener noreferrer">v0.11.0</a> (2024-04-14)</h2>
<h3>ğŸ›Bug Fixes</h3>
<ul>
<li>ä¿®æ”¹vuepress icon</li>
<li>ä¿®å¤bug</li>
<li><strong>devops:</strong> ä¿®æ”¹helm-dashboard</li>
<li><strong>go-language:</strong> ä¿®æ”¹mapï¼Œå¢åŠ ä¸€äº›æ³¨æ„äº‹é¡¹</li>
<li><strong>go-language:</strong> deferå¢åŠ é‡è§os.Exit</li>
<li><strong>go-language:</strong> ä¿®æ”¹æ•°æ®ç±»å‹</li>
</ul>
<h3>â™»ï¸Code Refactoring</h3>
<ul>
<li>è°ƒæ•´devopsåˆ°k8så­ç±»</li>
</ul>
<h3>âœ¨Features</h3>
<ul>
<li><strong>devops:</strong> å¢åŠ redisç›‘æ§</li>
<li><strong>devops:</strong> å¢åŠ mysqlç›‘æ§</li>
<li><strong>devops:</strong> å¢åŠ è®°å½•dockeræ‰§è¡ŒæŠ¥é”™é—®é¢˜</li>
<li><strong>devops:</strong> å¢åŠ helm-dashboardç®€ä»‹</li>
<li><strong>devops:</strong> å¢åŠ kube-state-metrics k8s éƒ¨ç½²</li>
<li><strong>devops:</strong> å¢åŠ cadvisor k8séƒ¨ç½²</li>
<li><strong>devops:</strong> å¢åŠ node-exporter k8séƒ¨ç½²</li>
<li><strong>devops:</strong> å¢åŠ Prometheus k8séƒ¨ç½²</li>
<li><strong>go-language:</strong> å¢åŠ Goé¡¹ç›®è„šæ‰‹æ¶</li>
<li><strong>network:</strong> å¢åŠ HTTPåè®®ä»‹ç»</li>
</ul>
<p><a name="v0.10.1"></a></p>
<h2><a class="header-anchor" href="#v0-10-1-2023-09-23"><span></span></a><a href="https://github.com/Hexiaopi/hexiaopi.github.io/compare/v0.10.0...v0.10.1" target="_blank" rel="noopener noreferrer">v0.10.1</a> (2023-09-23)</h2>
<h3>ğŸ›Bug Fixes</h3>
<ul>
<li><strong>go-language:</strong> ä¿®æ”¹flagæ ‡å‡†åº“ï¼Œå¢åŠ åº•å±‚åŸç†</li>
</ul>
<h3>â™»ï¸Code Refactoring</h3>
<ul>
<li>è°ƒæ•´ç›®å½•é¡ºåº</li>
</ul>
<p><a name="v0.10.0"></a></p>
<h2><a class="header-anchor" href="#v0-10-0-2023-09-20"><span></span></a><a href="https://github.com/Hexiaopi/hexiaopi.github.io/compare/v0.9.2...v0.10.0" target="_blank" rel="noopener noreferrer">v0.10.0</a> (2023-09-20)</h2>
<h3>ğŸ›Bug Fixes</h3>
<ul>
<li><strong>go-language:</strong> ä¿®æ”¹ç¬¬ä¸‰æ–¹åº“</li>
<li><strong>project-language:</strong> æäº¤è§„èŒƒå¢åŠ å‚è€ƒæ–‡çŒ®</li>
</ul>
<h3>âœ¨Features</h3>
<ul>
<li><strong>go-language:</strong> å¢åŠ ä¸‰æ–¹åº“pflagä»‹ç»</li>
</ul>
<p><a name="v0.9.2"></a></p>
<h2><a class="header-anchor" href="#v0-9-2-2023-09-11"><span></span></a><a href="https://github.com/Hexiaopi/hexiaopi.github.io/compare/v0.9.1...v0.9.2" target="_blank" rel="noopener noreferrer">v0.9.2</a> (2023-09-11)</h2>
<h3>ğŸ›Bug Fixes</h3>
<ul>
<li><strong>go-language:</strong> flagå¢åŠ å­å‘½ä»¤</li>
<li><strong>go-language:</strong> ä¿®æ”¹flag</li>
</ul>
<h3>âœ¨Features</h3>
<ul>
<li>å¢åŠ Goè¯­è¨€æ ‡å‡†åº“</li>
</ul>
<p><a name="v0.9.1"></a></p>
<h2><a class="header-anchor" href="#v0-9-1-2023-09-05"><span></span></a><a href="https://github.com/Hexiaopi/hexiaopi.github.io/compare/v0.9.0...v0.9.1" target="_blank" rel="noopener noreferrer">v0.9.1</a> (2023-09-05)</h2>
<h3>ğŸ›Bug Fixes</h3>
<ul>
<li><strong>design-pattern:</strong> ä¿®æ”¹åˆ›å»ºå‹è®¾è®¡æ¨¡å¼</li>
</ul>
<p><a name="v0.9.0"></a></p>
<h2><a class="header-anchor" href="#v0-9-0-2023-09-02"><span></span></a><a href="https://github.com/Hexiaopi/hexiaopi.github.io/compare/v0.8.0...v0.9.0" target="_blank" rel="noopener noreferrer">v0.9.0</a> (2023-09-02)</h2>
<h3>ğŸ›Bug Fixes</h3>
<ul>
<li><strong>go-language:</strong> ä¿®æ”¹Goè¯­è¨€ç®€ä»‹</li>
</ul>
<h3>âœ¨Features</h3>
<ul>
<li><strong>go-language:</strong> å¢åŠ deferå’Œrecoveræ³¨æ„äº‹é¡¹</li>
<li><strong>go-language:</strong> å¢åŠ packageä»‹ç»</li>
<li><strong>network:</strong> å¢åŠ MQTTä»‹ç»</li>
</ul>
<p><a name="v0.8.0"></a></p>
<h2><a class="header-anchor" href="#v0-8-0-2023-08-22"><span></span></a><a href="https://github.com/Hexiaopi/hexiaopi.github.io/compare/v0.7.1...v0.8.0" target="_blank" rel="noopener noreferrer">v0.8.0</a> (2023-08-22)</h2>
<h3>ğŸ›Bug Fixes</h3>
<ul>
<li><strong>design-pattern:</strong> ä¿®æ”¹å¹¶å‘æ¨¡å¼</li>
<li><strong>go-language:</strong> ä¿®æ”¹Goä¹‹ç¦…ä¸­æ¨¡ç³Šçš„å«ä¹‰</li>
<li><strong>go-language:</strong> ä¿®æ”¹slice</li>
<li><strong>middleware:</strong> ä¿®æ”¹ç›‘æ§ç³»ç»Ÿè‡³ä¸­é—´ä»¶</li>
</ul>
<h3>â™»ï¸Code Refactoring</h3>
<ul>
<li>markdownæ ¼å¼ä¼˜åŒ–</li>
</ul>
<h3>âœ¨Features</h3>
<ul>
<li><strong>go-language:</strong> å¢åŠ Goä¹‹ç¦…</li>
<li><strong>go-language:</strong> è½¬è½½Goç®´è¨€</li>
</ul>
<p><a name="v0.7.1"></a></p>
<h2><a class="header-anchor" href="#v0-7-1-2023-08-13"><span></span></a><a href="https://github.com/Hexiaopi/hexiaopi.github.io/compare/v0.7.0...v0.7.1" target="_blank" rel="noopener noreferrer">v0.7.1</a> (2023-08-13)</h2>
<h3>ğŸ›Bug Fixes</h3>
<ul>
<li><strong>design-pattern:</strong> ä¿®æ”¹è®¾è®¡åŸåˆ™</li>
<li><strong>go-language:</strong> ä¿®æ”¹Goè¯­è¨€åŸºç¡€</li>
</ul>
<h3>â™»ï¸Code Refactoring</h3>
<ul>
<li>è°ƒæ•´å‡½æ•°æ¨¡å¼å’Œå¹¶å‘æ¨¡å¼</li>
</ul>
<p><a name="v0.7.0"></a></p>
<h2><a class="header-anchor" href="#v0-7-0-2023-08-07"><span></span></a><a href="https://github.com/Hexiaopi/hexiaopi.github.io/compare/v0.6.0...v0.7.0" target="_blank" rel="noopener noreferrer">v0.7.0</a> (2023-08-07)</h2>
<h3>â™»ï¸Code Refactoring</h3>
<ul>
<li>ä¾§è¾¹æ å¯æŠ˜å </li>
<li>è°ƒæ•´ç›®å½•ç»“æ„</li>
</ul>
<h3>âœ¨Features</h3>
<ul>
<li><strong>design-pattern:</strong> å¢åŠ é€‰é¡¹æ¨¡å¼</li>
</ul>
<p><a name="v0.6.0"></a></p>
<h2><a class="header-anchor" href="#v0-6-0-2023-08-03"><span></span></a><a href="https://github.com/Hexiaopi/hexiaopi.github.io/compare/v0.5.0...v0.6.0" target="_blank" rel="noopener noreferrer">v0.6.0</a> (2023-08-03)</h2>
<h3>ğŸ›Bug Fixes</h3>
<ul>
<li>ä¿®æ”¹è®¾è®¡æ¨¡å¼</li>
<li>é…ç½®é¡µé¢å…ƒæ•°æ®</li>
<li>è‡ªåŠ¨åŒ–éƒ¨ç½²é—®é¢˜ä¿®å¤</li>
<li>åˆ é™¤ä¸´æ—¶æ–‡ä»¶</li>
<li><strong>design-pattern:</strong> ä¿®æ”¹è®¾è®¡æ¨¡å¼é—®é¢˜</li>
<li><strong>project-stanard:</strong> ä¿®æ”¹é¡¹ç›®è§„èŒƒä¸€äº›é—®é¢˜</li>
</ul>
<h3>â™»ï¸Code Refactoring</h3>
<ul>
<li>è°ƒæ•´ä¾§è¾¹æ å’Œå¯¼èˆªæ </li>
<li>è°ƒæ•´å¯¼èˆªæ å’Œä¾§è¾¹æ </li>
<li><strong>databae:</strong> ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢</li>
</ul>
<h3>âœ¨Features</h3>
<ul>
<li>å¢åŠ å˜æ›´æ—¥å¿—</li>
<li>å¢åŠ Goè¯­è¨€çˆ±å¥½è€…å‘¨åˆŠå‹æƒ…é“¾æ¥</li>
<li>åˆ‡æ¢ä¸ºvuepress-theme-hope</li>
</ul>
<p><a name="v0.5.0"></a></p>
<h2><a class="header-anchor" href="#v0-5-0-2022-05-24"><span></span></a><a href="https://github.com/Hexiaopi/hexiaopi.github.io/compare/v0.4.0...v0.5.0" target="_blank" rel="noopener noreferrer">v0.5.0</a> (2022-05-24)</h2>
<h3>ğŸ›Bug Fixes</h3>
<ul>
<li><strong>database:</strong> å¢åŠ äº‹åŠ¡ä¸€è‡´æ€§è§†å›¾</li>
</ul>
<h3>â™»ï¸Code Refactoring</h3>
<ul>
<li><strong>go-language:</strong> ä¿®æ”¹æ“ä½œç¬¦</li>
<li><strong>go-language:</strong> è°ƒæ•´æ•°ç»„ä¸åˆ‡ç‰‡</li>
<li><strong>go-language:</strong> å­—ç¬¦ä¸²è°ƒæ•´</li>
<li><strong>go-language:</strong> æ•°ç»„ä¸åˆ‡ç‰‡è°ƒæ•´</li>
<li><strong>go-language:</strong> è°ƒæ•´å˜é‡ã€å¸¸é‡åŠå‘½åè§„åˆ™</li>
</ul>
<h3>âœ¨Features</h3>
<ul>
<li><strong>database:</strong> å¢åŠ mysqlè¯»è¿‡ç¨‹ã€å†™è¿‡ç¨‹å’Œäº‹åŠ¡</li>
<li><strong>database:</strong> å¢åŠ rediså¤§çº²</li>
<li><strong>go-language:</strong> å¢åŠ breakä½¿ç”¨è¯´æ˜</li>
<li><strong>go-language:</strong> å¢åŠ for-rangeæ³¨æ„ç‚¹</li>
<li><strong>go-language:</strong> å¢åŠ å­—ç¬¦ä¸²åº•å±‚ç»“æ„</li>
<li><strong>go-language:</strong> å¢åŠ mapä»‹ç»</li>
</ul>
<p><a name="v0.4.0"></a></p>
<h2><a class="header-anchor" href="#v0-4-0-2022-03-27"><span></span></a><a href="https://github.com/Hexiaopi/hexiaopi.github.io/compare/v0.3.4...v0.4.0" target="_blank" rel="noopener noreferrer">v0.4.0</a> (2022-03-27)</h2>
<h3>ğŸ›Bug Fixes</h3>
<ul>
<li><strong>algorithm:</strong> å¢åŠ é™æµ-ä»¤ç‰Œæ¡¶ç®—æ³•</li>
<li><strong>project-standard:</strong> å¢åŠ è¯­ä¹‰åŒ–ç‰ˆæœ¬å·¥å…·</li>
<li><strong>project-standard:</strong> å¢åŠ è¯­ä¹‰åŒ–ç‰ˆæœ¬è¯¦ç»†å¤–é“¾</li>
<li><strong>project-standard:</strong> å¢åŠ readme.soå¤–é“¾</li>
</ul>
<h3>âœ¨Features</h3>
<ul>
<li><strong>database:</strong> å¢åŠ MySQL-è¡¨è¿æ¥</li>
<li><strong>go-language:</strong> å¢åŠ ä¸€äº›ç¯å¢ƒå˜é‡è¯´æ˜</li>
<li><strong>tools:</strong> å¢åŠ CAè¯ä¹¦</li>
</ul>
<p><a name="v0.3.4"></a></p>
<h2><a class="header-anchor" href="#v0-3-4-2022-03-20"><span></span></a><a href="https://github.com/Hexiaopi/hexiaopi.github.io/compare/v0.3.3...v0.3.4" target="_blank" rel="noopener noreferrer">v0.3.4</a> (2022-03-20)</h2>
<h3>âœ¨Features</h3>
<ul>
<li><strong>algorithm:</strong> å¢åŠ é™æµç®—æ³•</li>
</ul>
<p><a name="v0.3.3"></a></p>
<h2><a class="header-anchor" href="#v0-3-3-2022-03-03"><span></span></a><a href="https://github.com/Hexiaopi/hexiaopi.github.io/compare/v0.3.2...v0.3.3" target="_blank" rel="noopener noreferrer">v0.3.3</a> (2022-03-03)</h2>
<h3>ğŸ›Bug Fixes</h3>
<ul>
<li><strong>project-standard:</strong> é¡¹ç›®ç®¡ç†æ”¹ä¸ºé¡¹ç›®è§„èŒƒ</li>
</ul>
<p><a name="v0.3.2"></a></p>
<h2><a class="header-anchor" href="#v0-3-2-2022-02-23"><span></span></a><a href="https://github.com/Hexiaopi/hexiaopi.github.io/compare/v0.3.1...v0.3.2" target="_blank" rel="noopener noreferrer">v0.3.2</a> (2022-02-23)</h2>
<h3>ğŸ›Bug Fixes</h3>
<ul>
<li><strong>data-structure:</strong> åˆ é™¤äºŒå‰æœç´¢æ ‘è¿­ä»£ç‰ˆæœ¬</li>
</ul>
<h3>â™»ï¸Code Refactoring</h3>
<ul>
<li>è°ƒæ•´ç»“æ„å’Œæè¿°</li>
</ul>
<p><a name="v0.3.1"></a></p>
<h2><a class="header-anchor" href="#v0-3-1-2022-02-23"><span></span></a><a href="https://github.com/Hexiaopi/hexiaopi.github.io/compare/v0.3.0...v0.3.1" target="_blank" rel="noopener noreferrer">v0.3.1</a> (2022-02-23)</h2>
<h3>ğŸ›Bug Fixes</h3>
<ul>
<li><strong>data-structure:</strong> ä¿®æ”¹äºŒå‰æœç´¢æ ‘åˆ é™¤èŠ‚ç‚¹ç®—æ³•</li>
</ul>
<h3>â™»ï¸Code Refactoring</h3>
<ul>
<li><strong>data-structure:</strong> ä¿®æ”¹åˆ é™¤æœ€å°èŠ‚ç‚¹å‘½å</li>
</ul>
<p><a name="v0.3.0"></a></p>
<h2><a class="header-anchor" href="#v0-3-0-2022-02-20"><span></span></a><a href="https://github.com/Hexiaopi/hexiaopi.github.io/compare/v0.2.0...v0.3.0" target="_blank" rel="noopener noreferrer">v0.3.0</a> (2022-02-20)</h2>
<h3>ğŸ›Bug Fixes</h3>
<ul>
<li><strong>data-structure:</strong> ä¾§è¾¹æ ä¿®å¤</li>
</ul>
<h3>âœ¨Features</h3>
<ul>
<li><strong>data-structure:</strong> å¢åŠ äºŒå‰æœç´¢æ ‘</li>
<li><strong>data-structure:</strong> å¢åŠ äºŒå‰æ ‘</li>
</ul>
<p><a name="v0.2.0"></a></p>
<h2><a class="header-anchor" href="#v0-2-0-2022-02-11"><span></span></a><a href="https://github.com/Hexiaopi/hexiaopi.github.io/compare/v0.1.0...v0.2.0" target="_blank" rel="noopener noreferrer">v0.2.0</a> (2022-02-11)</h2>
<h3>âœ¨Features</h3>
<ul>
<li><strong>project-manager:</strong> å¢åŠ åˆ†æ”¯è§„èŒƒ</li>
</ul>
<p><a name="v0.1.0"></a></p>
<h2><a class="header-anchor" href="#v0-1-0-2022-02-09"><span></span></a><a href="https://github.com/Hexiaopi/hexiaopi.github.io/compare/v0.0.1...v0.1.0" target="_blank" rel="noopener noreferrer">v0.1.0</a> (2022-02-09)</h2>
<h3>ğŸ›Bug Fixes</h3>
<ul>
<li><strong>project-manager:</strong> ä¿®æ­£ç›®å½•è§„èŒƒ</li>
</ul>
<h3>âœ¨Features</h3>
<ul>
<li><strong>commit:</strong> å¢åŠ è¯­ä¹‰åŒ–ç‰ˆæœ¬è‡ªåŠ¨ç”Ÿæˆå·¥å…·gsemveré…ç½®å’Œä»‹ç»</li>
<li><strong>commit:</strong> å¢åŠ CHANGE LOGè‡ªåŠ¨ç”Ÿäº§</li>
<li><strong>docs:</strong> å¢åŠ å˜æ›´å†å²</li>
<li><strong>project-manager:</strong> å¢åŠ ç›®å½•è§„èŒƒ</li>
</ul>
<p><a name="v0.0.1"></a></p>
<h2>v0.0.1 (2022-02-03)</h2>
<h3>ğŸ›Bug Fixes</h3>
<ul>
<li>æ›´æ–°ä¾§è¾¹æ </li>
<li>update sidebar</li>
<li>project manager</li>
<li><strong>monitor-system:</strong> ç»Ÿä¸€å›¾ç‰‡æ–‡ä»¶å¤¹å‘½å</li>
<li><strong>project-manager:</strong> æ›´æ–°æäº¤è§„èŒƒ</li>
<li><strong>project-manager:</strong> update version</li>
</ul>
<h3>â™»ï¸Code Refactoring</h3>
<ul>
<li><strong>go-language:</strong> è°ƒæ•´ç»“æ„</li>
<li><strong>go-language:</strong> è°ƒæ•´ç»“æ„</li>
</ul>
<h3>âœ¨Features</h3>
<ul>
<li>å¢åŠ CHANGE LOG</li>
<li>å¢åŠ ç‰ˆæœ¬è§„èŒƒ</li>
<li>é¡¹ç›®æ–‡æ¡£è§„èŒƒ</li>
<li>add project manager</li>
<li>add README.md</li>
<li><strong>design-pattern:</strong> add some design pattern</li>
<li><strong>project-manager:</strong> add api standard</li>
<li><strong>project-manager:</strong> add api standard</li>
<li><strong>project-manager:</strong> add commit standard</li>
</ul>
]]></content>
    <published>2024-12-10T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">å·¥å‚æ¨¡å¼çš„æ¯”è¾ƒ</title>
    <id>http://blog.cjhe.top/design-pattern/creational/factory-compare.html</id>
    <link href="http://blog.cjhe.top/design-pattern/creational/factory-compare.html"/>
    <updated>2024-05-15T10:01:59.000Z</updated>
    <summary type="text">ç®€å•å·¥å‚æ¨¡å¼ã€å·¥å‚æ–¹æ³•æ¨¡å¼ã€æŠ½è±¡å·¥å‚æ¨¡å¼éƒ½å¯ä»¥ç»Ÿç§°ä¸ºå·¥å‚æ¨¡å¼ï¼Œå…¶ä¸­ï¼š
ç®€å•å·¥å‚æ¨¡å¼ï¼šé€‚ç”¨äºéœ€è¦æ ¹æ®å®¢æˆ·ç«¯çš„è¾“å…¥æ¥åˆ›å»ºå¯¹è±¡çš„åœºæ™¯ï¼Œä½†ä¸ç¬¦åˆå¼€é—­åŸåˆ™ï¼Œéšç€äº§å“çš„å¢åŠ éœ€è¦ä¿®æ”¹å·¥å‚ç±»ã€‚
å·¥å‚æ–¹æ³•æ¨¡å¼ï¼šé€šè¿‡å°†å…·ä½“äº§å“çš„åˆ›å»ºå»¶è¿Ÿåˆ°å­ç±»ä¸­å®ç°ï¼Œç¬¦åˆå¼€é—­åŸåˆ™ï¼Œæ¯ä¸ªå…·ä½“å·¥å‚ç±»è´Ÿè´£åˆ›å»ºä¸€ä¸ªå…·ä½“äº§å“ã€‚
æŠ½è±¡å·¥å‚æ¨¡å¼ï¼šé€‚ç”¨äºéœ€è¦åˆ›å»ºä¸€ç»„ç›¸å…³äº§å“å¯¹è±¡çš„åœºæ™¯ï¼Œæ¯ä¸ªå…·ä½“å·¥å‚ç±»è´Ÿè´£åˆ›...</summary>
    <content type="html"><![CDATA[<!-- more -->
<p>ç®€å•å·¥å‚æ¨¡å¼ã€å·¥å‚æ–¹æ³•æ¨¡å¼ã€æŠ½è±¡å·¥å‚æ¨¡å¼éƒ½å¯ä»¥ç»Ÿç§°ä¸ºå·¥å‚æ¨¡å¼ï¼Œå…¶ä¸­ï¼š</p>
<p>ç®€å•å·¥å‚æ¨¡å¼ï¼šé€‚ç”¨äºéœ€è¦æ ¹æ®å®¢æˆ·ç«¯çš„è¾“å…¥æ¥åˆ›å»ºå¯¹è±¡çš„åœºæ™¯ï¼Œä½†ä¸ç¬¦åˆ<code>å¼€é—­åŸåˆ™</code>ï¼Œéšç€äº§å“çš„å¢åŠ éœ€è¦ä¿®æ”¹å·¥å‚ç±»ã€‚</p>
<p>å·¥å‚æ–¹æ³•æ¨¡å¼ï¼šé€šè¿‡å°†å…·ä½“äº§å“çš„åˆ›å»ºå»¶è¿Ÿåˆ°å­ç±»ä¸­å®ç°ï¼Œç¬¦åˆ<code>å¼€é—­åŸåˆ™</code>ï¼Œæ¯ä¸ªå…·ä½“å·¥å‚ç±»è´Ÿè´£åˆ›å»ºä¸€ä¸ªå…·ä½“äº§å“ã€‚</p>
<p>æŠ½è±¡å·¥å‚æ¨¡å¼ï¼šé€‚ç”¨äºéœ€è¦åˆ›å»ºä¸€ç»„ç›¸å…³äº§å“å¯¹è±¡çš„åœºæ™¯ï¼Œæ¯ä¸ªå…·ä½“å·¥å‚ç±»è´Ÿè´£åˆ›å»ºä¸€ç»„ç›¸å…³äº§å“ã€‚</p>
<p>é€‰æ‹©é€‚åˆçš„åˆ›å»ºå‹è®¾è®¡æ¨¡å¼å–å†³äºå…·ä½“çš„é¡¹ç›®éœ€æ±‚å’Œè®¾è®¡è€ƒè™‘ï¼Œç®€å•å·¥å‚æ¨¡å¼ç®€å•æ˜“æ‡‚ä½†å¯æ‰©å±•æ€§å·®ï¼Œå·¥å‚æ–¹æ³•æ¨¡å¼æ›´çµæ´»ä½†éœ€è¦é¢å¤–çš„å­ç±»ï¼Œè€ŒæŠ½è±¡å·¥å‚æ¨¡å¼é€‚ç”¨äºåˆ›å»ºä¸€ç»„ç›¸å…³çš„äº§å“å¯¹è±¡ã€‚</p>
]]></content>
    <category term="è®¾è®¡æ¨¡å¼"/>
    <published>2023-07-31T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">å…³äºæˆ‘</title>
    <id>http://blog.cjhe.top/intro.html</id>
    <link href="http://blog.cjhe.top/intro.html"/>
    <updated>2024-05-11T07:09:37.000Z</updated>
    <summary type="text">ä¸€æšåç«¯æ”»åŸç‹®ï¼Œçƒ­çˆ±Goã€Vueç­‰æŠ€æœ¯æ ˆã€‚

ä»‹ç»é¡µ
profile-details
profile-language
commit-language
stats
time</summary>
    <content type="html"><![CDATA[<!-- more -->
<blockquote>
<p>ä¸€æšåç«¯æ”»åŸç‹®ï¼Œçƒ­çˆ±Goã€Vueç­‰æŠ€æœ¯æ ˆã€‚</p>
</blockquote>
<h2>ä»‹ç»é¡µ</h2>
<p><img src="https://raw.githubusercontent.com/Hexiaopi/Hexiaopi/master/profile-summary-card-output/github/0-profile-details.svg" alt="profile-details" loading="lazy">
<img src="https://raw.githubusercontent.com/Hexiaopi/Hexiaopi/master/profile-summary-card-output/github/1-repos-per-language.svg" alt="profile-language" loading="lazy">
<img src="https://raw.githubusercontent.com/Hexiaopi/Hexiaopi/master/profile-summary-card-output/github/2-most-commit-language.svg" alt="commit-language" loading="lazy">
<img src="https://raw.githubusercontent.com/Hexiaopi/Hexiaopi/master/profile-summary-card-output/github/3-stats.svg" alt="stats" loading="lazy">
<img src="https://raw.githubusercontent.com/Hexiaopi/Hexiaopi/master/profile-summary-card-output/github/4-productive-time.svg" alt="time" loading="lazy"></p>
]]></content>
    <published>2023-07-30T09:20:01.000Z</published>
  </entry>
  <entry>
    <title type="text">å¹»ç¯ç‰‡é¡µ</title>
    <id>http://blog.cjhe.top/slides.html</id>
    <link href="http://blog.cjhe.top/slides.html"/>
    <updated>2023-07-30T09:20:01.000Z</updated>
    <summary type="html"><![CDATA[<!-- markdownlint-disable MD024 MD033 MD051 -->
]]></summary>
    <content type="html"><![CDATA[<!-- markdownlint-disable MD024 MD033 MD051 -->
]]></content>
    <published>2023-07-30T09:20:01.000Z</published>
  </entry>
  <entry>
    <title type="text">è®¾è®¡æ¨¡å¼</title>
    <id>http://blog.cjhe.top/design-pattern/</id>
    <link href="http://blog.cjhe.top/design-pattern/"/>
    <updated>2024-05-06T08:19:23.000Z</updated>
    <summary type="html"><![CDATA[<div class="hint-container tip">
<p class="hint-container-title">æç¤º</p>
<p>é¢å‘å¯¹è±¡æ˜¯<strong>æ­¦å™¨</strong></p>
<p>è®¾è®¡æ¨¡å¼æ˜¯<strong>æ‹›å¼</strong></p>
<p>è®¾è®¡åŸåˆ™æ˜¯<strong>å¿ƒæ³•</strong></p>
<p>ä»¥å¿ƒæ³•ä¸ºåŸºç¡€ï¼Œä»¥æ­¦å™¨è¿ç”¨æ‹›å¼åº”å¯¹å¤æ‚çš„ç¼–ç¨‹é—®é¢˜</p>
</div>
]]></summary>
    <content type="html"><![CDATA[<div class="hint-container tip">
<p class="hint-container-title">æç¤º</p>
<p>é¢å‘å¯¹è±¡æ˜¯<strong>æ­¦å™¨</strong></p>
<p>è®¾è®¡æ¨¡å¼æ˜¯<strong>æ‹›å¼</strong></p>
<p>è®¾è®¡åŸåˆ™æ˜¯<strong>å¿ƒæ³•</strong></p>
<p>ä»¥å¿ƒæ³•ä¸ºåŸºç¡€ï¼Œä»¥æ­¦å™¨è¿ç”¨æ‹›å¼åº”å¯¹å¤æ‚çš„ç¼–ç¨‹é—®é¢˜</p>
</div>
<!-- more -->
<h2>ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼</h2>
<p>è®¾è®¡æ¨¡å¼æœ€æ—©æ¥æºäºå»ºç­‘é¢†åŸŸ</p>
<blockquote>
<p>å…‹é‡Œæ–¯æ‰˜å¼—.äºšå†å±±å¤§åœ¨ä½œå“ã€Šå»ºç­‘çš„æ°¸æ’ä¹‹é“ã€‹ä¸­è¿™æ ·è¯´ï¼š"æ¯ä¸ªæ¨¡å¼éƒ½æè¿°äº†ä¸€ä¸ªåœ¨æˆ‘ä»¬çš„ç¯å¢ƒä¸­ä¸æ–­å‡ºç°çš„é—®é¢˜ï¼Œç„¶åæè¿°äº†è¯¥é—®é¢˜çš„è§£å†³æ–¹æ¡ˆçš„æ ¸å¿ƒï¼Œé€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥æ— æ•°æ¬¡åœ°é‡ç”¨é‚£äº›å·²æœ‰çš„æˆåŠŸçš„è§£å†³æ–¹æ¡ˆï¼Œæ— é¡»å†é‡å¤ç›¸åŒçš„å·¥ä½œã€‚"</p>
</blockquote>
<p>ä¹‹åå››äººç»„ï¼ˆGang of Fourï¼Œç®€ç§°GoFï¼‰å°†æ¨¡å¼çš„æ¦‚å¿µåº”ç”¨åœ¨è½¯ä»¶å¼€å‘è®¾è®¡ä¸­ï¼Œå®šä¹‰å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>å®ƒæ˜¯ä¸€å¥—è¢«åå¤ä½¿ç”¨ã€å¤šæ•°äººçŸ¥æ™“çš„ã€ç»è¿‡åˆ†ç±»ç¼–ç›®çš„ã€ä»£ç è®¾è®¡ç»éªŒçš„æ€»ç»“ã€‚</p>
<p>å®ƒæè¿°äº†åœ¨è½¯ä»¶è®¾è®¡è¿‡ç¨‹ä¸­çš„ä¸€äº›ä¸æ–­é‡å¤å‘ç”Ÿçš„é—®é¢˜ï¼Œä»¥åŠè¯¥é—®é¢˜çš„è§£å†³æ–¹æ¡ˆã€‚</p>
</blockquote>
<p>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯<strong>è§£å†³ç‰¹å®šé—®é¢˜çš„ä¸€ç³»åˆ—è§£å†³æ–¹æ¡ˆ</strong>ï¼Œæ˜¯å‰è¾ˆä»¬çš„ä»£ç è®¾è®¡ç»éªŒçš„æ€»ç»“ã€‚</p>
<h2>æœ‰å“ªäº›ä¼˜ç‚¹</h2>
<ul>
<li><strong>æé«˜ä»£ç å¤ç”¨æ€§</strong>ï¼šè®¾è®¡æ¨¡å¼çš„æ ¸å¿ƒç›®æ ‡ä¹‹ä¸€æ˜¯æä¾›å¯å¤ç”¨çš„è§£å†³æ–¹æ¡ˆã€‚é€šè¿‡ä½¿ç”¨è®¾è®¡æ¨¡å¼ï¼Œå¯ä»¥å°†é€šç”¨çš„è§£å†³æ–¹æ³•åº”ç”¨äºä¸åŒçš„æƒ…å†µï¼Œä»è€Œå‡å°‘ä»£ç çš„å†—ä½™å’Œé‡å¤ç¼–å†™ã€‚</li>
<li><strong>æé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§</strong>ï¼šè®¾è®¡æ¨¡å¼é€šè¿‡å¼•å…¥ä¸€å®šçš„ç»“æ„å’Œè§„èŒƒï¼Œä½¿ä»£ç æ›´æœ‰ç»„ç»‡æ€§å’Œå¯è¯»æ€§ã€‚å¼€å‘äººå‘˜å¯ä»¥æ›´è½»æ¾åœ°ç†è§£å’Œç»´æŠ¤ä»£ç é€»è¾‘ã€‚</li>
<li><strong>é™ä½ä»£ç è€¦åˆåº¦</strong>ï¼šè®¾è®¡æ¨¡å¼é€šè¿‡å°†ç³»ç»Ÿåˆ†è§£ä¸ºå¤šä¸ªç‹¬ç«‹çš„éƒ¨åˆ†ï¼Œæ¯ä¸ªéƒ¨åˆ†éƒ½æœ‰æ˜ç¡®å®šä¹‰çš„èŒè´£å’Œæ¥å£ï¼Œä»è€Œé™ä½äº†ä»£ç çš„è€¦åˆåº¦ã€‚è¿™ä½¿å¾—ç³»ç»Ÿæ›´æ˜“äºæ‰©å±•ã€ä¿®æ”¹å’Œç»´æŠ¤ã€‚</li>
<li><strong>æé«˜ç³»ç»Ÿçš„å¯æ‰©å±•æ€§å’Œçµæ´»æ€§</strong>ï¼šè®¾è®¡æ¨¡å¼é¼“åŠ±ä½¿ç”¨æ¥å£å’ŒæŠ½è±¡ç±»è¿›è¡Œç¼–ç¨‹ï¼Œè€Œä¸æ˜¯å…·ä½“çš„å®ç°ç±»ã€‚è¿™ç§æ¾è€¦åˆçš„è®¾è®¡ä½¿å¾—ç³»ç»Ÿæ›´æ˜“äºæ‰©å±•ï¼Œå¯ä»¥æ–¹ä¾¿åœ°å¼•å…¥æ–°çš„åŠŸèƒ½å’Œæ¨¡å—ã€‚</li>
<li><strong>æé«˜ç³»ç»Ÿçš„å¯æµ‹è¯•æ€§</strong>ï¼šè®¾è®¡æ¨¡å¼å°†ç³»ç»Ÿåˆ†è§£ä¸ºå¤šä¸ªç‹¬ç«‹çš„éƒ¨åˆ†ï¼Œæ¯ä¸ªéƒ¨åˆ†éƒ½å¯ä»¥ç‹¬ç«‹æµ‹è¯•ã€‚è¿™æ ·å¯ä»¥æ›´å®¹æ˜“åœ°ç¼–å†™å’Œæ‰§è¡Œå•å…ƒæµ‹è¯•ï¼Œæé«˜ä»£ç çš„è´¨é‡å’Œå¯é æ€§ã€‚</li>
</ul>
<h2>æœ‰å“ªäº›è¦ç´ </h2>
<ul>
<li><strong>é—®é¢˜</strong>ï¼šé—®é¢˜æˆ–ç§°ä¸ºä¸Šä¸‹æ–‡ã€åœºæ™¯ï¼ŒæŒ‡åœ¨è½¯ä»¶å¼€å‘ä¸­éœ€è¦è§£å†³çš„æŸä¸ªé—®é¢˜æˆ–éœ€æ±‚ã€‚è®¾è®¡æ¨¡å¼é€šå¸¸è§£å†³é’ˆå¯¹ç‰¹å®šä¸Šä¸‹æ–‡æˆ–åœºæ™¯ä¸­å‡ºç°çš„é—®é¢˜ã€‚</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šè§£å†³æ–¹æ¡ˆæˆ–ç§°ä¸ºæ¨¡å‹ã€æ¨¡å¼ï¼Œæ˜¯æŒ‡ç”¨äºè§£å†³ä¸Šè¿°é—®é¢˜çš„é€šç”¨æ–¹æ³•æˆ–æœ€ä½³å®è·µã€‚è®¾è®¡æ¨¡å¼æè¿°äº†è§£å†³æŸé—®é¢˜çš„æ–¹æ³•æˆ–æ¨¡æ¿ï¼Œå¹¶æä¾›äº†è¿™äº›æ–¹æ³•çš„å®ç°ç»†èŠ‚ï¼Œä½¿å¾—ç±»ä¼¼é—®é¢˜å¯ä»¥è¢«è§£å†³ä¸”æ˜“äºå¤ç”¨ã€‚</li>
<li><strong>æ•ˆæœ</strong>ï¼šæ•ˆæœæˆ–ç§°ä¸ºç»“æœã€è´¡çŒ®ï¼Œæ˜¯æŒ‡ä½¿ç”¨è¯¥æ¨¡å¼å¸¦æ¥çš„å¥½å¤„å’Œä¼˜ç‚¹ã€‚è®¾è®¡æ¨¡å¼æä¾›äº†å¯é‡ç”¨ã€çµæ´»çš„è§£å†³æ–¹æ¡ˆï¼Œå¢åŠ å¯ç»´æŠ¤æ€§ã€å¯æ‰©å±•æ€§å’Œå¯é‡ç”¨æ€§ã€‚</li>
<li><strong>å…ƒç´ </strong>ï¼šå…ƒç´ æˆ–ç§°ä¸ºå‚ä¸è€…ã€è§’è‰²ã€ç±»å’Œå¯¹è±¡ï¼Œç»„æˆäº†è®¾è®¡æ¨¡å¼çš„å„ä¸ªéƒ¨åˆ†ã€‚è¿™äº›å…ƒç´ å¯ä»¥æ˜¯ç±»ã€å¯¹è±¡ã€æ¥å£ã€æ–¹æ³•ç­‰ç­‰ã€‚å…ƒç´ æè¿°äº†åœ¨ç‰¹å®šä¸Šä¸‹æ–‡æˆ–åœºæ™¯ä¸­å‚ä¸æ¨¡å¼å®ç°çš„å„ç§ç»„ä»¶ã€‚</li>
</ul>
<h2>å…·ä½“åˆ†ç±»</h2>
<figure><figcaption>åˆ†ç±»</figcaption></figure>
]]></content>
    <category term="è®¾è®¡æ¨¡å¼"/>
    <published>2022-09-10T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">è®¾è®¡åŸåˆ™</title>
    <id>http://blog.cjhe.top/design-pattern/principle.html</id>
    <link href="http://blog.cjhe.top/design-pattern/principle.html"/>
    <updated>2024-05-06T02:44:40.000Z</updated>
    <summary type="text">è®¾è®¡åŸåˆ™æ˜¯å¿ƒæ³•ï¼Œå¯¹äºæ„å»ºé«˜è´¨é‡çš„è½¯ä»¶ç³»ç»Ÿæä¾›æŒ‡å¯¼å’Œçº¦æŸï¼Œå®ƒå…·æœ‰ä»¥ä¸‹ä½œç”¨ï¼š

æé«˜ä»£ç è´¨é‡ï¼šè®¾è®¡åŸåˆ™å¼ºè°ƒä»£ç çš„æ¸…æ™°æ€§ã€å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚é€šè¿‡éµå¾ªè®¾è®¡åŸåˆ™ï¼Œå¯ä»¥ç¼–å†™å‡ºæ›´ç»“æ„åŒ–ã€æ›´æ¨¡å—åŒ–çš„ä»£ç ï¼Œå‡å°‘ä»£ç é‡å¤å’Œå†—ä½™ã€‚
é™ä½è€¦åˆåº¦ï¼šè®¾è®¡åŸåˆ™é¼“åŠ±æ¾æ•£è€¦åˆçš„è®¾è®¡ï¼Œå°†ç³»ç»Ÿåˆ’åˆ†ä¸ºæ›´å°çš„ã€ç›¸äº’ç‹¬ç«‹çš„æ¨¡å—ã€‚è¿™æ ·å¯ä»¥å‡å°‘æ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œæé«˜ç³»ç»Ÿçš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ã€‚
ä¿ƒè¿›ä»£...</summary>
    <content type="html"><![CDATA[<!-- more -->
<p>è®¾è®¡åŸåˆ™æ˜¯å¿ƒæ³•ï¼Œå¯¹äºæ„å»ºé«˜è´¨é‡çš„è½¯ä»¶ç³»ç»Ÿæä¾›<strong>æŒ‡å¯¼</strong>å’Œ<strong>çº¦æŸ</strong>ï¼Œå®ƒå…·æœ‰ä»¥ä¸‹ä½œç”¨ï¼š</p>
<ul>
<li>æé«˜ä»£ç è´¨é‡ï¼šè®¾è®¡åŸåˆ™å¼ºè°ƒä»£ç çš„æ¸…æ™°æ€§ã€å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚é€šè¿‡éµå¾ªè®¾è®¡åŸåˆ™ï¼Œå¯ä»¥ç¼–å†™å‡ºæ›´ç»“æ„åŒ–ã€æ›´æ¨¡å—åŒ–çš„ä»£ç ï¼Œå‡å°‘ä»£ç é‡å¤å’Œå†—ä½™ã€‚</li>
<li>é™ä½è€¦åˆåº¦ï¼šè®¾è®¡åŸåˆ™é¼“åŠ±æ¾æ•£è€¦åˆçš„è®¾è®¡ï¼Œå°†ç³»ç»Ÿåˆ’åˆ†ä¸ºæ›´å°çš„ã€ç›¸äº’ç‹¬ç«‹çš„æ¨¡å—ã€‚è¿™æ ·å¯ä»¥å‡å°‘æ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œæé«˜ç³»ç»Ÿçš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ã€‚</li>
<li>ä¿ƒè¿›ä»£ç é‡ç”¨ï¼šè®¾è®¡åŸåˆ™æ¨å´‡å°è£…ã€ç»§æ‰¿ã€å¤šæ€ç­‰é¢å‘å¯¹è±¡çš„ç‰¹æ€§ï¼Œä½¿å¾—ä»£ç æ›´æ˜“äºé‡ç”¨ã€‚é€šè¿‡è®¾è®¡æ¨¡å¼å’Œè®¾è®¡åŸåˆ™ï¼Œå¯ä»¥å°†é€šç”¨çš„è§£å†³æ–¹æ¡ˆæŠ½è±¡å‡ºæ¥ï¼Œå¹¶åœ¨ä¸åŒçš„åœºæ™¯ä¸­é‡å¤åº”ç”¨ã€‚</li>
<li>ç®€åŒ–ç³»ç»Ÿç»´æŠ¤ï¼šè‰¯å¥½çš„è®¾è®¡åŸåˆ™å¯ä»¥å‡å°‘ç³»ç»Ÿçš„è€¦åˆå’Œå¤æ‚åº¦ï¼Œä½¿ç³»ç»Ÿæ›´æ˜“äºç†è§£å’Œç»´æŠ¤ã€‚å½“éœ€è¦å¯¹ç³»ç»Ÿè¿›è¡Œä¿®æ”¹æˆ–æ‰©å±•æ—¶ï¼Œé€šè¿‡éµå¾ªè®¾è®¡åŸåˆ™ï¼Œå¯ä»¥æ›´å¿«é€Ÿã€æ›´å®‰å…¨åœ°è¿›è¡Œå˜æ›´ã€‚</li>
<li>æé«˜å›¢é˜Ÿåä½œæ•ˆç‡ï¼šè®¾è®¡åŸåˆ™æä¾›äº†ä¸€ç§é€šç”¨çš„è®¾è®¡æ€ç»´å’Œè§„èŒƒï¼Œä½¿æ•´ä¸ªå›¢é˜Ÿåœ¨è®¾è®¡å’Œå¼€å‘è¿‡ç¨‹ä¸­èƒ½å¤Ÿæ›´å¥½åœ°è¿›è¡Œäº¤æµå’Œåä½œã€‚å›¢é˜Ÿæˆå‘˜å¯ä»¥å…±åŒç†è§£å’Œéµå¾ªè®¾è®¡åŸåˆ™ï¼Œé™ä½æ²Ÿé€šæˆæœ¬ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚</li>
</ul>
<h2>SOLIDåŸåˆ™</h2>
<p>SOLIDåŸåˆ™æ˜¯ç”±ç½—ä¼¯ç‰¹Â·CÂ·é©¬ä¸åœ¨21ä¸–çºªæ—©æœŸå¼•å…¥ï¼ŒæŒ‡ä»£äº†é¢å‘å¯¹è±¡ç¼–ç¨‹å’Œé¢å‘å¯¹è±¡è®¾è®¡çš„äº”ä¸ªåŸºæœ¬åŸåˆ™ã€‚éµå¾ªSOLIDåŸåˆ™å¯ä»¥ç¡®ä¿æˆ‘ä»¬è®¾è®¡çš„ä»£ç æ˜¯æ˜“ç»´æŠ¤ã€æ˜“æ‰©å±•ã€æ˜“é˜…è¯»çš„ã€‚SOLIDåŸåˆ™åŒæ ·ä¹Ÿé€‚ç”¨äºGoç¨‹åºè®¾è®¡ã€‚å…·ä½“SOLIDç¼–ç åŸåˆ™è§ä¸‹è¡¨ï¼š</p>
<p>| ç®€å†™ | å…¨ç§°                                | ä¸­æ–‡æè¿°     |
|</p>
]]></content>
    <category term="è®¾è®¡æ¨¡å¼"/>
    <published>2022-10-15T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">é«˜è´¨é‡ä»£ç </title>
    <id>http://blog.cjhe.top/design-pattern/quantity-code.html</id>
    <link href="http://blog.cjhe.top/design-pattern/quantity-code.html"/>
    <updated>2024-05-06T02:44:40.000Z</updated>
    <summary type="html"><![CDATA[<div class="hint-container tip">
<p class="hint-container-title">æç¤º</p>
<p>ä»€ä¹ˆæ ·çš„ä»£ç æ‰æ˜¯é«˜è´¨é‡çš„ä»£ç â“</p>
</div>
]]></summary>
    <content type="html"><![CDATA[<div class="hint-container tip">
<p class="hint-container-title">æç¤º</p>
<p>ä»€ä¹ˆæ ·çš„ä»£ç æ‰æ˜¯é«˜è´¨é‡çš„ä»£ç â“</p>
</div>
<!-- more -->
<h2>ä»€ä¹ˆæ˜¯é«˜è´¨é‡ä»£ç </h2>
<p>ä»£ç è´¨é‡çš„è¯„ä»·æœ‰å¾ˆå¼ºçš„ä¸»è§‚æ€§ï¼Œæè¿°ä»£ç è´¨é‡çš„è¯æ±‡ä¹Ÿæœ‰å¾ˆå¤šï¼Œæ¯”å¦‚å¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§ã€çµæ´»ã€ä¼˜é›…ã€ç®€æ´ç­‰ï¼Œè¿™äº›è¯æ±‡æ˜¯ä»ä¸åŒçš„ç»´åº¦å»è¯„ä»·ä»£ç è´¨é‡çš„ã€‚å®ƒä»¬ä¹‹é—´æœ‰äº’ç›¸ä½œç”¨ï¼Œå¹¶ä¸æ˜¯ç‹¬ç«‹çš„ï¼Œæ¯”å¦‚ï¼Œä»£ç çš„å¯è¯»æ€§å¥½ã€å¯æ‰©å±•æ€§å¥½å°±æ„å‘³ç€ä»£ç çš„å¯ç»´æŠ¤æ€§å¥½ã€‚ä»£ç è´¨é‡é«˜ä½æ˜¯ä¸€ä¸ªç»¼åˆå„ç§å› ç´ å¾—åˆ°çš„ç»“è®ºã€‚æˆ‘ä»¬å¹¶ä¸èƒ½é€šè¿‡å•ä¸€çš„ç»´åº¦å»è¯„ä»·ä¸€æ®µä»£ç çš„å¥½åã€‚</p>
<h3>å¯ç»´æŠ¤æ€§ï¼ˆmaintainabilityï¼‰</h3>
<blockquote>
<p>ç»´æŠ¤ï¼šæ— å¤–ä¹å°±æ˜¯ä¿®æ”¹bugã€ä¿®æ”¹è€çš„ä»£ç ã€æ·»åŠ æ–°çš„ä»£ç ä¹‹ç±»çš„å·¥ä½œã€‚</p>
</blockquote>
<p><strong>ç»´æŠ¤ä»£ç çš„æ—¶é—´è¿œè¿œå¤§äºç¼–å†™ä»£ç çš„æ—¶é—´</strong>
å…¶ä¸­ï¼š</p>
<ul>
<li>ä»£ç æ˜“ç»´æŠ¤ï¼šåœ¨ä¸ç ´ååŸæœ‰ä»£ç è®¾è®¡ã€ä¸å¼•å…¥æ–°çš„bugçš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿå¿«é€Ÿåœ°ä¿®æ”¹æˆ–è€…æ·»åŠ ä»£ç ã€‚</li>
<li>ä»£ç ä¸æ˜“ç»´æŠ¤ï¼šä¿®æ”¹æˆ–è€…æ·»åŠ ä»£ç éœ€è¦å†’ç€æå¤§çš„å¼•å…¥æ–°bugçš„é£é™©ï¼Œå¹¶ä¸”éœ€è¦èŠ±è´¹å¾ˆé•¿çš„æ—¶é—´æ‰èƒ½å®Œæˆã€‚</li>
</ul>
<h3>å¯è¯»æ€§ï¼ˆreadabilityï¼‰</h3>
<blockquote>
<p>å¯è¯»ï¼šä»£ç æ˜“è¯»æ˜“ç†è§£</p>
</blockquote>
<p><strong>ä»£ç è¢«é˜…è¯»çš„æ¬¡æ•°è¿œè¿œè¶…è¿‡è¢«ç¼–å†™çš„æ¬¡æ•°</strong>
æˆ‘ä»¬å¯ä»¥ä»ä»¥ä¸‹æ–¹é¢æ¥è¯„ä»·ï¼š</p>
<ol>
<li>ä»£ç æ˜¯å¦ç¬¦åˆç¼–ç è§„èŒƒï¼›</li>
<li>å‘½åæ˜¯å¦è¾¾æ„ï¼›</li>
<li>æ³¨é‡Šæ˜¯å¦è¯¦å°½ï¼›</li>
<li>å‡½æ•°æ˜¯å¦é•¿çŸ­åˆé€‚ï¼›</li>
<li>æ¨¡å—åˆ’åˆ†æ˜¯å¦æ¸…æ™°ï¼›</li>
<li>æ˜¯å¦ç¬¦åˆé«˜å†…èšä½è€¦åˆï¼›</li>
</ol>
<h3>å¯æ‰©å±•æ€§ï¼ˆextensibilityï¼‰</h3>
<blockquote>
<p>å¯æ‰©å±•ï¼šä»£ç åº”å¯¹æœªæ¥éœ€æ±‚å˜åŒ–çš„èƒ½åŠ›</p>
</blockquote>
<p><strong>å¼€é—­åŸåˆ™ï¼šå¯¹ä¿®æ”¹å…³é—­ï¼Œå¯¹æ‰©å±•å¼€æ”¾</strong>
è¯„åˆ¤æ ‡å‡†ï¼š</p>
<ul>
<li>æˆ‘ä»¬åœ¨ä¸ä¿®æ”¹æˆ–å°‘é‡ä¿®æ”¹åŸæœ‰ä»£ç çš„æƒ…å†µï¼Œé€šè¿‡æ‰©å±•çš„æ–¹å¼æ·»åŠ æ–°çš„åŠŸèƒ½ä»£ç ï¼›</li>
<li>ä»£ç é¢„ç•™äº†ä¸€äº›åŠŸèƒ½æ‰©å±•ç‚¹ï¼Œä¸éœ€è¦å› ä¸ºæ·»åŠ ä¸€ä¸ªåŠŸèƒ½è€Œå¤§åŠ¨å¹²æˆˆï¼Œæ”¹åŠ¨å¤§é‡çš„åŸå§‹ä»£ç ï¼›</li>
</ul>
<h3>çµæ´»æ€§ï¼ˆflexibilityï¼‰</h3>
<blockquote>
<p>çµæ´»ï¼šä»£ç æ˜“æ‰©å±•ã€æ˜“å¤ç”¨æˆ–è€…æ˜“ç”¨</p>
</blockquote>
<p>ä¸¾ä¾‹å¦‚ä¸‹ï¼š</p>
<ul>
<li>
<p>æ˜“æ‰©å±•ï¼šå½“æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªæ–°çš„åŠŸèƒ½ä»£ç çš„æ—¶å€™ï¼ŒåŸæœ‰çš„ä»£ç å·²ç»é¢„ç•™å¥½äº†æ‰©å±•ç‚¹ï¼Œæˆ‘ä»¬ä¸éœ€è¦ä¿®æ”¹åŸæœ‰çš„ä»£ç ï¼Œåªè¦åœ¨æ‰©å±•ç‚¹ä¸Šæ·»åŠ æ–°çš„ä»£ç å³å¯ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬é™¤äº†å¯ä»¥è¯´ä»£ç æ˜“æ‰©å±•ï¼Œè¿˜å¯ä»¥è¯´ä»£ç å†™å¾—å¥½çµæ´»ã€‚</p>
</li>
<li>
<p>æ˜“å¤ç”¨ï¼šå½“æˆ‘ä»¬è¦å®ç°ä¸€ä¸ªåŠŸèƒ½çš„æ—¶å€™ï¼Œå‘ç°åŸæœ‰ä»£ç ä¸­ï¼Œå·²ç»æŠ½è±¡å‡ºäº†å¾ˆå¤šåº•å±‚å¯ä»¥å¤ç”¨çš„æ¨¡å—ã€ç±»ç­‰ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥æ‹¿æ¥ç›´æ¥ä½¿ç”¨ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬é™¤äº†å¯ä»¥è¯´ä»£ç æ˜“å¤ç”¨ä¹‹å¤–ï¼Œè¿˜å¯ä»¥è¯´ä»£ç å†™å¾—å¥½çµæ´»ã€‚</p>
</li>
<li>
<p>æ˜“ç”¨ï¼šå½“æˆ‘ä»¬ä½¿ç”¨æŸç»„æ¥å£çš„æ—¶å€™ï¼Œå¦‚æœè¿™ç»„æ¥å£å¯ä»¥åº”å¯¹å„ç§ä½¿ç”¨åœºæ™¯ï¼Œæ»¡è¶³å„ç§ä¸åŒçš„éœ€æ±‚ï¼Œæˆ‘ä»¬é™¤äº†å¯ä»¥è¯´æ¥å£æ˜“ç”¨ä¹‹å¤–ï¼Œè¿˜å¯ä»¥è¯´è¿™ä¸ªæ¥å£è®¾è®¡å¾—å¥½çµæ´»æˆ–è€…ä»£ç å†™å¾—å¥½çµæ´»ã€‚</p>
</li>
</ul>
<h3>ç®€æ´æ€§ï¼ˆsimplicityï¼‰</h3>
<blockquote>
<p>ç®€æ´ï¼šä»£ç ç®€å•ã€é€»è¾‘æ¸…æ™°</p>
</blockquote>
<p><strong>KISSåŸåˆ™ï¼šâ€œKeep it Simple,Stupidâ€</strong>
æ€ä¹ˆè¯„åˆ¤å‘¢ï¼Ÿæ¯ä¸ªäººçš„æ ‡å‡†éƒ½ä¸ä¸€æ ·ï¼Œæˆ‘è§‰å¾—èƒ½å¤Ÿå¿«é€Ÿç†è§£ä¸šåŠ¡é€»è¾‘å°±æ˜¯ç®€å•çš„ã€‚"æ€ä»æ·±è€Œè¡Œä»ç®€ï¼ŒçœŸæ­£çš„é«˜æ‰‹èƒ½äº‘æ·¡é£è½»åœ°ç”¨æœ€ç®€å•çš„æ–¹æ³•è§£å†³æœ€å¤æ‚çš„é—®é¢˜ã€‚"</p>
<h3>å¯å¤ç”¨æ€§ï¼ˆreusabilityï¼‰</h3>
<blockquote>
<p>å¯å¤ç”¨ï¼šå°½é‡å‡å°‘é‡å¤ä»£ç çš„ç¼–å†™ï¼Œå¤ç”¨å·²æœ‰çš„ä»£ç ã€‚</p>
</blockquote>
<p><strong>DRYåŸåˆ™ï¼šâ€œDon't Repeat Yourselfâ€</strong>
ä½¿ç”¨æŠ€å·§ï¼š</p>
<ul>
<li>é¢å‘å¯¹è±¡ç‰¹æ€§ï¼šç»§æ‰¿å’Œå¤šæ€å°±æ˜¯ä¸ºäº†æé«˜å¯å¤ç”¨æ€§ï¼›</li>
<li>è§£è€¦ã€é«˜å†…èšã€æ¨¡å—åŒ–ç­‰æ€æƒ³éƒ½èƒ½æé«˜ä»£ç çš„å¯å¤ç”¨æ€§ï¼›</li>
<li>å•ä¸€èŒè´£åŸåˆ™ä¸å¯å¤ç”¨æ€§ç›¸å…³ï¼›</li>
</ul>
<h3>å¯æµ‹è¯•æ€§ï¼ˆtestabilityï¼‰</h3>
<blockquote>
<p>å¯æµ‹è¯•ï¼šèƒ½å¦æ–¹ä¾¿åœ°æµ‹è¯•ä»£ç é€»è¾‘</p>
</blockquote>
<p>è¯„åˆ¤æ ‡å‡†ï¼š</p>
<ul>
<li>å³ä¾¿æœ‰å­˜å‚¨å’Œç¬¬ä¸‰æ–¹æœåŠ¡ä¹Ÿèƒ½æµ‹è¯•ï¼›</li>
<li>ä¸ä¾èµ–å„ä¸ªç¯å¢ƒï¼›</li>
</ul>
]]></content>
    <category term="è®¾è®¡æ¨¡å¼"/>
    <published>2022-11-01T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">åˆ†æ”¯è§„èŒƒ</title>
    <id>http://blog.cjhe.top/project-standard/branch.html</id>
    <link href="http://blog.cjhe.top/project-standard/branch.html"/>
    <updated>2024-05-05T15:52:14.000Z</updated>
    <summary type="html"><![CDATA[<figure><img src="https://www.ruanyifeng.com/blogimg/asset/2015/bg2015122301.png" alt="git-model" tabindex="0" loading="lazy"><figcaption>git-model</figcaption></figure>
<div class="hint-container tip">
<p class="hint-container-title">æç¤º</p>
<p>ä¸€ä¸ªå¥½çš„ä»£ç åˆ†æ”¯åº”è¯¥æ˜¯æ€æ ·çš„â“</p>
</div>
]]></summary>
    <content type="html"><![CDATA[<figure><img src="https://www.ruanyifeng.com/blogimg/asset/2015/bg2015122301.png" alt="git-model" tabindex="0" loading="lazy"><figcaption>git-model</figcaption></figure>
<div class="hint-container tip">
<p class="hint-container-title">æç¤º</p>
<p>ä¸€ä¸ªå¥½çš„ä»£ç åˆ†æ”¯åº”è¯¥æ˜¯æ€æ ·çš„â“</p>
</div>
<!-- more -->
<h2>åˆ†æ”¯æ¨¡å‹</h2>
<p>æˆ‘ä»¬ç»å¸¸ä½¿ç”¨Gitç”¨äºç®¡ç†ç‰ˆæœ¬ï¼Œä½†å¦‚æœæ²¡æœ‰æ¸…æ™°çš„æµç¨‹å’Œè§„èŒƒï¼Œä¼šå¯¼è‡´éš¾ä»¥åè°ƒå’Œç»´æŠ¤ã€‚
Vincent Driessen ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæå‡º<a href="https://nvie.com/posts/a-successful-git-branching-model/" target="_blank" rel="noopener noreferrer">A Successful Git Branching Model</a></p>
<figure><figcaption>git-model</figcaption></figure>
<h2>masteråˆ†æ”¯</h2>
<p>è¿™ä¸ªåˆ†æ”¯ä¿æŒæœ€è¿‘å‘å¸ƒåˆ°ç”Ÿäº§ç¯å¢ƒçš„ä»£ç ã€‚</p>
<div class="hint-container warning">
<p class="hint-container-title">æ³¨æ„</p>
<ul>
<li>ä¸èƒ½åœ¨è¿™ä¸ªåˆ†æ”¯ç›´æ¥ä¿®æ”¹</li>
<li>ç”Ÿäº§ç¯å¢ƒè¿è¡Œçš„ä»£ç å’Œè¯¥åˆ†æ”¯ä¿æŒä¸€è‡´</li>
<li>masteråˆ†æ”¯æ¯åˆå¹¶ä¸€ä¸ªhotfix/releaseåˆ†æ”¯ï¼Œéƒ½ä¼šæ‰“ä¸€ä¸ªç‰ˆæœ¬æ ‡ç­¾</li>
</ul>
</div>
<h2>developåˆ†æ”¯</h2>
<p>è¿™ä¸ªåˆ†æ”¯æ˜¯æˆ‘ä»¬çš„ä¸»å¼€å‘åˆ†æ”¯</p>
<div class="hint-container warning">
<p class="hint-container-title">æ³¨æ„</p>
<p>feature/release/hotfixéƒ½éœ€è¦åˆå¹¶åˆ°è¯¥åˆ†æ”¯</p>
</div>
<h2>featureåˆ†æ”¯</h2>
<p>è¿™ä¸ªåˆ†æ”¯æ˜¯ç”¨æ¥å¼€å‘æ–°çš„åŠŸèƒ½ï¼Œä¸€æ—¦å¼€å‘å®Œæˆï¼Œåˆå¹¶åˆ°developåˆ†æ”¯å¹¶è¿›å…¥ä¸‹ä¸€ä¸ªrelease</p>
<div class="hint-container warning">
<p class="hint-container-title">æ³¨æ„</p>
<ul>
<li>åˆ†æ”¯å‘½åå»ºè®®ï¼š<code>feature/xxx-xxx</code></li>
<li>åˆå¹¶åˆ°developåˆ†æ”¯éœ€è¦åˆ é™¤è¯¥åˆ†æ”¯ï¼Œå¦‚æœæœ‰bugï¼Œåœ¨å¯¹åº”çš„releaseåˆ†æ”¯è¿›è¡Œä¿®å¤</li>
<li>featureåˆ†æ”¯åˆå¹¶åˆ°developåˆ†æ”¯ä¹‹å‰å…ˆpullä¸€ä¸‹developåˆ†æ”¯ï¼Œé¿å…å†²çª</li>
</ul>
</div>
<h2>releaseåˆ†æ”¯</h2>
<p>å½“éœ€è¦å‘å¸ƒä¸€ä¸ªæ–°çš„releaseçš„æ—¶å€™ï¼ŒåŸºäºdevelopåˆ†æ”¯åˆ›å»ºä¸€ä¸ªreleaseåˆ†æ”¯</p>
<div class="hint-container tip">
<p class="hint-container-title">æç¤º</p>
<ul>
<li>åˆ†æ”¯åå»ºè®®å‘½å<code>release/xxx-xxx</code></li>
<li>æµ‹è¯•äººå‘˜åŸºäºreleaseåˆ†æ”¯è¿›è¡Œæµ‹è¯•ï¼Œå¦‚æœ‰bugï¼Œä¹Ÿåœ¨è¯¥åˆ†æ”¯ä¿®å¤ï¼Œå†æµ‹è¯•ã€‚</li>
<li>å®Œæˆreleaseåˆ†æ”¯åéœ€è¦åˆå¹¶åˆ°masterå’Œdevelopåˆ†æ”¯</li>
</ul>
</div>
<h2>hotfixåˆ†æ”¯</h2>
<p>å½“åœ¨ç°ç½‘å‘ç°bugæ—¶ï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªhotfixåˆ†æ”¯è¿›è¡Œä¿®å¤ï¼Œå®Œæˆååˆå¹¶åˆ°masterå’Œdevelopï¼Œhotfixçš„æ”¹åŠ¨ä¼šè¿›å…¥ä¸‹ä¸€ä¸ªrelease</p>
<div class="hint-container warning">
<p class="hint-container-title">æ³¨æ„</p>
<ul>
<li>å»ºè®®å‘½åï¼š<code>hotfix/xxx-xxx</code></li>
<li>åªèƒ½åŸºäºmasteråˆ†æ”¯åˆ›å»ºhotfixåˆ†æ”¯</li>
</ul>
</div>
]]></content>
    <category term="é¡¹ç›®è§„èŒƒ"/>
    <published>2020-02-11T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">ç›®å½•è§„èŒƒ</title>
    <id>http://blog.cjhe.top/project-standard/directory.html</id>
    <link href="http://blog.cjhe.top/project-standard/directory.html"/>
    <updated>2024-05-06T02:44:40.000Z</updated>
    <summary type="html"><![CDATA[<div class="hint-container tip">
<p class="hint-container-title">æç¤º</p>
<p>Goè¯­è¨€é¡¹ç›®ä¸šç•Œå…¬è®¤çš„ç›®å½•ç»“æ„æ˜¯æ€æ ·çš„â“</p>
</div>
]]></summary>
    <content type="html"><![CDATA[<div class="hint-container tip">
<p class="hint-container-title">æç¤º</p>
<p>Goè¯­è¨€é¡¹ç›®ä¸šç•Œå…¬è®¤çš„ç›®å½•ç»“æ„æ˜¯æ€æ ·çš„â“</p>
</div>
<!-- more -->
<h2>ç›®å½•ç»“æ„</h2>
<blockquote>
<p>å¯ä»¥é€šè¿‡ä»¥ä¸‹ç»´åº¦è¿›è¡Œè€ƒé‡ï¼š</p>
<ul>
<li>
<p>å‘½åæ¸…æ™°ï¼šç›®å½•å‘½åéœ€è¦ç®€æ´ï¼Œæ¸…æ™°çš„è¡¨è¾¾å‡ºè¯¥ç›®å½•å®ç°çš„åŠŸèƒ½ï¼Œåšåˆ°ä¸€çœ‹åˆ°è¯¥ç›®å½•åå°±çŸ¥é“æ˜¯å¹²å˜›çš„ï¼›</p>
</li>
<li>
<p>åŠŸèƒ½æ˜ç¡®ï¼šç›®å½•çš„åŠŸèƒ½å¿…é¡»æ˜ç¡®ï¼Œä¾‹å¦‚ï¼šapiç›®å½•æ˜¯æ¥å£æœåŠ¡ã€serviceç›®å½•æ˜¯ä¸šåŠ¡é€»è¾‘ï¼›</p>
</li>
<li>
<p>åŠŸèƒ½é½å…¨ï¼šä¾‹å¦‚æµ‹è¯•ã€æ„å»ºã€è„šæœ¬ã€å·¥å…·ã€æ–‡æ¡£ç­‰ï¼›</p>
</li>
</ul>
</blockquote>
<p>è¿™é‡Œå‚è€ƒGoè¯­è¨€å…¬è®¤é¡¹ç›®ç›®å½•<a href="https://github.com/golang-standards/project-layout" target="_blank" rel="noopener noreferrer">project-layout</a>ç»“æ„å¦‚ä¸‹ï¼š</p>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>.
â”œâ”€â”€ api
â”œâ”€â”€ assets
â”œâ”€â”€ build
â”‚   â”œâ”€â”€ ci
â”‚   â””â”€â”€ package
â”œâ”€â”€ cmd
â”‚   â””â”€â”€ _your_app_
â”œâ”€â”€ configs
â”œâ”€â”€ deployments
â”œâ”€â”€ docs
â”œâ”€â”€ examples
â”œâ”€â”€ githooks
â”œâ”€â”€ init
â”œâ”€â”€ internal
â”‚   â”œâ”€â”€ app
â”‚   â”‚   â””â”€â”€ _your_app_
â”‚   â””â”€â”€ pkg
â”‚       â””â”€â”€ _your_private_lib_
â”œâ”€â”€ pkg
â”‚   â””â”€â”€ _your_public_lib_
â”œâ”€â”€ scripts
â”œâ”€â”€ test
â”œâ”€â”€ third_party
â”œâ”€â”€ tools
â”œâ”€â”€ vendor
â”œâ”€â”€ web
â”‚   â”œâ”€â”€ app
â”‚   â”œâ”€â”€ static
â”‚   â””â”€â”€ template
â””â”€â”€ website
</code></pre></div><h2>åº”ç”¨ç›®å½•</h2>
<h3>apiç›®å½•</h3>
<blockquote>
<p>OpenAPI/Swaggerè§„èŒƒã€JSONæ¨¡å¼æ–‡ä»¶ã€åè®®å®šä¹‰æ–‡ä»¶</p>
</blockquote>
<h3>cmdç›®å½•</h3>
<blockquote>
<p>è¯¥é¡¹ç›®çš„ä¸»è¦åº”ç”¨ï¼ŒGoè¯­è¨€ä»¥mainå‡½æ•°æ–‡ä»¶ä½œä¸ºç¨‹åºå…¥å£ã€‚æ¯ä¸ªåº”ç”¨ç¨‹åºçš„ç›®å½•åç§°åº”ä¸æ‰§è¡Œæ–‡ä»¶çš„åç§°ç›¸åŒ¹é…ï¼Œä¾‹å¦‚ï¼š<code>/cmd/myapp</code></p>
</blockquote>
<h3>examplesç›®å½•</h3>
<blockquote>
<p>åº”ç”¨ç¨‹åºå’Œå…¬å…±åº“çš„ç¤ºä¾‹</p>
</blockquote>
<h3>internalç›®å½•</h3>
<blockquote>
<p>å­˜æ”¾ç§æœ‰åº”ç”¨å’Œåº“ä»£ç ï¼Œå¦‚æœä¸€äº›ä»£ç ï¼Œä½ ä¸å¸Œæœ›åœ¨å…¶ä»–åœ¨å…¶ä»–åº”ç”¨å’Œåº“ä¸­è¢«å¯¼å…¥ï¼Œå¯ä»¥æ”¾åœ¨internalç›®å½•ä¸‹ã€‚è€Œå¯¹äºç§æœ‰åº”ç”¨å…±äº«çš„ä»£ç å¯ä»¥æ”¾åœ¨/internal/pkgç›®å½•ä¸‹ã€‚
å»ºè®®internalç›®å½•ä»¥å„ä¸ªç»„ä»¶çš„æ–¹å¼è¿›è¡Œåˆ†å±‚ã€‚</p>
</blockquote>
<h3>pkgç›®å½•</h3>
<blockquote>
<p>ä¸internalç›¸åï¼Œè¯¥ç›®å½•å­˜æ”¾å¯ä¾›å…¶ä»–å¤–éƒ¨åº”ç”¨ç¨‹åºä½¿ç”¨çš„åº“ä»£ç ã€‚</p>
</blockquote>
<h3>vendorç›®å½•</h3>
<blockquote>
<p>è¯¥ç›®å½•å­˜æ”¾é¡¹ç›®ä¾èµ–ï¼Œå¯é€šè¿‡<code>go mod vendor</code>åˆ›å»ºã€‚</p>
</blockquote>
<p>ğŸ‘€ æ³¨æ„</p>
<p>å¦‚æœå¼€å‘çš„æ˜¯Goè¯­è¨€åº“ï¼Œä¸è¦æäº¤vendorä¾èµ–åŒ…</p>
<h3>testç›®å½•</h3>
<blockquote>
<p>å…¶ä»–å¤–éƒ¨æµ‹è¯•åº”ç”¨ç¨‹åºå’Œæµ‹è¯•æ•°æ®ã€‚å¯¹äºæ›´å¤§çš„é¡¹ç›®ï¼Œæœ‰ä¸€ä¸ªæ•°æ®å­ç›®å½•æ˜¯æœ‰æ„ä¹‰çš„ã€‚ä¾‹å¦‚ï¼š<code>/test/data</code>æˆ–è€…<code>/test/testdata</code></p>
</blockquote>
<p>ğŸ‘€ æ³¨æ„</p>
<p>Go ä¹Ÿä¼šå¿½ç•¥ä»¥â€œ.â€å¼€å¤´çš„ç›®å½•æˆ–æ–‡ä»¶ã€‚æˆ–â€œ_â€ï¼Œå› æ­¤æ‚¨å¯ä»¥æ›´çµæ´»åœ°å‘½åæµ‹è¯•æ•°æ®ç›®å½•ã€‚</p>
<h3>third_partyç›®å½•</h3>
<blockquote>
<p>å¤–éƒ¨å¸®åŠ©å·¥å…·ï¼Œåˆ†æ”¯ä»£ç æˆ–å…¶ä»–ç¬¬ä¸‰æ–¹åº”ç”¨ã€‚</p>
</blockquote>
<h3>toolsç›®å½•</h3>
<blockquote>
<p>è¯¥é¡¹ç›®çš„æ”¯æŒå·¥å…·</p>
</blockquote>
<p>ğŸ‘€ æ³¨æ„</p>
<p>è¿™äº›å·¥å…·å¯ä»¥ä»<code>pkg</code>å’Œ<code>internal</code>ç›®å½•å¯¼å…¥ä»£ç </p>
<h3>webç›®å½•</h3>
<blockquote>
<p>å‰ç«¯ä»£ç å­˜æ”¾ç›®å½•ï¼Œç”¨æ¥å­˜æ”¾Webé™æ€èµ„æºï¼ŒæœåŠ¡ç«¯æ¨¡å—å’Œå•é¡µåº”ç”¨ï¼ˆSPAsï¼‰</p>
</blockquote>
<h3>assets</h3>
<blockquote>
<p>å…¶ä»–èµ„äº§ï¼Œä¾‹å¦‚ï¼šå›¾åƒã€å¾½æ ‡ã€CSSã€JavaScriptç­‰</p>
</blockquote>
<h3>website</h3>
<blockquote>
<p>é¡¹ç›®ç½‘ç«™æˆ–è€…Githubé¡µé¢</p>
</blockquote>
<h2>é¡¹ç›®ç®¡ç†ç›®å½•ä¸æ–‡ä»¶</h2>
<h3>buildç›®å½•</h3>
<blockquote>
<p>æ‰“åŒ…å’ŒæŒç»­é›†æˆ</p>
<p>å°†äº‘ (AMI)ã€å®¹å™¨ (Docker)ã€æ“ä½œç³»ç»Ÿï¼ˆdebã€rpmã€pkgï¼‰åŒ…é…ç½®å’Œè„šæœ¬æ”¾åœ¨<code>/build/package</code>ç›®å½•ä¸­ã€‚</p>
<p>å°†CIï¼ˆtravisã€circleã€droneï¼‰é…ç½®å’Œè„šæœ¬æ”¾åœ¨<code>/build/ci</code>ç›®å½•ä¸­ã€‚</p>
</blockquote>
<p>ğŸ‘€ æ³¨æ„</p>
<p>ä¸€äº› CI å·¥å…·ï¼ˆä¾‹å¦‚ Travis CIï¼‰å¯¹å…¶é…ç½®æ–‡ä»¶çš„ä½ç½®éå¸¸æŒ‘å‰”ã€‚å°è¯•å°†é…ç½®æ–‡ä»¶æ”¾åœ¨/build/ciå°†å®ƒä»¬é“¾æ¥åˆ° CI å·¥å…·æœŸæœ›å®ƒä»¬çš„ä½ç½®çš„ç›®å½•ä¸­ï¼ˆå¦‚æœå¯èƒ½ï¼‰ã€‚</p>
<h3>configsç›®å½•</h3>
<blockquote>
<p>é…ç½®æ–‡ä»¶ï¼Œä¾‹å¦‚è¿™é‡Œå¯ä»¥å­˜æ”¾confdæˆ–consul-templateæ¨¡ç‰ˆæ–‡ä»¶ã€‚</p>
</blockquote>
<h3>deploymentsç›®å½•</h3>
<blockquote>
<p>IaaSã€PaaSã€ç³»ç»Ÿå’Œå®¹å™¨ç¼–æ’éƒ¨ç½²é…ç½®å’Œæ¨¡æ¿ï¼ˆdocker-composeã€kubernetes/helmã€mesosã€terraformã€boshï¼‰ã€‚</p>
</blockquote>
<p>ğŸ‘€ æ³¨æ„</p>
<p>åœ¨æŸäº›å­˜å‚¨åº“ï¼ˆå°¤å…¶æ˜¯ä½¿ç”¨ kubernetes éƒ¨ç½²çš„åº”ç”¨ç¨‹åºï¼‰ä¸­ï¼Œæ­¤ç›®å½•ç§°ä¸º<code>deploy</code>.</p>
<h3>initç›®å½•</h3>
<blockquote>
<p>ç³»ç»Ÿåˆå§‹åŒ–ï¼ˆsystemdã€upstartã€sysvï¼‰å’Œè¿›ç¨‹ç®¡ç†å™¨(runitã€supervisord)é…ç½®æ–‡ä»¶ï¼Œåœ¨éå®¹å™¨åŒ–éƒ¨ç½²çš„é¡¹ç›®ä¸­ä¼šä½¿ç”¨åˆ°ã€‚</p>
</blockquote>
<p>ä¾‹å¦‚ï¼šsystemdçš„unitæ–‡ä»¶ï¼Œç”¨äºç®¡ç†ç¨‹åºï¼Œä¸€èˆ¬ä»¥.serviceç»“å°¾</p>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>[Unit]
Description=OpenSSH server daemon
Documentation=man:sshd(8) man:sshd_config(5)
After=network.target sshd-keygen.target
Wants=sshd-keygen.target

[Service]
Type=notify
EnvironmentFile=-/etc/crypto-policies/back-ends/opensshserver.config
EnvironmentFile=-/etc/sysconfig/sshd
ExecStart=/usr/sbin/sshd -D $OPTIONS $CRYPTO_POLICY
ExecReload=/bin/kill -HUP $MAINPID
KillMode=process
Restart=on-failure
RestartSec=42s

[Install]
WantedBy=multi-user.target
</code></pre></div><h3>scriptsç›®å½•</h3>
<blockquote>
<p>æ‰§è¡Œå„ç§æ„å»ºã€å®‰è£…ã€åˆ†æç­‰æ“ä½œçš„è„šæœ¬ã€‚è¿™äº›è„šæœ¬ä½¿æ ¹çº§ Makefile å°è€Œç®€å•</p>
</blockquote>
<p>ä¾‹å¦‚: <a href="https://github.com/hashicorp/terraform/blob/master/Makefile" target="_blank" rel="noopener noreferrer">terraform-website</a>ä½¿ç”¨äº†å¾ˆå¤šsciptsç›®å½•ä¸‹çš„è„šæœ¬ï¼Œä½¿å¾—Makefileå°ä½†åŠŸèƒ½å¼ºå¤§ã€‚</p>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>WEBSITE_REPO=github.com/hashicorp/terraform-website
VERSION?="0.3.44"
PWD=$$(pwd)
DOCKER_IMAGE="hashicorp/terraform-website:full"
DOCKER_IMAGE_LOCAL="hashicorp-terraform-website-local"
DOCKER_RUN_FLAGS=--interactive \
	--rm \
	--tty \
	--workdir "/website" \
	--volume "$(shell pwd):/website/ext/terraform" \
	--volume "$(shell pwd)/website:/website/preview" \
	--publish "3000:3000" \
	-e "IS_CONTENT_PREVIEW=true" \
	-e "PREVIEW_FROM_REPO=terraform" \
	-e "NAV_DATA_DIRNAME=./preview/data" \
	-e "CONTENT_DIRNAME=./preview/docs" \
	-e "CURRENT_GIT_BRANCH=$$(git rev-parse --abbrev-ref HEAD)"

# generate runs `go generate` to build the dynamically generated
# source files, except the protobuf stubs which are built instead with
# "make protobuf".
generate:
	go generate ./...

# We separate the protobuf generation because most development tasks on
# Terraform do not involve changing protobuf files and protoc is not a
# go-gettable dependency and so getting it installed can be inconvenient.
#
# If you are working on changes to protobuf interfaces, run this Makefile
# target to be sure to regenerate all of the protobuf stubs using the expected
# versions of protoc and the protoc Go plugins.
protobuf:
	go run ./tools/protobuf-compile .

fmtcheck:
	"$(CURDIR)/scripts/gofmtcheck.sh"

importscheck:
	"$(CURDIR)/scripts/goimportscheck.sh"

staticcheck:
	"$(CURDIR)/scripts/staticcheck.sh"

exhaustive:
	"$(CURDIR)/scripts/exhaustive.sh"

# Default: run this if working on the website locally to run in watch mode.
website:
	@echo "==&gt; Downloading latest Docker image..."
	@docker pull ${DOCKER_IMAGE}
	@echo "==&gt; Starting website in Docker..."
	@docker run ${DOCKER_RUN_FLAGS} ${DOCKER_IMAGE} npm start

website/local:
	@echo "==&gt; Starting website in Docker..."
	@docker run ${DOCKER_RUN_FLAGS} ${DOCKER_IMAGE_LOCAL} npm start

.PHONY: website/build-local
website/build-local:
	@echo "==&gt; Building local Docker image"
	@docker build https://github.com/hashicorp/terraform-website.git\#master \
		-t $(DOCKER_IMAGE_LOCAL)

# disallow any parallelism (-j) for Make. This is necessary since some
# commands during the build process create temporary files that collide
# under parallel conditions.
.NOTPARALLEL:

.PHONY: fmtcheck importscheck generate protobuf website website-test staticcheck website/local website/build-local
</code></pre></div><h3>githooksç›®å½•</h3>
<blockquote>
<p>Gité’©å­ï¼Œæ¯”å¦‚å¯ä»¥å°†commit-msgå­˜æ”¾åœ¨è¯¥ç›®å½•</p>
</blockquote>
<h3>Makefileæ–‡ä»¶</h3>
<blockquote>
<p>Makefileæ˜¯ä¸€ä¸ªå¾ˆä¼˜ç§€çš„é¡¹ç›®ç®¡ç†å·¥å…·ï¼Œé€šå¸¸ç”¨æ¥æ‰§è¡Œé™æ€ä»£ç æ£€æŸ¥ã€å•å…ƒæµ‹è¯•ã€ç¼–è¯‘ç­‰åŠŸèƒ½</p>
</blockquote>
<ul>
<li>é™æ€ä»£ç æ£€æŸ¥(lint)ï¼šæ¨èç”¨ golangci-lintã€‚</li>
<li>å•å…ƒæµ‹è¯•(test)ï¼šè¿è¡Œ go test ./...ã€‚</li>
<li>ç¼–è¯‘(build)ï¼šç¼–è¯‘æºç ï¼Œæ”¯æŒä¸åŒçš„å¹³å°ï¼Œä¸åŒçš„ CPU æ¶æ„ã€‚</li>
<li>é•œåƒæ‰“åŒ…å’Œå‘å¸ƒ(image/image.push)ï¼šç°åœ¨çš„ç³»ç»Ÿæ¯”è¾ƒæ¨èç”¨ Docker/Kubernetes è¿›è¡Œéƒ¨ç½²ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¹Ÿè¦æœ‰é•œåƒæ„å»ºåŠŸèƒ½ã€‚</li>
<li>æ¸…ç†ï¼ˆcleanï¼‰:æ¸…ç†ä¸´æ—¶æ–‡ä»¶æˆ–è€…ç¼–è¯‘åçš„äº§ç‰©ã€‚</li>
<li>ä»£ç ç”Ÿæˆï¼ˆgenï¼‰ï¼šæ¯”å¦‚è¦ç¼–è¯‘ç”Ÿæˆ protobuf pb.go æ–‡ä»¶ã€‚</li>
<li>éƒ¨ç½²ï¼ˆdeployï¼Œå¯é€‰ï¼‰ï¼šä¸€é”®éƒ¨ç½²åŠŸèƒ½ï¼Œæ–¹ä¾¿æµ‹è¯•ã€‚</li>
<li>å‘å¸ƒï¼ˆreleaseï¼‰ï¼šå‘å¸ƒåŠŸèƒ½ï¼Œæ¯”å¦‚ï¼šå‘å¸ƒåˆ° Docker Hubã€github ç­‰ã€‚</li>
<li>å¸®åŠ©ï¼ˆhelpï¼‰:å‘Šè¯‰ Makefile æœ‰å“ªäº›åŠŸèƒ½ï¼Œå¦‚ä½•æ‰§è¡Œè¿™äº›åŠŸèƒ½ã€‚</li>
<li>ç‰ˆæƒå£°æ˜ï¼ˆadd-copyrightï¼‰ï¼šå¦‚æœæ˜¯å¼€æºé¡¹ç›®ï¼Œå¯èƒ½éœ€è¦åœ¨æ¯ä¸ªæ–‡ä»¶ä¸­æ·»åŠ ç‰ˆæƒå¤´ï¼Œè¿™å¯ä»¥é€šè¿‡ Makefile æ¥æ·»åŠ ã€‚</li>
<li>API æ–‡æ¡£ï¼ˆswaggerï¼‰ï¼šå¦‚æœä½¿ç”¨ swagger æ¥ç”Ÿæˆ API æ–‡æ¡£ï¼Œè¿™å¯ä»¥é€šè¿‡ Makefile æ¥ç”Ÿæˆã€‚</li>
</ul>
<h2>æ–‡æ¡£ç›®å½•ä¸æ–‡ä»¶</h2>
<h3>docsç›®å½•</h3>
<blockquote>
<p>è®¾è®¡å’Œç”¨æˆ·æ–‡æ¡£ï¼Œé™¤äº†<code>godoc</code>ç”Ÿæˆçš„æ–‡æ¡£ä¹‹å¤–</p>
</blockquote>
<ul>
<li>/docs/devel/{en-US,zh-CN}: å­˜æ”¾å¼€å‘æ–‡æ¡£ã€hackæ–‡æ¡£</li>
<li>/docs/guide/{en-US,zh-CN}: å­˜æ”¾ç”¨æˆ·æ‰‹å†Œï¼Œå®‰è£…ã€quickstartã€äº§å“æ–‡æ¡£ç­‰</li>
<li>/docs/image: å­˜æ”¾å›¾ç‰‡æ–‡ä»¶</li>
</ul>
<h3>CHANGELOGç›®å½•</h3>
<blockquote>
<p>å½“é¡¹ç›®æœ‰æ›´æ–°æ—¶ï¼Œä¸ºäº†æ–¹ä¾¿äº†è§£å½“å‰ç‰ˆæœ¬çš„æ›´æ–°å†…å®¹æˆ–è€…å†å²æ›´æ–°å†…å®¹ï¼Œéœ€è¦å°†æ›´æ–°è®°å½•å­˜æ”¾åˆ°CHANGELOGç›®å½•ã€‚</p>
</blockquote>
<p>ç¼–å†™CHANGELOGæ˜¯ä¸€ä¸ªç¹ççš„å·¥ä½œï¼Œæˆ‘ä»¬å¯ä»¥ç»“åˆ<a href="https://github.com/angular/angular/blob/22b96b9/CONTRIBUTING.md#-commit-message-guidelines" target="_blank" rel="noopener noreferrer">Angularè§„èŒƒ</a>å’Œ<a href="https://github.com/git-chglog/git-chglog" target="_blank" rel="noopener noreferrer">git-chglogå·¥å…·</a></p>
<h3>CONTRIBUTING.mdæ–‡ä»¶</h3>
<blockquote>
<p>å¼€æºé¡¹ç›®ç”¨äºè¯´æ˜å¦‚ä½•è´¡çŒ®ä»£ç ï¼Œå¦‚ä½•å¼€æºååŒç­‰ã€‚</p>
</blockquote>
<h3>LICENSEæ–‡ä»¶</h3>
<blockquote>
<p>ç‰ˆæƒæ–‡ä»¶ï¼Œå¸¸ç”¨çš„å¼€æºåè®®æœ‰ï¼šApache 2.0ã€MITã€GPLç­‰</p>
</blockquote>
<p>ä¸ºäº†å£°æ˜ç‰ˆæƒï¼Œä½ å¯èƒ½ä¼šéœ€è¦å°†LICENSEå¤´æ·»åŠ åˆ°æºä»£ç æ–‡ä»¶æˆ–è€…å…¶ä»–æ–‡ä»¶ä¸­ï¼Œå¯ä»¥å°è¯•ä½¿ç”¨è¿™ä¸ªå·¥å…·è‡ªåŠ¨åŒ–å®ç°ï¼š<a href="https://github.com/marmotedu/addlicense" target="_blank" rel="noopener noreferrer">addlicense</a></p>
<p>å½“ä»£ç ä¸­å¼•ç”¨äº†å…¶ä»–å¼€æºä»£ç æ—¶ï¼Œéœ€è¦åœ¨LICENSEä¸­è¯´æ˜å¯¹å…¶ä»–æºç çš„å¼•ç”¨ï¼Œå¯ä»¥å€ŸåŠ©å·¥å…·æ¥è¿›è¡Œæ£€æŸ¥ï¼š<a href="https://github.com/ribice/glice" target="_blank" rel="noopener noreferrer">glice</a></p>
<div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code>+</code></pre></div>]]></content>
    <category term="é¡¹ç›®è§„èŒƒ"/>
    <published>2020-02-09T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">ç‰ˆæœ¬è§„èŒƒ</title>
    <id>http://blog.cjhe.top/project-standard/version.html</id>
    <link href="http://blog.cjhe.top/project-standard/version.html"/>
    <updated>2024-04-15T09:57:53.000Z</updated>
    <summary type="html"><![CDATA[<div class="hint-container tip">
<p class="hint-container-title">æç¤º</p>
<p>éšç€ç³»ç»ŸåŠŸèƒ½è¶Šæ¥è¶Šå¤æ‚ï¼Œä¾èµ–çš„è½¯ä»¶åŒ…è¶Šæ¥è¶Šå¤šï¼Œå¦‚ä½•è§£å†³ã€ä¾èµ–åœ°ç‹±ã€‘é—®é¢˜ï¼Ÿ</p>
</div>
]]></summary>
    <content type="html"><![CDATA[<div class="hint-container tip">
<p class="hint-container-title">æç¤º</p>
<p>éšç€ç³»ç»ŸåŠŸèƒ½è¶Šæ¥è¶Šå¤æ‚ï¼Œä¾èµ–çš„è½¯ä»¶åŒ…è¶Šæ¥è¶Šå¤šï¼Œå¦‚ä½•è§£å†³ã€ä¾èµ–åœ°ç‹±ã€‘é—®é¢˜ï¼Ÿ</p>
</div>
<!-- more -->
<h2>è¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ</h2>
<blockquote>
<p>è¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒï¼ˆSemVer,Semantic Versioningï¼‰æ˜¯Githubèµ·è‰çš„ä¸€ä¸ªå…·æœ‰æŒ‡å¯¼æ„ä¹‰çš„ã€ç»Ÿä¸€çš„ç‰ˆæœ¬å·è¡¨ç¤ºè§„èŒƒã€‚
å®ƒè§„å®šäº†ç‰ˆæœ¬å·çš„è¡¨ç¤ºã€å¢åŠ å’Œæ¯”è¾ƒæ–¹å¼ï¼Œä»¥åŠä¸åŒç‰ˆæœ¬å·ä»£è¡¨çš„å«ä¹‰ã€‚</p>
</blockquote>
<p>è¯­ä¹‰åŒ–ç‰ˆæœ¬æ ¼å¼ä¸ºï¼š<code>ä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®è®¢å·ï¼ˆX.Y.Zï¼‰</code>ï¼Œå…¶ä¸­Xã€Yå’ŒZä¸ºéè´Ÿæ•´æ•°ï¼Œä¸”ç¦æ­¢åœ¨æ•°å­—å‰æ–¹è¡¥é›¶ã€‚
ä¾‹å¦‚ï¼šv1.2.3</p>
<p>ç‰ˆæœ¬å·å¢åŠ çš„å«ä¹‰ï¼š</p>
<ul>
<li>ä¸»ç‰ˆæœ¬å·ï¼ˆMAJORï¼‰ï¼šå½“åšäº†ä¸å…¼å®¹çš„APIä¿®æ”¹ã€‚ä¸€èˆ¬ç”¨äºå¤§çš„åŠŸèƒ½å˜åŠ¨(Breaking Change)ï¼Œå½±å“åˆ°ä¹‹å‰çš„åŠŸèƒ½ã€‚</li>
<li>æ¬¡ç‰ˆæœ¬å·ï¼ˆMINORï¼‰ï¼šå½“åšäº†å‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢åŠä¿®æ”¹ã€‚ä¸€èˆ¬ç”¨äºä¸å½±å“ä¹‹å‰é€»è¾‘çš„åŠŸèƒ½ä¼˜åŒ–ï¼Œæˆ–è€…æ–°çš„åŠŸèƒ½(New Feature)ã€‚</li>
<li>ä¿®è®¢å·ï¼ˆPATCHï¼‰ï¼šå½“åšäº†å‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£ï¼Œä¸€èˆ¬ç”¨äºé—®é¢˜ä¿®å¤(Bug Fix)ã€‚</li>
</ul>
<figure><figcaption>server</figcaption></figure>
<p>ä¸€äº›ç»éªŒï¼š</p>
<ul>
<li>å»ºè®®0.1.0ä½œä¸ºç¬¬ä¸€ä¸ªå¼€å‘ç‰ˆæœ¬å·ï¼›</li>
<li>å½“ç”¨äºæ­£å¼ç¯å¢ƒï¼Œå®ƒåº”è¯¥è¾¾åˆ°1.0.0ç‰ˆï¼Œ0.y.zç‰ˆæœ¬å‡å¯è§†ä¸ºä¸ç¨³å®šç‰ˆæœ¬ï¼Œä»åœ¨æŒç»­å¼€å‘ä¸­ï¼›</li>
<li>v1.2.3å¹¶ä¸æ˜¯ä¸€ä¸ªè¯­ä¹‰åŒ–çš„ç‰ˆæœ¬å·ï¼Œä½†æ˜¯åœ¨è¯­ä¹‰åŒ–ç‰ˆæœ¬ä¹‹å‰å¢åŠ å‰ç¼€â€v"æ˜¯ç”¨æ¥è¡¨ç¤ºç‰ˆæœ¬å·çš„å¸¸ç”¨åšæ³•ï¼›</li>
</ul>
<p>å…³äºè¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒè¯¦ç»†å†…å®¹å‚è€ƒï¼š<a href="https://semver.org/lang/zh-CN/" target="_blank" rel="noopener noreferrer">semver.org</a></p>
<h2>å…ˆè¡Œç‰ˆæœ¬</h2>
<p>æ­¤å¤–æˆ‘ä»¬è¿˜ä¼šç»å¸¸é‡è§å…ˆè¡Œç‰ˆæœ¬ï¼Œä¾‹å¦‚ï¼š1.0.0-alpha.0ã€1.0.0-alpha.1ã€1.0.0-beta.0ã€1.0.0-rc.0ã€1.0.0-rc.1ç­‰</p>
<blockquote>
<p>å½“è¦å‘å¸ƒå¤§ç‰ˆæœ¬æˆ–è€…æ ¸å¿ƒçš„featureæ—¶ï¼Œä½†åˆä¸èƒ½ä¿è¯è¿™ä¸ªç‰ˆæœ¬çš„åŠŸèƒ½100%æ­£å¸¸ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦é€šè¿‡å‘å¸ƒå…ˆè¡Œç‰ˆæœ¬</p>
</blockquote>
<p>å¸¸è§çš„å…ˆè¡Œç‰ˆæœ¬åŒ…æ‹¬ï¼šå†…æµ‹ç‰ˆ ã€ç°åº¦ç‰ˆå’ŒRCç‰ˆæœ¬ã€‚Semverè§„èŒƒä¸­ä½¿ç”¨alphaã€betaã€rcæ¥ä¿®é¥°å³å°†è¦å‘å¸ƒçš„ç‰ˆæœ¬ã€‚</p>
<ul>
<li>snapshot:å¿«ç…§ï¼Œä¹Ÿè¢«ç§°ä¸ºå¼€å‘ç‰ˆï¼Œå¤„äºå¼€å‘é˜¶æ®µï¼Œè¿™ä¸ªç‰ˆæœ¬çš„ä»£ç ç¦æ­¢ç”¨äºç”Ÿäº§ç¯å¢ƒï¼›</li>
<li>alpha:å†…éƒ¨ç‰ˆæœ¬ï¼Œè¯¥ç‰ˆæœ¬è¡¨ç¤ºè½¯ä»¶åœ¨æ­¤é˜¶æ®µä¸»è¦æ˜¯ä»¥å®ç°åŠŸèƒ½ä¸ºä¸»ï¼Œç”¨äºè½¯ä»¶å¼€å‘å†…éƒ¨äº¤æµï¼Œä¸€èˆ¬bugæ¯”è¾ƒå¤šï¼›</li>
<li>beta:å…¬æµ‹ç‰ˆæœ¬ï¼Œè¯¥ç‰ˆæœ¬è¡¨ç¤ºç›¸å¯¹alphaç‰ˆå·²ç»æ”¹è¿›ï¼Œä½†ä»ç„¶å­˜åœ¨ä¸€äº›ç¼ºé™·ï¼Œç”¨äºä¸“ä¸šçˆ±å¥½è€…å¤§è§„æ¨¡ä½¿ç”¨ï¼›</li>
<li>gamma:æ¯”è¾ƒæˆç†Ÿçš„æµ‹è¯•ç‰ˆï¼›</li>
<li>rc:å³release candiateï¼Œæ­£å¼ç‰ˆæœ¬çš„å€™é€‰ç‰ˆæœ¬ï¼Œè¯¥ç‰ˆæœ¬å·²ç»ç›¸å½“æˆç†Ÿï¼Œåªä¼šä¿®å¤Bugï¼Œä¸ä¼šå¯¹è½¯ä»¶åšä»»ä½•å¤§çš„æ›´æ”¹ï¼›</li>
<li>release:å‘è¡Œç‰ˆæœ¬ï¼Œé€‚åˆä¸€èˆ¬ç”¨æˆ·ä½¿ç”¨ï¼Œä¸å¼€æºçš„è½¯ä»¶ï¼Œreleaseå¯èƒ½æ˜¯å¸¦æœ‰å…è´¹ä½¿ç”¨æ—¶é—´é™åˆ¶çš„ç‰ˆæœ¬ï¼›</li>
<li>stable:ç¨³å®šç‰ˆï¼ŒåŒreleaseï¼›</li>
</ul>
<h2>å·¥å…·</h2>
<p>å¦å¤–å¯ä»¥ä½¿ç”¨ä¸€äº›å·¥å…·è§„èŒƒç‰ˆæœ¬å·ï¼š</p>
<ul>
<li><a href="https://github.com/arnaud-deprez/gsemver" target="_blank" rel="noopener noreferrer">gsemver</a>
<ul>
<li>ä½¿ç”¨<code>gsemver bump</code>å‘½ä»¤å°±å¯ä»¥æ ¹æ®Gitå†å²æäº¤çº¦å®šç”Ÿæˆä¸‹ä¸€ä¸ªç‰ˆæœ¬</li>
</ul>
</li>
<li><a href="https://github.com/commitizen/cz-cli" target="_blank" rel="noopener noreferrer">cz-cli</a></li>
</ul>
]]></content>
    <category term="é¡¹ç›®è§„èŒƒ"/>
    <published>2020-01-25T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">å¦‚ä½•ä¸é è¿æ°”å˜å¾—å¯Œæœ‰</title>
    <id>http://blog.cjhe.top/share/how-to-get-rich-without-getting-lucky.html</id>
    <link href="http://blog.cjhe.top/share/how-to-get-rich-without-getting-lucky.html"/>
    <updated>2024-05-06T02:44:40.000Z</updated>
    <summary type="html"><![CDATA[<p>ã€è½¬ã€‘<a href="https://github.com/fat-garage/how-to-get-rich-without-getting-lucky" target="_blank" rel="noopener noreferrer">åŸæ–‡é“¾æ¥</a></p>
]]></summary>
    <content type="html"><![CDATA[<p>ã€è½¬ã€‘<a href="https://github.com/fat-garage/how-to-get-rich-without-getting-lucky" target="_blank" rel="noopener noreferrer">åŸæ–‡é“¾æ¥</a></p>
<!-- more -->
<p>å¦‚ä½•ä¸é è¿æ°”å˜å¾—å¯Œæœ‰</p>
<blockquote>
<p>Naval æ˜¯ç¾å›½é£é™©æŠ•èµ„å®¶ï¼Œè¿™æ˜¯ä»–çš„3å°æ—¶é•¿æ’­å®¢ã€Šå¦‚ä½•ä¸é è¿æ°”å˜å¾—å¯Œæœ‰ã€‹çš„ä¸­æ–‡ç¿»è¯‘ï¼Œä»‹ç»äº†ä»–çš„è´¢å¯Œè§‚ï¼Œéå¸¸å€¼å¾—ä¸€è¯»ã€‚</p>
</blockquote>
<h2>ç„ä¸€ç„è¿™ğŸ‘‡</h2>
<ol>
<li>æœ¬æ–‡æ¬è¿è‡ªã€èƒ–è½¦åº“ã€‘å…¬ä¼—å·ï¼Œè¯‘è€…<a href="https://www.notion.so/918aecdf7acc476f9cbba7836996c3fe" target="_blank" rel="noopener noreferrer">Jessie</a>&amp;<a href="https://github.com/wangmingyue123" target="_blank" rel="noopener noreferrer">æ˜æœˆ</a>ã€‚èƒ–è½¦åº“æ˜¯ä¸€ä¸ªæœ‰æ„æ€äººç±»çš„æ”¶é›†è®¡åˆ’ï¼ˆå¼€å‘è€…ã€åˆ›ä¸šè€…ã€è‡ªç”±èŒä¸šè€…ï¼Œè¿˜æœ‰ä½ ï¼‰å’ŒDAOå»ä¸­å¿ƒåŒ–åä½œå®éªŒå®¤ï¼Œçœ‹çœ‹å¤§å®¶éƒ½åœ¨ä¸åŒé¢†åŸŸåšç€ä»€ä¹ˆæ ·æ–°çš„å°è¯•ï¼Œå¸Œæœ›ç»™ä½ æœªæ¥çš„å¯èƒ½æ€§æä¾›ä¸€äº›æƒ³è±¡åŠ›ã€‚<strong>æ°è¥¿å’Œå¥¹çš„æœ‹å‹ä»¬ä¹Ÿä¼šåœ¨èƒ–è½¦åº“ç¬¬ä¸€æ—¶é—´æ›´æ–°<a href="https://mp.weixin.qq.com/s/c-yx-WfWcld1Z2tNpYJxlQ" target="_blank" rel="noopener noreferrer">â€œå¦‚ä½•ä¸é è¿æ°”å˜å¾—å¯Œæœ‰â€ç³»åˆ—</a></strong>ï¼Œæ¬¢è¿å¤§å®¶ä¸€èµ·æ¥ç©è€ ğŸ¤ã€‚</li>
</ol>
<figure><img src="https://i.imgur.com/WubW2ud.jpg" alt="èƒ–è½¦åº“" tabindex="0" loading="lazy"><figcaption>èƒ–è½¦åº“</figcaption></figure>
<ol start="2">
<li>å“ˆå“ˆå“ˆï¼ŒğŸ˜ å…¶å®æˆ‘è¿˜æ•´ç†å‡º<a href="https://www.notion.so/taosu/Updating-faf1fa3dbcc34e60b443506e76a9c1ab" target="_blank" rel="noopener noreferrer">notionç‰ˆ</a>å’Œ<a href="https://cdn.jsdelivr.net/gh/taosue/how-to-get-rich-without-getting-lucky@master/%E5%A6%82%E4%BD%95%E4%B8%8D%E9%9D%A0%E8%BF%90%E6%B0%94%E5%8F%98%E5%BE%97%E5%AF%8C%E6%9C%89(%E4%B8%8A)_Naval%20%EF%BC%88%E8%91%97%EF%BC%89%26Jessie%EF%BC%88%E8%AF%91%EF%BC%89.pdf" target="_blank" rel="noopener noreferrer">PDFç‰ˆ</a>(æˆ‘å°±æŠŠPDFå¯¼è¿›å»iPadï¼Œåœ¨iPadä¸Šçœ‹ä¹¦ğŸ“š)ï¼Œå¤§å®¶æˆ³æˆ³é“¾æ¥å°±å¯ä»¥çœ‹åˆ°äº†ã€‚</li>
</ol>
<h2>ç¬¬ä¸€æ¡ï¼šè¿½æ±‚è´¢å¯Œï¼Œè€Œä¸æ˜¯é‡‘é’±æˆ–åœ°ä½</h2>
<p>Niviï¼šä½ å¯èƒ½å¬è¯´è¿‡Navalåœ¨æ¨ç‰¹ä¸Šè¿›è¡Œçš„é‚£ä¸€æ³¢ä¸»é¢˜ä¸ºâ€œå¦‚ä½•åœ¨ä¸åªä¾é è¿æ°”çš„æƒ…å†µä¸‹è‡´å¯Œâ€çš„æ¨ç‰¹é£æš´ï¼ˆtweetstormï¼‰ã€‚æˆ‘ä»¬å€ŸåŠ©è¿™ä¸ªæ’­å®¢å›é¡¾å¤§éƒ¨åˆ†çš„æ¨æ–‡ï¼Œç»™Navalä¸€ä¸ªæœºä¼šè¯¦ç»†èŠèŠè¿™äº›è¯é¢˜ã€‚ä»–å¯èƒ½ä¼šæå‡ºä¸€äº›ä»¥å‰æ²¡æœ‰å‘è¡¨è¿‡çš„æƒ³æ³•ã€‚</p>
<p>Navalæ˜¯AngelListåˆ›å§‹äººå’ŒEpinionsçš„è”åˆåˆ›å§‹äººã€‚ä»–æ˜¯ä¸€ä½çœ¼å…‰ç‹¬åˆ°çš„ç§‘æŠ€æŠ•èµ„äººï¼ŒæŠ•å‡ºäº†åƒTwitterã€Uberè¿™æ ·çš„ç§‘æŠ€å…¬å¸ã€‚</p>
<p>ä¸åªæ˜¯ç§‘æŠ€è¡Œä¸šçš„äººï¼Œå„è¡Œå„ä¸šçš„äººéƒ½æƒ³çŸ¥é“<strong>å¦‚ä½•è§£å†³ä»–ä»¬ã€Œé’±çš„é—®é¢˜ã€</strong>ã€‚æ¯ä¸ªäººéƒ½éšçº¦åœ°æ„è¯†åˆ°è‡ªå·±æƒ³è¦å˜å¾—å¯Œæœ‰ï¼Œä½†æ˜¯ä»–ä»¬æ²¡æœ‰ä¸€å¥—å¥½çš„åŸåˆ™æ¥éµå®ˆå’Œè·µè¡Œã€‚</p>
<h3>è´¢å¯Œæ˜¯ä½ ç¡è§‰æ—¶è¿˜èƒ½äº§ç”Ÿæ”¶å…¥çš„èµ„äº§</h3>
<p>Niviï¼šè´¢å¯Œã€é‡‘é’±å’Œåœ°ä½æœ‰ä»€ä¹ˆåŒºåˆ«?</p>
<p>Navalï¼šè´¢å¯Œæ˜¯ä½ æ¸´æœ›çš„ä¸œè¥¿ï¼Œæ˜¯ä½ ç¡è§‰æ—¶è¿˜åœ¨äº§ç”Ÿæ”¶å…¥çš„è´¢äº§ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œè´¢å¯Œæ˜¯åœ¨å¤œé—´è¿˜èƒ½è¿è¡Œçš„ä¸ºå…¶ä»–å®¢æˆ·æœåŠ¡çš„è®¡ç®—æœºç¨‹åºã€‚è´¢å¯Œæ˜¯ä½ å­˜åœ¨é“¶è¡Œé‡Œçš„é’±ï¼Œç”¨äºå†æŠ•èµ„å…¶ä»–èµ„äº§å’Œä¸šåŠ¡ã€‚</p>
<p>æˆ¿å­æ˜¯è´¢å¯Œçš„ä¸€ç§å½¢å¼ï¼Œå› ä¸ºä½ å¯ä»¥æŠŠå®ƒç§Ÿå‡ºå»ï¼Œæ”¶å¾—ç§Ÿé‡‘ï¼Œå°½ç®¡è¿™æ˜¯ä¸€ç§æ¯”ç»è¥å•†ä¸šä¼ä¸šæ›´ä½æ•ˆçš„åœŸåœ°ä½¿ç”¨æ–¹å¼ã€‚</p>
<p>æˆ‘å¯¹è´¢å¯Œçš„å®šä¹‰æ˜¯æŒ‡é‚£äº›å¯ä»¥åœ¨<strong>ä½ ç¡è§‰æ—¶ä¾ç„¶å¯ä»¥ä¸ºä½ èµšé’±çš„ä¼ä¸šå’Œèµ„äº§</strong>ã€‚</p>
<h3>è´¢å¯Œçš„ç»ˆæç›®æ ‡æ˜¯è‡ªç”±</h3>
<p>ä½ æ¸´æœ›è´¢å¯Œï¼Œæ˜¯å› ä¸ºå®ƒèƒ½ç»™ä½ å¸¦æ¥è‡ªç”±ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ ä¸å¿…åƒç™½é¢†é‚£æ ·ä¸€ä¸ä¸è‹Ÿçš„ç³»é¢†å¸¦ï¼›ä½ ä¸å¿…æ—©ä¸Š6ç‚¹å°±èµ·åºŠã€996æŒ¤åœ°é“ä¸Šä¸‹ç­ï¼›ä½ ä¸å¿…æŠŠæ—¶é—´æµªè´¹åœ¨ä¸€ä»½æ²¡æœ‰çµé­‚ï¼Œä½ ä¸å–œæ¬¢çš„å·¥ä½œä¸Šã€‚</p>
<p><strong>æˆ‘ä»¬åˆ›é€ è´¢å¯Œå°±æ˜¯ä¸ºäº†è‡ªç”±ï¼Œä»…æ­¤è€Œå·²</strong>ã€‚è€Œä¸æ˜¯å»ä¹°æ¯›çš®å¤§è¡£ï¼Œä¸æ˜¯å»å¼€æ³•æ‹‰åˆ©ï¼Œä¸æ˜¯å»é©¾é©¶æ¸¸è‰‡ï¼Œä¹Ÿä¸æ˜¯å»ä¹˜åæ¹¾æµé£æœºç¯æ¸¸ä¸–ç•Œã€‚é‚£äº›ä¸œè¥¿å¾ˆå¿«å°±ä¼šå˜å¾—æ— èŠå’Œæ„šè ¢ã€‚å®ƒï¼ˆè´¢å¯Œï¼‰æ˜¯å…³äº<strong>ä½ å¦‚ä½•æˆä¸ºä½ è‡ªå·±çš„äº‹</strong>ã€‚</p>
<p>é™¤éä½ çœŸçš„æƒ³è¦è´¢å¯Œï¼Œå¦åˆ™ä½ ä¸ä¼šå¾—åˆ°å®ƒã€‚å…¨ä¸–ç•Œéƒ½æƒ³è¦å®ƒï¼Œå…¨ä¸–ç•Œéƒ½åœ¨ä¸ºæ­¤åŠªåŠ›ã€‚åœ¨æŸç§ç¨‹åº¦ä¸Šï¼Œå®ƒæ˜¯æœ‰ç«äº‰åŠ›çš„ã€‚è¿™æ˜¯ä¸€ä¸ªæ­£å’Œåšå¼ˆï¼Œä½†å…¶ä¸­ä¹Ÿæœ‰ç«äº‰å› ç´ ï¼Œå› ä¸ºç°åœ¨ç¤¾ä¼šä¸Šçš„èµ„æºæ˜¯æœ‰é™çš„ã€‚ä¸ºäº†è·å¾—èµ„æºå»åšä½ æƒ³åšçš„ï¼Œä½ å¿…é¡»è„±é¢–è€Œå‡ºã€‚</p>
<h3>é‡‘é’±æ˜¯æˆ‘ä»¬è½¬ç§»è´¢å¯Œçš„æ–¹å¼</h3>
<p>é‡‘é’±æ˜¯ç¤¾ä¼šä¿¡ç”¨ï¼Œå®ƒæ˜¯ä¸€ç§ä»åˆ«äººçš„æ—¶é—´ä¸­è·å¾—ä¿¡ç”¨å’Œå€ºåŠ¡çš„èƒ½åŠ›ã€‚å¦‚æœæˆ‘åšå¯¹äº†å·¥ä½œï¼Œä¸ºç¤¾ä¼šåˆ›é€ äº†ä»·å€¼ï¼Œç¤¾ä¼šä¼šè¯´ï¼šâ€œå“¦ï¼Œè°¢è°¢ä½ ã€‚æˆ‘ä»¬æ¬ ä½ ä¸€äº›ä¸œè¥¿ï¼Œå°†æ¥ä¼šè¡¥å¿ä½ ã€‚è¿™æ˜¯æˆ‘çš„å€Ÿæ¡ï¼Œæˆ‘ä»¬æŠŠå®ƒå«åšé’±å§ã€‚â€</p>
<p>é’±ä¼šè´¬å€¼æ˜¯å› ä¸º,</p>
<ul>
<li>äººä»¬å·äº†å€Ÿæ®</li>
<li>æ”¿åºœå¢å‘è´§å¸</li>
<li>äººä»¬è¿èƒŒIOU</li>
</ul>
<p>ä½†æ˜¯é‡‘é’±è¯•å›¾æˆä¸ºç¤¾ä¼šçš„ä¸€ä¸ªå¯é çš„æ¬ æ¡ï¼Œå› ä¸ºä½ åœ¨ä¸ºè‡ªå·±çš„ä»˜å‡ºè€Œè¢«ä»–äººäºæ¬ ã€‚æˆ‘ä»¬æŠŠè¿™äº›æ¬ æ¡åˆ°å¤„ä¼ é€’ï¼Œé‡‘é’±æ˜¯æˆ‘ä»¬è½¬ç§»è´¢å¯Œçš„æ–¹å¼ã€‚</p>
<h3>åœ°ä½æ˜¯ä½ åœ¨ç¤¾ä¼šç­‰çº§ä¸­çš„åœ°ä½</h3>
<p>äººç”ŸåŸºæœ¬ä¸Šæœ‰ä¸¤å¤§æ¸¸æˆã€‚ä¸€ä¸ªæ˜¯é‡‘é’±æ¸¸æˆã€‚é’±å¹¶ä¸èƒ½è§£å†³ä½ æ‰€æœ‰çš„é—®é¢˜ï¼Œä½†å®ƒä¼šè§£å†³ä½ æ‰€æœ‰çš„å’Œé’±ç›¸å…³çš„é—®é¢˜ã€‚æˆ‘æƒ³å¤§å®¶éƒ½èƒ½æ„è¯†åˆ°è¿™ä¸€ç‚¹ï¼Œæ‰€ä»¥æ‰æƒ³èµšé’±ã€‚åŒæ—¶ï¼Œåœ¨å†…å¿ƒæ·±å¤„ï¼Œè®¸å¤šäººè®¤ä¸ºä»–ä»¬åšä¸åˆ°ï¼Œæ‰€ä»¥ä»–ä»¬ä¸å¸Œæœ›ä»»ä½•è´¢å¯Œåˆ›é€ å‘ç”Ÿã€‚ä»–ä»¬æ”»å‡»é‚£äº›èµšé’±çš„ä¼ä¸šå’Œä¼ä¸šå®¶ä»¬ï¼Œè¯´ä»–ä»¬ï¼šâ€œèµšé’±æ˜¯ç½ªæ¶çš„ã€‚ä½ ä¸åº”è¯¥è¿™ä¹ˆåšã€‚â€ä½†ä»–ä»¬å®é™…ä¸Šåœ¨ç©å¦ä¸€ä¸ªæ¸¸æˆï¼Œé‚£å°±æ˜¯åœ°ä½æ¸¸æˆã€‚ä»–ä»¬è¯•å›¾ä¼ é€’ä¸€ç§ä¿¡æ¯â€œæˆ‘ä¸éœ€è¦é’±ï¼Œæˆ‘ä»¬ä¸è¦é’±ã€‚â€</p>
<p>åœ°ä½æŒ‡çš„æ˜¯ä½ åœ¨ç¤¾ä¼šç­‰çº§ä¸­çš„åœ°ä½ã€‚</p>
<p><strong>è´¢å¯Œä¸æ˜¯é›¶å’Œæ¸¸æˆ</strong>ã€‚ä¸–ç•Œä¸Šæ¯ä¸ªäººéƒ½å¯ä»¥æ‹¥æœ‰ä¸€æ‰€æˆ¿å­ï¼Œä½ æœ‰æˆ¿å­å¹¶ä¸ä¼šå½±å“æˆ‘æœ‰æˆ¿å­çš„èƒ½åŠ›ã€‚å¦‚æœæœ‰ä»€ä¹ˆåŒºåˆ«çš„è¯ï¼Œå»ºé€ çš„æˆ¿å±‹è¶Šå¤šï¼Œå»ºé€ æˆ¿å±‹å°±è¶Šå®¹æ˜“ï¼Œæˆ‘ä»¬å¯¹å»ºé€ æˆ¿å±‹çš„äº†è§£å°±è¶Šå¤šï¼Œå°±ä¼šæœ‰æ›´å¤šçš„äººæ‹¥æœ‰æˆ¿å±‹ã€‚</p>
<p><strong>è´¢å¯Œæ˜¯ä¸€ä¸ªæ­£å’Œæ¸¸æˆ</strong>ã€‚æˆ‘ä»¬ä¸€èµ·åˆ›é€ ï¼ŒåŠªåŠ›åˆ›é€ ç€å¯„æ‰˜ç€æˆ‘ä»¬ç¾å¥½æœŸå¾…çš„â€œè‰ºæœ¯å“â€æ¥è§£é‡Šæˆ‘ä»¬æ­£åœ¨åšçš„äº‹æƒ…ã€‚æœ€ç»ˆï¼Œä¸€äº›å…¨æ–°çš„ä¸œè¥¿å°†è¢«åˆ›é€ å‡ºæ¥ã€‚è¿™æ˜¯ä¸€ä¸ªæ­£å’Œæ¸¸æˆã€‚</p>
<p>å¦ä¸€æ–¹é¢ï¼Œ<strong>åœ°ä½æ˜¯ä¸€ä¸ªé›¶å’Œæ¸¸æˆ</strong>ã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸å¤è€çš„æ¸¸æˆã€‚æˆ‘ä»¬ä»åŸå§‹äººéƒ¨è½å¼€å§‹å°±ç©è¿™ä¸ªæ¸¸æˆäº†ã€‚ä¹Ÿå°±æ˜¯ç­‰çº§åˆ¶åº¦ã€‚è€å¤§æ˜¯è°ï¼Ÿè€äºŒæ˜¯è°ï¼Ÿè€ä¸‰æ˜¯è°ï¼Ÿè€ä¸‰æ‰“è´¥äº†è€äºŒï¼Œè€äºŒå°±å¿…é¡»è®©ä½ã€‚æ‰€ä»¥ï¼Œåœ°ä½æ˜¯ä¸€ä¸ªé›¶å’Œæ¸¸æˆã€‚</p>
<h2>ç¬¬äºŒæ¡ï¼šä¸ºä¸–ç•Œåˆ›é€ æ›´å¤š</h2>
<p><strong>è´¢å¯Œä¸æ˜¯ä»åˆ«äººé‚£é‡Œæ‹¿èµ°ä»€ä¹ˆï¼Œè€Œæ˜¯ä¸ºè¿™ä¸ªä¸–ç•Œåˆ›é€ æ›´å¤š</strong></p>
<h3>è´¢å¯Œåˆ›é€ å¸¦æ¥äº†ä¸–ç•Œçš„ä¸°å¯Œ</h3>
<p>Navalï¼šæœ‰ä¸€ç§è§‚ç‚¹è®¤ä¸ºèµšé’±æ˜¯é‚ªæ¶çš„ï¼Œè¿™ä¸ªè¯´æ³•å¥½åƒèµ·æºäºâ€œé‡‘é’±æ˜¯ä¸‡æ¶ä¹‹æºâ€ã€‚äººä»¬è®¤ä¸ºé“¶è¡Œå®¶å·èµ°äº†æˆ‘ä»¬çš„é’±ï¼Œè¿™åœ¨æŸç§ç¨‹åº¦ä¸Šæ˜¯æ­£ç¡®çš„ï¼Œåœ¨ä¸–ç•Œä¸Šçš„å¾ˆå¤šåœ°æ–¹ï¼Œæœ‰å¾ˆå¤šå·çªƒè¡Œä¸ºä¸€ç›´åœ¨å‘ç”Ÿã€‚</p>
<p>ä»æŸç§æ„ä¹‰ä¸Šè¯´ï¼Œä¸–ç•Œçš„å†å²å°±æ˜¯åˆ›é€ è€…å’Œç´¢å–è€…ä¹‹é—´çš„æ•é£Ÿè€…/è¢«æ•é£Ÿè€…å…³ç³»ã€‚æœ‰äº›äººèµ°å‡ºå»åˆ›é€ ä¸œè¥¿ï¼Œå»ºé€ ä¸œè¥¿ï¼ŒåŠªåŠ›åˆ›é€ æœºä¼šã€‚æœ‰äº›äººå¸¦ç€å‰‘ã€æªï¼Œæˆ–è€…ç»æµä¸Šæˆ‘ä»¬è¯´ç¨æ”¶ã€è£™å¸¦èµ„æœ¬ä¸»ä¹‰ï¼Œå…±äº§ä¸»ä¹‰ç­‰ç­‰å½¢å¼ï¼Œè¿›è¡Œç€ä¸åŒå½¢å¼çš„å·çªƒã€‚å³ä½¿åœ¨è‡ªç„¶ç•Œï¼Œå¯„ç”Ÿç”Ÿç‰©ä¹Ÿæ¯”éå¯„ç”Ÿç”Ÿç‰©å¤šã€‚ä½ èº«ä¸Šæœ‰å¾ˆå¤šå¯„ç”Ÿè™«ï¼Œå®ƒä»¬é ä½ ç”Ÿå­˜ã€‚å¥½çš„æƒ…å†µæ˜¯å…±ç”Ÿï¼Œä»–ä»¬ä¼šå›é¦ˆä¸€äº›ä¸œè¥¿ã€‚ä½†ä¹Ÿæœ‰å¾ˆå¤šåªæ˜¯ç´¢å–ã€‚è¿™å°±æ˜¯ä»»ä½•å¤æ‚ç³»ç»Ÿçš„æœ¬è´¨ã€‚</p>
<p>æˆ‘å…³æ³¨çš„æ˜¯çœŸæ­£çš„è´¢å¯Œåˆ›é€ ã€‚è¿™ä¸æ˜¯ä»…ä¸ºäº†èµšé’±ï¼Œä¸æ˜¯å•çº¯ä»åˆ«äººé‚£é‡Œæ‹¿ä¸œè¥¿ã€‚</p>
<p>æ˜¾è€Œæ˜“è§çš„æ˜¯ï¼Œå·¥ä½œä¸æ˜¯æœ‰é™çš„ï¼Œè´¢å¯Œä¹Ÿä¸æ˜¯æœ‰é™çš„ã€‚å¦åˆ™ï¼Œæˆ‘ä»¬è¿˜ä¼šååœ¨æ´ç©´é‡Œï¼Œç¢ç£¨ç€å¦‚ä½•ç“œåˆ†æŸ´ç«ï¼Œæˆ–è€…å¶å°”è¿æ°”å¥½æ—¶æ•é£Ÿåˆ°çš„ä¸€äº›æ­»é¹¿ã€‚</p>
<p>äººç±»æ–‡æ˜ä¸­çš„å¤§éƒ¨åˆ†è´¢å¯Œï¼Œäº‹å®ä¸Šæ˜¯å…¨éƒ¨è´¢å¯Œï¼Œéƒ½æ˜¯è¢«åˆ›é€ å‡ºæ¥çš„ã€‚å®ƒæ˜¯ä»æŸå¤„äº§ç”Ÿçš„ã€‚å®ƒæ˜¯ç”±äººåˆ›é€ ï¼Œç”±ç§‘æŠ€åˆ›é€ ï¼Œç”±ç”Ÿäº§åŠ›åˆ›é€ çš„ã€‚å®ƒæ˜¯é€šè¿‡åŠªåŠ›åˆ›é€ å‡ºæ¥çš„ã€‚è¿™ç§è¢«çªƒå–çš„æƒ³æ³•æ˜¯ä¸€ç§å¯æ€•çš„é›¶å’Œæ¸¸æˆï¼Œäººä»¬è¯•å›¾è·å¾—åœ°ä½çš„æ¸¸æˆã€‚</p>
<h3>æ¯ä¸ªäººéƒ½å¯ä»¥å˜å¾—å¯Œæœ‰</h3>
<p>ä½†ç°å®æ˜¯ï¼Œæ¯ä¸ªäººéƒ½å¯ä»¥å˜å¾—å¯Œæœ‰ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ç¬¬ä¸€ä¸–ç•Œå›½å®¶ï¼ŒåŸºæœ¬ä¸Šæ¯ä¸ªäººéƒ½æ¯”200å¹´å‰æ´»ç€çš„äººå¯Œæœ‰ã€‚200å¹´å‰ï¼Œæ²¡æœ‰äººä½¿ç”¨æŠ—ç”Ÿç´ ï¼Œæ²¡æœ‰äººæœ‰æ±½è½¦ï¼Œæ²¡æœ‰äººèƒ½ç”¨ç”µï¼Œæ²¡æœ‰äººæœ‰iPhoneã€‚æ‰€æœ‰è¿™äº›éƒ½æ˜¯ä½¿æˆ‘ä»¬ä½œä¸ºä¸€ä¸ªç‰©ç§å˜å¾—æ›´å¯Œæœ‰çš„å‘æ˜ã€‚ä»Šå¤©ï¼Œæˆ‘å®æ„¿åœ¨ç¬¬ä¸€ä¸–ç•Œå›½å®¶åšä¸€ä¸ªç©·äººï¼Œä¹Ÿä¸æ„¿åœ¨è·¯æ˜“åå››çš„æ³•å›½åšä¸€ä¸ªå¯Œäººã€‚è¿™æ˜¯å› ä¸ºè´¢å¯Œçš„åˆ›é€ ã€‚</p>
<p>æŠ€æœ¯çš„å¼•æ“æ˜¯ç§‘å­¦ï¼Œå…¶ç›®çš„æ˜¯åˆ›é€ ä¸°å¯Œæ€§ã€‚æ‰€ä»¥ï¼Œæˆ‘è®¤ä¸ºä»æ ¹æœ¬ä¸Šæ¥è¯´ï¼Œæ¯ä¸ªäººéƒ½å¯ä»¥å˜å¾—å¯Œæœ‰ã€‚</p>
<p>æˆ‘æƒ³è®©ä½ ä»¬æƒ³è±¡è¿™æ ·ä¸€ç§æƒ…å½¢ã€‚å¦‚æœæ¯ä¸ªäººéƒ½æŒæ¡ä¸€ä¸ªå¥½çš„è½¯ä»¶å·¥ç¨‹å¸ˆå’Œä¸€ä¸ªå¥½çš„ç¡¬ä»¶å·¥ç¨‹å¸ˆçš„æŠ€èƒ½ï¼Œä½ å¯ä»¥è‡ªå·±é€ æœºå™¨äººï¼Œå¼€å‘ç¨‹åºï¼Œè‡ªå·±å»ºæ¡¥ï¼Œå¹¶ä¸ºå®ƒä»¬ç¼–ç¨‹ã€‚å‡è®¾æ¯ä¸ªäººéƒ½çŸ¥é“æ€ä¹ˆåšã€‚</p>
<p>é‚£ä½ è®¤ä¸º20å¹´åçš„ç¤¾ä¼šä¼šæ˜¯ä»€ä¹ˆæ ·å­ï¼Ÿæˆ‘çš„çŒœæµ‹æ˜¯ï¼Œæˆ‘ä»¬ä¼šé€ å‡ºå„ç§å„æ ·çš„æœºå™¨äººã€æœºå™¨ã€è½¯ä»¶å’Œç¡¬ä»¶æ¥åšä»»ä½•äº‹æƒ…ã€‚æˆ‘ä»¬éƒ½ä¼šç”Ÿæ´»å¾—éå¸¸å¯Œè¶³ã€‚æˆ‘ä»¬åŸºæœ¬ä¸Šå°±é€€ä¼‘äº†ï¼Œå› ä¸ºæˆ‘ä»¬éƒ½ä¸ç”¨ä¸ºä»»ä½•åŸºæœ¬çš„ä¸œè¥¿å·¥ä½œã€‚æˆ‘ä»¬ç”šè‡³ä¼šæœ‰æœºå™¨äººæŠ¤å£«ï¼Œä¼šæœ‰æœºå™¨é©±åŠ¨çš„åŒ»é™¢ï¼Œä¼šæœ‰è‡ªåŠ¨é©¾é©¶æ±½è½¦ã€‚æˆ‘ä»¬ä¼šæœ‰100%è‡ªåŠ¨åŒ–çš„å†œåœºï¼Œä¼šæœ‰æ¸…æ´èƒ½æºã€‚é‚£æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨æŠ€æœ¯ä¸Šçš„çªç ´æ¥å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„ä¸€åˆ‡ã€‚å¦‚æœæœ‰äººè¿˜åœ¨å·¥ä½œï¼Œé‚£ä¹ˆä»–ä»¬æ˜¯åœ¨ç”¨å·¥ä½œæ¥è¡¨è¾¾ä»–ä»¬çš„åˆ›é€ åŠ›ã€‚</p>
<p>æˆ‘ä¸è®¤ä¸ºèµ„æœ¬ä¸»ä¹‰æ˜¯é‚ªæ¶çš„ã€‚èµ„æœ¬ä¸»ä¹‰å®é™…ä¸Šæ˜¯å¥½çš„ï¼Œå®ƒåªæ˜¯è¢«åŠ«æŒäº†ï¼Œè¢«ä¸å½“çš„å¤–éƒ¨æˆæœ¬å®šä»·æ‰€åŠ«æŒã€‚å®ƒè¢«ä¸æ­£å½“çš„æ”¶ç›Šæ‰€åŠ«æŒï¼Œåœ¨é‚£é‡Œæœ‰è…è´¥ï¼Œæˆ–è€…æœ‰å„æ–­ã€‚</p>
<h2>ç¬¬ä¸‰æ¡ï¼šè‡ªç”±å¸‚åœºæ˜¯äººç±»å›ºæœ‰</h2>
<p><strong>æˆ‘ä»¬æ˜¯å”¯ä¸€è·¨è¶ŠåŸºå› ç•Œé™è¿›è¡Œåˆä½œçš„åŠ¨ç‰©ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥åœ¨è‡ªæ„¿çš„äº¤æ¢ä¸­è¿½è¸ªä¿¡ç”¨(credit)å’Œå€ºåŠ¡(debt)</strong></p>
<h3>è‡ªç”±å¸‚åœºæ˜¯äººç±»ç¤¾ä¼šå›ºæœ‰çš„</h3>
<p>Navalï¼šå…¨é¢çš„èµ„æœ¬ä¸»ä¹‰(æ„å‘³ç€è‡ªç”±å¸‚åœº)æ˜¯äººç±»ç¤¾ä¼šå›ºæœ‰çš„ã€‚èµ„æœ¬ä¸»ä¹‰ä¸æ˜¯æˆ‘ä»¬å‘æ˜çš„ï¼Œç”šè‡³ä¸æ˜¯æˆ‘ä»¬å‘ç°çš„ä¸œè¥¿ã€‚å®ƒå¤©ç„¶å­˜åœ¨äºæˆ‘ä»¬çš„æ¯ä¸€æ¬¡äº¤æ¢ä¸­ã€‚å½“ä½ å’Œæˆ‘äº¤æ¢ä¿¡æ¯æ—¶ï¼Œä½ ä¸€å®šæƒ³ä»æˆ‘è¿™é‡Œå¾—åˆ°ä¸€äº›ä¿¡æ¯ã€‚å¦‚æœæˆ‘ä»¬æ²¡æœ‰è‰¯å¥½çš„ä¿¡æ¯äº¤æµï¼Œä½ ä¼šå»æ‰¾åˆ«äººã€‚æ‰€ä»¥ï¼Œäº¤æ¢å°±æ˜¯åœ¨è®°å½•ä¿¡ç”¨å’Œå€ºåŠ¡ï¼Œè¿™æ˜¯æˆ‘ä»¬ä½œä¸ºçµæ´»çš„ç¤¾ä¼šåŠ¨ç‰©ä¸ç”Ÿä¿±æ¥çš„æœ¬é¢†ã€‚</p>
<p>æˆ‘ä»¬æ˜¯åŠ¨ç‰©ç‹å›½ä¸­å”¯ä¸€è·¨è¶Šç§ç¾¤è¿›è¡Œåˆä½œï¼ˆåä½œï¼‰çš„åŠ¨ç‰©ã€‚å¤§å¤šæ•°åŠ¨ç‰©åªä¼šæˆç¾¤åˆä½œï¼Œå…±åŒè¿›åŒ–ï¼Œå®ƒä»¬è¡€æ¶²ç›¸è¿ï¼Œæ‰€ä»¥å®ƒä»¬æœ‰ä¸€äº›å…±åŒçš„å…´è¶£ã€‚äººç±»æ²¡æœ‰è¿™ç§æˆç¾¤åˆä½œçš„èƒ½åŠ›ï¼Œä¹Ÿä¸éœ€è¦è¿™ä¹ˆéº»çƒ¦ã€‚å°±ç®—ä½ æ˜¯å¡å°”ç»´äºšäººï¼Œä»–æ˜¯æ³¢æ–¯äººï¼Œæˆ‘æ˜¯å°åº¦äººï¼Œæ²¡æœ‰ä»»ä½•è¡€ç¼˜å…³ç³»ï¼Œä½†æˆ‘ä»¬ä»ç„¶å¯ä»¥åˆä½œã€‚</p>
<p>ä»€ä¹ˆè®©æˆ‘ä»¬åˆä½œï¼Ÿå› ä¸ºæˆ‘ä»¬å¯ä»¥è®°å½•å€Ÿæ–¹å’Œè´·æ–¹ã€‚è°æŠ•å…¥äº†å¤šå°‘å·¥ä½œï¼Ÿè°è´¡çŒ®äº†å¤šå°‘ï¼Ÿè¿™å°±æ˜¯è‡ªç”±å¸‚åœºèµ„æœ¬ä¸»ä¹‰ã€‚å› æ­¤ï¼Œæˆ‘åšä¿¡è¿™æ˜¯äººç±»ä¸ç”Ÿä¿±æ¥çš„ï¼Œæˆ‘ä»¬å°†ä¸ºæ¯ä¸ªäººåˆ›é€ è¶Šæ¥è¶Šå¤šçš„è´¢å¯Œã€‚</p>
<p>æ¯ä¸ªäººéƒ½å¯ä»¥å˜å¾—å¯Œæœ‰ï¼Œæ¯ä¸ªäººéƒ½å¯ä»¥é€€ä¼‘ï¼Œæ¯ä¸ªäººéƒ½å¯ä»¥æˆåŠŸã€‚è¿™åªæ˜¯ä¸€ä¸ª<strong>æ•™è‚²å’Œæ¬²æœ›</strong>çš„é—®é¢˜ã€‚å‰ææ˜¯ä½ å¿…é¡»æƒ³è¦å®ƒã€‚å¦‚æœä½ ä¸æƒ³è¦ï¼Œæ²¡å…³ç³»ï¼Œæ²¡äººå¼ºè¿«ä½ å‚ä¸æ¸¸æˆã€‚ä½†æ˜¯ä¸è¦è¯•å›¾è´¬ä½é‚£äº›ç§¯æå‚ä¸æ¸¸æˆçš„äººã€‚ä»–ä»¬æ²¡å‡†å„¿å°±æ˜¯é‚£äº›èƒ½è®©ä½ æ™šä¸Šç¡åœ¨æ¸©æš–èˆ’é€‚çš„åºŠä¸Šï¼Œè®©ä½ èƒ½æ›´æ–¹ä¾¿çš„ä¹°åˆ°å…¨ä¸–ç•Œçš„ä¸œè¥¿ï¼Œè®©ä½ èƒ½æ‹¿ç€å—¡å—¡ä½œå“çš„iPhoneå¼€å¿ƒåˆ·æŠ–éŸ³çš„äººã€‚å› æ­¤ï¼Œè¿™æ˜¯ä¸€åœºç¾å¦™çš„æ¯”èµ›ï¼Œå€¼å¾—æˆ‘ä»¬ä»ä¼¦ç†ä¸Šã€ç†æ€§ä¸Šã€é“å¾·ä¸Šå»æŒ‘æˆ˜ä¸€æ¬¡ã€‚å®ƒå°†ç»§ç»­ä½¿æˆ‘ä»¬æ‰€æœ‰äººè¶Šæ¥è¶Šå¯Œæœ‰ï¼Œç›´åˆ°æˆ‘ä»¬ä¸ºä»»ä½•æƒ³è¦çš„äººåˆ›é€ å¤§é‡è´¢å¯Œã€‚</p>
<h3>å¤ªå¤šçš„ç´¢å–è€…è€Œæ²¡æœ‰è¶³å¤Ÿçš„åˆ›é€ è€…å°†ä½¿ä¸€ä¸ªç¤¾ä¼šé™·å…¥æ¯ç­</h3>
<p>Niviï¼šä¸åªæ˜¯ä¸ªäººåœ¨æš—åœ°é‡Œé„™è§†è´¢å¯Œï¼Œå¯¹å§ï¼Ÿæœ‰äº›å›½å®¶ã€å›¢ä½“å’Œæ”¿å…šå…¬ç„¶è”‘è§†è´¢å¯Œã€‚è‡³å°‘çœ‹èµ·æ¥æ˜¯è¿™æ ·ã€‚</p>
<p>Navalï¼šæ²¡é”™ã€‚è¿™äº›å›½å®¶ã€æ”¿å…šå’Œå›¢ä½“æ­£åœ¨æ²¦ä¸ºä¸€åœºé›¶å’Œåšå¼ˆã€‚åœ¨æ‘§æ¯è´¢å¯Œåˆ›é€ çš„è¿‡ç¨‹ä¸­ï¼Œä»–ä»¬æŠŠæ¯ä¸ªäººéƒ½æ‹‰ä½åˆ°å’Œä»–ä»¬ä¸€æ ·çš„æ°´å¹³ã€‚</p>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆç¾å›½æ˜¯ä¸€ä¸ªéå¸¸å—ç§»æ°‘æ¬¢è¿çš„å›½å®¶ï¼Œå› ä¸ºç¾å›½æ¢¦ã€‚æ˜¾ç„¶ï¼Œä¸åŒçš„äººå¯¹è´¢å¯Œçš„å®šä¹‰æ˜¯ä¸åŒçš„ã€‚ç¬¬ä¸€ä¸–ç•Œå…¬æ°‘å¯¹è´¢å¯Œçš„å®šä¹‰å¯èƒ½æ˜¯ï¼Œâ€œæˆ‘ä¸€å®šè¦èµšåˆ°æ•°ç™¾ä¸‡ç¾å…ƒã€‚è€Œå¯¹äºç¬¬ä¸‰ä¸–ç•Œçš„è´«ç©·ç§»æ°‘æ¥è¯´ï¼Œå½“åˆšè¿›å…¥è¿™ä¸ªå›½å®¶çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªæ˜¯è´«ç©·çš„ç§»æ°‘ï¼Œå¯¹è´¢å¯Œçš„é¢„æœŸå€¼ä¼šæ›´ä½ã€‚å®ƒå¯èƒ½åªæ˜¯ï¼Œâ€œæˆ‘ä¸éœ€è¦åœ¨æˆ‘çš„ä½™ç”Ÿåšæˆ‘ä¸æƒ³åšçš„ä½“åŠ›åŠ³åŠ¨ã€‚â€</p>
<p>ä½†æ˜¯é„™è§†å®ƒçš„ç¾¤ä½“ä¼šæŠŠæ•´ä¸ªç¾¤ä½“å¸¦åˆ°å’Œä»–ä»¬ä¸€æ ·çš„æ°´å¹³ã€‚å¦‚æœæœ‰å¤ªå¤šçš„ç´¢å–è€…ï¼Œè€Œæ²¡æœ‰è¶³å¤Ÿçš„åˆ›é€ è€…ï¼Œç¤¾ä¼šå°±ä¼šåˆ†å´©ç¦»æã€‚ä½ æœ€ç»ˆä¼šå˜æˆä¸€ä¸ªå…±äº§ä¸»ä¹‰å›½å®¶ã€‚çœ‹çœ‹å§”å†…ç‘æ‹‰å°±çŸ¥é“ï¼Œä»–ä»¬ä¸åœçš„å¿™äºè·å–ã€åˆ†å‰²å’Œé‡æ–°åˆ†é…ï¼Œäººä»¬åœ¨è¡—ä¸ŠæŒ¨é¥¿ï¼Œæ¯å¹´éƒ½å› ä¸ºé¥¥é¥¿è€Œå¤±å»å‡ å…¬æ–¤çš„ä½“é‡ã€‚</p>
<p>å¦ä¸€ç§æ€è€ƒæ–¹å¼æ˜¯æƒ³è±¡ä¸€ä¸ªæœ‰å¤ªå¤šå¯„ç”Ÿè™«çš„æœ‰æœºä½“ã€‚ä½ éœ€è¦å°‘é‡çš„å¯„ç”Ÿè™«æ¥ä¿æŒå¥åº·ã€‚ä½ éœ€è¦å¾ˆå¤šçš„å…±ç”Ÿä½“ã€‚æ‰€æœ‰ç»†èƒä¸­å¸®åŠ©æˆ‘ä»¬å‘¼å¸å’Œç‡ƒçƒ§æ°§æ°”çš„çº¿ç²’ä½“ã€‚è¿™äº›æ˜¯å¸®åŠ©æˆ‘ä»¬ç”Ÿå­˜çš„å…±ç”Ÿä½“ã€‚æ²¡æœ‰ä»–ä»¬æˆ‘ä»¬æ— æ³•ç”Ÿå­˜ã€‚</p>
<p>ä½†æ˜¯ï¼Œå¯¹æˆ‘æ¥è¯´ï¼Œä»–ä»¬ï¼ˆå…±ç”Ÿä½“ï¼‰æ˜¯ä¸€èµ·åˆ›é€ è´¢å¯Œçš„ä¼™ä¼´ï¼Œå…±åŒåˆ›é€ äº†äººç±»çš„èº«ä½“ã€‚ä½†æ˜¯å¦‚æœä½ ä½“å†…å……æ»¡äº†å¯„ç”Ÿè™«ï¼Œå¦‚æœä½ æ„ŸæŸ“äº†è •è™«ï¼Œæˆ–è€…ç—…æ¯’ï¼Œæˆ–è€…ç»†èŒï¼Œè€Œè¿™äº›éƒ½æ˜¯å•çº¯çš„å¯„ç”Ÿï¼Œä½ å°±ä¼šæ­»äº¡ã€‚æ‰€ä»¥ï¼Œä»»ä½•ç”Ÿç‰©éƒ½åªèƒ½æŠµæŠ—å°‘é‡çš„å¯„ç”Ÿè™«ã€‚å½“å¯„ç”Ÿå…ƒç´ å¤±å»æ§åˆ¶æ—¶ï¼Œä½ å°±æ­»å®šäº†ã€‚</p>
<p>æˆ‘è¯´çš„è¿˜æ˜¯é“å¾·è´¢å¯Œåˆ›é€ ï¼Œä¸æ˜¯å„æ–­ï¼Œä¹Ÿä¸æ˜¯è£™å¸¦èµ„æœ¬ä¸»ä¹‰ã€‚æˆ‘è¯´çš„æ˜¯è‡ªç”±æ€æƒ³ï¼Œè‡ªç”±å¸‚åœºã€‚äººä¸äººä¹‹é—´çš„å°è§„æ¨¡äº¤æµæ˜¯è‡ªæ„¿çš„ï¼Œä¸ä¼šå¯¹ä»–äººäº§ç”Ÿå¤ªå¤§çš„å½±å“ã€‚æˆ‘è®¤ä¸ºè¿™ç§è´¢å¯Œåˆ›é€ ï¼Œå¦‚æœä¸€ä¸ªç¤¾ä¼šä¸å°Šé‡å®ƒï¼Œå¦‚æœä¸€ä¸ªç¾¤ä½“ä¸å°Šé‡å®ƒï¼Œé‚£ä¹ˆè¿™ä¸ªç¤¾ä¼šå°±ä¼šé™·å…¥æ¯ç­å’Œé»‘æš—ã€‚</p>
<h2>ç¬¬å››æ¡ï¼šè‡´å¯Œä¸è¿æ°”æ— å…³</h2>
<h3>è‡´å¯Œä¸è¿æ°”æ— å…³ï¼Œè¦æŒæ¡è‡´å¯Œçš„æŠ€èƒ½</h3>
<p>Navalï¼šå¾ˆæ˜æ˜¾ï¼Œæˆ‘ä»¬æƒ³è¦åœ¨è¿™ä¸€ç”Ÿä¸­ä¸åªä¾é è¿æ°”å˜å¾—å¯Œæœ‰ã€‚å¾ˆå¤šäººè®¤ä¸ºèµšé’±æ˜¯é è¿æ°”ã€‚å®ƒä¸æ˜¯ï¼Œå…³é”®æ˜¯ä½ è¦æˆä¸ºé‚£ç§èƒ½èµšé’±çš„äººã€‚æ¯”å¦‚ï¼Œå‡è®¾æˆ‘è¾“å…‰äº†æ‰€æœ‰çš„è´¢äº§ï¼Œä½ æŠŠæˆ‘éšä¾¿æ‰”åˆ°ä»»ä½•ä¸€ä¸ªè¯´è‹±è¯­çš„å›½å®¶çš„å¤§è¡—ä¸Šï¼Œä¸å‡º5åˆ°10å¹´ï¼Œæˆ‘å°±ä¼šå†æ¬¡å˜å¾—å¯Œæœ‰ï¼ˆç¬‘ï¼‰ã€‚å› ä¸ºè¿™æ˜¯ä¸€ç§æŠ€èƒ½ï¼Œè€Œä¸”æˆ‘è®¤ä¸ºæ¯ä¸ªäººéƒ½å¯ä»¥æ‹¥æœ‰è¿™ç§æŠ€èƒ½ã€‚åœ¨1000ä¸ªå¹³è¡Œå®‡å®™ä¸­ï¼Œä½ æƒ³åœ¨å…¶ä¸­999ä¸ªé‡Œå˜å¾—å¯Œæœ‰ã€‚ä½ ä¸æƒ³åªåœ¨é è¿æ°”æˆåˆ†çš„50ä¸ªé‡Œé¢å˜å¾—å¯Œæœ‰å¯¹å§ï¼Ÿ</p>
<p>æˆ‘ä»¬åœ¨è¿™è®²çš„è¿æ°”æœ‰å››ç§ã€‚è¿™ä¸ªåˆ†ç±»æ¥äºä¸€æœ¬ä¹¦ï¼Œa16zçš„é©¬å…‹Â·å®‰å¾·æ£®(Marc Andreessen)åœ¨Pmarca.comè¿™ä¸ªåšå®¢ä¸­æ›¾ç»æåˆ°è¿‡ã€‚</p>
<ol>
<li>ç‹—å±è¿</li>
</ol>
<p>ç¬¬ä¸€ç§å°±æ˜¯ç‹—å±è¿ã€‚ä½ å®Œå…¨æ— æ³•æ§åˆ¶è¿™ç§èµ°è¿ï¼Œä¿—è¯è¯´è¿™å°±æ˜¯å‘½å¥½ã€‚</p>
<ol start="2">
<li>åšæŒä¸æ‡ˆçš„å®å¹²è¿</li>
</ol>
<p>è¿™ç§å¹¸è¿æ¥è‡ªäºåšæŒã€åŠªåŠ›ã€ä¸åœçš„å°è¯•å’Œè¡ŒåŠ¨ã€‚å½“ä½ å››å¤„å¥”æ³¢åˆ›é€ äº†å„ç§å„æ ·çš„æœºä¼šï¼Œè¿™æœŸé—´ä½ è¾“å‡ºäº†å¾ˆå¤šèƒ½é‡ï¼Œä½ åšäº†å¾ˆå¤šäº‹æƒ…ï¼Œä¼šæœ‰å¤§é‡çš„èƒ½é‡äº¤æ¢ã€‚</p>
<p>ä½ å¯èƒ½ä¼šè¯´ï¼Œäººä»¬åªæœ‰å¿—è¶£ç›¸æŠ•æ‰èƒ½èšåœ¨ä¸€èµ·ã€‚é‚£æˆ‘ä¸¾å¦å¤–ä¸€ä¸ªä¾‹å­ï¼ŒNenadæŠŠä»–åšçš„å¾ˆæ£’çš„åŠ¨ç”»è§†é¢‘æ”¾åˆ°äº†ç½‘ä¸Šï¼Œæˆ‘åœ¨Twitterä¸Šçœ‹åˆ°äº†å®ƒä»¬ã€‚ä»è¿™ä¸ªæ„ä¹‰ä¸Šè¯´ï¼Œä»–é€šè¿‡åˆ¶ä½œè§†é¢‘åˆ›é€ äº†è‡ªå·±çš„è¿æ°”ï¼Œç›´åˆ°åƒæˆ‘è¿™æ ·çš„äººæºæºä¸æ–­æ‰¾åˆ°ä»–ã€‚</p>
<ol start="3">
<li>æ—©æœ‰é¢„å¤‡çš„è¿æ°”</li>
</ol>
<p>ç¬¬ä¸‰ç§æ–¹æ³•æ˜¯ä½ å˜å¾—éå¸¸å–„äºå‘ç°è¿æ°”ã€‚å¦‚æœä½ åœ¨æŸä¸ªé¢†åŸŸéå¸¸ç²¾é€šï¼Œä½ ä¼šæ³¨æ„åˆ°åœ¨é‚£ä¸ªé¢†åŸŸå¹¸è¿çš„äº‹ä»¶æ˜¯å¦‚ä½•å‘ç”Ÿçš„ã€‚å½“å…¶ä»–äººæ²¡æœ‰æ³¨æ„åˆ°å®ƒçš„æ—¶å€™ï¼Œä½ ä¼šå˜å¾—å¯¹è¿æ°”æ•æ„Ÿï¼Œè¿™æ˜¯é€šè¿‡æŠ€èƒ½ã€çŸ¥è¯†å’Œå·¥ä½œç»éªŒçš„ç§¯ç´¯è¾¾æˆçš„ã€‚</p>
<p>4.ç‹¬ç‰¹çš„äººæ ¼ç»™ä½ å¸¦æ¥çš„å¥½è¿</p>
<p>æœ€åä¸€ç§è¿æ°”æ˜¯æœ€å¥‡æ€ªã€æœ€è‰°éš¾çš„ä¸€ç§ï¼Œä½†è¿™å°±æ˜¯æˆ‘ä»¬è¦è®¨è®ºçš„ã€‚åœ¨è¿™é‡Œï¼Œä½ å»ºç«‹äº†ä¸€ä¸ªç‹¬ç‰¹çš„äººæ ¼ï¼Œä¸€ä¸ªç‹¬ç‰¹çš„å“ç‰Œï¼Œä¸€ä¸ªç‹¬ç‰¹çš„å¿ƒæ€ï¼Œç„¶åå¥½è¿ä¼šæ‰¾åˆ°ä½ ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå‡è®¾ä½ æ˜¯ä¸–ç•Œä¸Šæœ€æ“…é•¿æ·±æµ·æ½œæ°´çš„äººã€‚å¤§å®¶éƒ½çŸ¥é“ï¼Œä½ ä¼šè¿›è¡Œåˆ«äººéƒ½ä¸æ•¢å°è¯•çš„æ·±æµ·æ½œæ°´ã€‚ç„¶åï¼Œæœ‰äººå¹¸è¿çš„åœ¨æµ·å²¸å¤–å‘ç°äº†ä¸€è‰˜æ²‰æ²¡çš„å®è—èˆ¹ã€‚ä»–ä»¬æ²¡åŠæ³•æ‹¿åˆ°ï¼Œåªèƒ½è·‘æ¥æ‰¾ä½ æ±‚åŠ©ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä»–ä»¬çš„è¿æ°”åŒæ—¶å˜æˆäº†ä½ çš„è¿æ°”ï¼Œä½ ä¼šå› æ­¤å¾—åˆ°éå¸¸ä¸°åšçš„æŠ¥é…¬ã€‚è¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒæç«¯çš„ä¾‹å­ã€‚é‚£ä¸ªæ‰¾åˆ°å®è—çš„å¹¸è¿å„¿ä»¬ï¼Œèµ°çš„æ˜¯ç‹—å±è¿ã€‚ä½†ä»–ä»¬ä¸å¾—ä¸æ¥æ‰¾ä½ å¸®å¿™æŠŠå®è—æ‹¿å‡ºæ¥ï¼Œæœ€ç»ˆä½ ä¼šå¾—åˆ°ä¸€éƒ¨åˆ†è¿™é‡Œé¢çš„è´¢å¯Œï¼Œè¿™ä¸æ˜¯è¿æ°”ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè™½ç„¶è¿™ä¸ªå¥½è¿çš„èµ·å§‹ä¸æ˜¯ä½ ï¼Œä½†æ˜¯ä½ èƒ½è®©é‚£äº›å‘ç°å¥½è¿çš„äººåœ¨å…³é”®æ—¶åˆ»æƒ³èµ·ä½ ï¼Œå¾ˆæ˜æ˜¾ä½ å¯ä»¥åœ¨å…¶ä¸­èµ·åˆ°ä¸å¯æ›¿ä»£çš„ä½œç”¨ã€‚è¿™ç§æƒ…å†µä¸‹ä½ æ—¢æˆå°±äº†åˆ«äººï¼Œåˆåˆ†äº«äº†ä»–äººçš„å¥½è¿ï¼Œè¿™å°±æ˜¯ä½ ä¸ºä»€ä¹ˆè¦æ‰“é€ è‡ªå·±ç‹¬ç‰¹çš„ä¸ªæ€§å’Œå“ç‰Œã€‚</p>
<h3>åœ¨1000ä¸ªå¹³è¡Œå®‡å®™ä¸­ï¼Œä½ æƒ³åœ¨å…¶ä¸­999ä¸ªé‡Œå˜å¾—å¯Œæœ‰</h3>
<p>Niviï¼šä½ åˆšåˆšæåˆ°ï¼Œåœ¨1000ä¸ªå¹³è¡Œå®‡å®™ä¸­ï¼Œä½ å¯ä»¥åœ¨å…¶ä¸­çš„999ä¸ªå˜å¾—å¯Œæœ‰ï¼Ÿæˆ‘æƒ³æœ‰äº›äººçœ‹åˆ°åä¼šè¯´ï¼šâ€œè¿™å¬èµ·æ¥ä¸å¤ªå¯èƒ½ï¼Œå¤ªå¤¸å¼ äº†å§ã€‚â€</p>
<p>Navalï¼šä¸ï¼Œæˆ‘ä¸è®¤ä¸ºè¿™æ˜¯ä¸å¯èƒ½çš„ã€‚è€ƒè™‘åˆ°ä½ çš„èµ·æ­¥æ¡ä»¶ï¼Œæˆ‘è®¤ä¸ºä½ å¯èƒ½å¾—å†åŠªåŠ›ä¸€ç‚¹ã€‚æˆ‘åœ¨å°åº¦çš„æ—¶å€™æ˜¯ä¸ªç©·å­©å­ï¼Œæ‰€ä»¥å¦‚æœæˆ‘èƒ½æˆåŠŸï¼Œä»è¿™ä¸ªæ„ä¹‰ä¸Šè¯´ï¼Œä»»ä½•äººéƒ½èƒ½ã€‚å¾ˆæ˜æ˜¾ï¼Œæˆ‘å››è‚¢å¥å…¨ï¼Œæ™ºåŠ›æ­£å¸¸ï¼Œå½“ç„¶æˆ‘ä¹Ÿç¡®å®æ¥å—äº†æ•™è‚²ã€‚ä¹Ÿè®¸æœ‰ä¸€äº›å‰ææ¡ä»¶ä¸ä¸€æ ·ï¼Œä½†å¦‚æœä½ åœ¨å¬è¿™ä¸ªè§†é¢‘æˆ–æ’­å®¢ï¼Œè¯´æ˜ä½ å·²ç»æŒæ¡äº†åŸºæœ¬çš„æŠ€èƒ½ï¼Œè€Œä¸”æœ‰ä¸€ä¸ªåŠŸèƒ½å¥å…¨çš„èº«ä½“å’Œä¼šæ€è€ƒå¤§è„‘ã€‚</p>
<p>äº‹å®ä¸Šï¼Œä¸€è·¯ä¸Šæˆ‘å…¶å®é‡åˆ°äº†å¾ˆå¤šå€’éœ‰äº‹ã€‚æˆ‘èµšçš„ç¬¬ä¸€ç¬”é’±ï¼Œç«‹åˆ»å°±åœ¨è‚¡ç¥¨å¸‚åœºä¸Šèµ”äº†ä¸ªç²¾å…‰ã€‚æˆ‘èµšçš„ç¬¬äºŒç¬”é’±ï¼Œæˆ–è€…è¯´æˆ‘åº”è¯¥èµšçš„ç¬¬äºŒç¬”é’±ï¼ŒåŸºæœ¬ä¸Šéƒ½è¢«æˆ‘çš„å•†ä¸šä¼™ä¼´éª—èµ°äº†ã€‚è¿™æ¬¡ï¼ˆæˆåŠŸï¼‰å·²ç»æ˜¯ç¬¬ä¸‰æ¬¡äº†ã€‚</p>
<p>å³ä¾¿å¦‚æ­¤ï¼Œè´¢å¯Œçš„ç§¯ç´¯ä»å¤„äºç¼“æ…¢è€Œç¨³å®šçš„æŒ£æ‰ä¹‹ä¸­ã€‚æˆ‘è¿™è¾ˆå­è¿˜æ²¡ä¸€æ¬¡æ€§èµšè¿‡ä¸€å¤§ç¬”é’±ï¼Œæ€»æ˜¯ä¸€å¤§å †å°äº‹å †ç§¯åœ¨ä¸€èµ·ã€‚å®ƒæ›´å¤šçš„æ˜¯é€šè¿‡æŒç»­çš„æ„å»ºå•†ä¸šï¼ˆåšåˆ›ä¸šå…¬å¸ï¼‰ã€å¯»æ‰¾æŠ•èµ„æœºä¼šæ¥æŒç»­åˆ›é€ è´¢å¯Œã€‚è¿™ç»å¯¹ä¸æ˜¯ä¸€æ­¥ç™»å¤©çš„äº‹ã€‚</p>
<h3>è´¢å¯Œä¸æ˜¯ä¸€æ­¥ç™»å¤©</h3>
<p>æˆ‘çš„ä¸ªäººè´¢å¯Œä¸æ˜¯åœ¨æŸä¸€å¹´äº§ç”Ÿçš„ï¼Œå®ƒæ˜¯ä¸€ç‚¹ç‚¹å †ç§¯èµ·æ¥çš„ï¼Œæ¯ä¸€ä¸ªé˜¶æ®µç§¯ç´¯ä¸€ç‚¹ã€‚æ›´å¤šçš„é€‰æ‹©ï¼Œæ›´å¤šçš„ç”Ÿæ„ï¼Œæ›´å¤šçš„æŠ•èµ„ï¼Œæ‰èƒ½æ’¬å¼€æ›´å¤šè‡ªå·±èƒ½åšçš„äº‹æƒ…ã€‚å’ŒNenadçš„illacertusä¸€æ ·ï¼Œä»–åœ¨æ²¹ç®¡ä¸Šåšäº†ä¸€ç³»åˆ—è§†é¢‘ï¼Œæ²¡æœ‰ä»»ä½•ä¸€ä¸ªè§†é¢‘ä¼šåœ¨ä¸€å¤œä¹‹é—´è®©ä»–ä¸€å¤œæš´å¯Œï¼Œè¿™ç»å¯¹æ˜¯ä¸€ä¸ªæ¼«é•¿çš„è¿‡ç¨‹ï¼Œå­¦ä¹ ï¼Œé˜…è¯»ï¼Œåˆ›é€ ï¼Œè¿™æœŸé—´ä¼šäº§ç”Ÿå¤åˆ©æ•ˆåº”ã€‚</p>
<p>æˆ‘ä»¬è°ˆè®ºçš„æ˜¯å˜å¾—å¯Œæœ‰ï¼Œè¿™æ ·ä½ å°±å¯ä»¥é€€ä¼‘ï¼Œä½ å°±æœ‰æ›´å¤šçš„è‡ªç”±ã€‚é€€ä¼‘ä¸æ˜¯è¯´ä»€ä¹ˆéƒ½ä¸åšã€‚è€Œæ˜¯è¯´ä½ ä¸å¿…å»ä»»ä½•ä½ ä¸æƒ³å»çš„åœ°æ–¹ï¼Œä½ ä¸å¿…åšä»»ä½•ä½ ä¸æƒ³åšçš„äº‹ï¼Œä½ æƒ³ä»€ä¹ˆæ—¶å€™é†’æ¥å°±ä»€ä¹ˆæ—¶å€™é†’æ¥ï¼Œä½ æƒ³ä»€ä¹ˆæ—¶å€™ç¡è§‰å°±ä»€ä¹ˆæ—¶å€™ç¡è§‰ï¼Œæ²¡æœ‰è€æ¿å¯¹ä½ æŒ‡æ‰‹ç”»è„šã€‚è¿™å°±æ˜¯è‡ªç”±ã€‚æˆ‘ä»¬è°ˆè®ºçš„æ˜¯è¶³å¤Ÿçš„è´¢å¯Œæ¥è·å¾—è‡ªç”±ã€‚ç‰¹åˆ«æ˜¯ç”±äºäº’è”ç½‘çš„æ™®åŠï¼Œæœºä¼šåˆ°å¤„éƒ½æ˜¯ã€‚å¦ç™½è®²ï¼Œæˆ‘æœ‰å¤ªå¤šçš„æ–¹æ³•æ¥èµšé’±ï¼Œæˆ‘æ»¡è„‘å­éƒ½æ˜¯æƒ³æ³•ï¼Œå”¯ä¸€ç¼ºçš„å°±æ˜¯æ—¶é—´ã€‚åˆ›é€ è´¢å¯Œã€åˆ›é€ äº§å“ã€åˆ›é€ ä¼ä¸šã€åˆ›é€ æœºä¼šï¼Œä»ç¤¾ä¼šè·å¾—æŠ¥é…¬çš„æ–¹å¼å¤ªå¤šäº†ã€‚</p>
<h2>ç¬¬äº”æ¡ï¼šä½ å¿…é¡»æœ‰ç‚¹å¼‚ä¹å¯»å¸¸ï¼Œæ‰èƒ½ç‹¬è‡ªèµ°åœ¨å‰æ²¿</h2>
<p>Navalåœ¨ä»–çš„åšå®¢ä¸­è¿˜æåˆ°äº†ä¸€äº›å…³äºç¬¬å››ç§è¿æ°”çš„æœ‰è¶£ä¾‹å­ï¼Œä½†æˆ‘æƒ³è®©è¯»è€…äº†è§£çš„ä¸€ç‚¹æ˜¯ï¼Œç¬¬å››ç§è¿æ°”å…¶å®æ˜¯æ¥è‡ªäºä½ å¼‚ä¹å¯»å¸¸ï¼ˆè¿™é‡Œç”¨äº†eccentricè¿™ä¸ªè¯ï¼‰çš„è¡Œä¸ºï¼Œæ‰€ä»¥æœ‰æ—¶å€™å¼‚ä¹å¯»å¸¸å¯èƒ½å¹¶ä¸æ˜¯ä¸€ä»¶åäº‹ã€‚</p>
<p>Navalï¼šæ²¡é”™ï¼Œå› ä¸ºè¿™ä¸ªä¸–ç•Œéå¸¸è®²æ±‚æ•ˆç‡ï¼Œæ¯ä¸ªäººéƒ½åœ¨æ˜æ˜¾çš„åœ°æ–¹æŒ–æ˜ç€æ–°å¥‡çš„ã€æœªè¢«å‘ç°çš„ä¸œè¥¿ï¼Œè¿™ä¼šå¸®åŠ©ä½ å»ºç«‹ä¼˜åŠ¿ã€‚ç‹¬è‡ªèµ°åœ¨å‰æ²¿å¯èƒ½éœ€è¦ä½ æœ‰ç‚¹å¼‚ä¹å¯»å¸¸ï¼Œè€Œä¸”æ„¿æ„æ¯”ä¸€èˆ¬äººæŒ–æ˜å¾—æ›´æ·±ï¼ŒæŒ–æ˜çš„æ›´æ·±ä»…ä»…å› ä¸ºä½ æ„Ÿå…´è¶£ã€‚</p>
<p>Niviï¼šå¯¹ï¼Œé™¤äº†æœ¬æ°æ˜Â·è¿ªæ–¯é›·åˆ©çš„é‚£å¥è¯å¤–ï¼Œæˆ‘çœ‹è¿‡çš„ä¸¤å¥è¡¨è¾¾è¿™ç§è¿æ°”çš„è¯ï¼Œä¸€ä¸ªæ˜¯å±±å§†Â·é˜¿å°”ç‰¹æ›¼ï¼ˆSamuel Altmanï¼‰è¯´çš„ï¼Œâ€œæç«¯çš„äººæ‰èƒ½å¾—åˆ°æç«¯çš„ç»“æœã€‚â€â€œæˆ‘è®¤ä¸ºè¿™å¥è¯å¾ˆå¥½ã€‚è¿˜æœ‰å¦ä¸€ä¸ªæ¥è‡ªæ–¯å¦ç¦å¤§å­¦æ•™æˆæ°å¼—é‡ŒÂ·æ™®è´¹å¼—ï¼ˆJeffrey Pfefferï¼‰çš„è§‚ç‚¹ï¼Œâ€œä½ ä¸å¯èƒ½æ—¢æ­£å¸¸åˆæœŸå¾…å¼‚å¸¸å›æŠ¥ã€‚â€</p>
<p>Navalï¼šæ˜¯çš„ã€‚æˆ‘å–œæ¬¢çš„ä¸€å¥ä¸ä¹‹å®Œå…¨ç›¸åçš„è¯æ˜¯ï¼Œâ€œç©æ„šè ¢çš„æ¸¸æˆçš„äººèµ¢æ„šè ¢çš„å¥–å“ã€‚â€â€œå¾ˆå¤šäººèŠ±å¾ˆå¤šæ—¶é—´åœ¨ç¤¾äº¤åª’ä½“ä¸Šï¼Œæ¯”å¦‚ä½ è¯•å›¾åœ¨Twitterä¸Šæé«˜ä½ çš„ç¤¾ä¼šåœ°ä½ï¼Œä½†ä½ åŸºæœ¬ä¸Šèµ¢å¾—äº†æ„šè ¢çš„ã€ä»·å€¼ä¸å¤§çš„ç¤¾äº¤å¥–é¡¹ã€‚</p>
<p>Niviï¼šæˆ‘æƒ³æˆ‘ä»è¿™ç¯‡åšå®¢æ–‡ç« ä¸­å¾—åˆ°çš„æœ€åä¸€ä¸ªè§‚ç‚¹æ˜¯ï¼Œé™¤äº†ç‹—å±è¿ï¼Œä½ åº”è¯¥å»è¿½æ±‚è¿™å‡ ç§è¿æ°”ï¼ˆå°¤å…¶æ˜¯æœ€åä¸€ä¸ªï¼‰ï¼Œè¿™ä¼šè®©ä½ å˜å¾—è¶Šæ¥è¶Šå¹¸è¿ã€‚</p>
<p>Navalï¼šæ˜¯çš„ï¼Œèµ·ç èƒ½å›å½’å‡å€¼ï¼ˆç¬‘ï¼‰ã€‚æ‰€ä»¥ï¼Œä½ è‡³å°‘è¦ä¸­å’Œè¿æ°”ï¼Œè¿™æ ·æ‰èƒ½æ›´å¥½çš„å‘æŒ¥ä½ è‡ªå·±çš„æ‰èƒ½ã€‚</p>
<h2>ç¬¬å…­æ¡ï¼šå‡ºç§Ÿæ—¶é—´ä¸ä¼šè®©ä½ å˜å¾—å¯Œæœ‰</h2>
<h3>å‡ºç§Ÿæ—¶é—´ä¸ä¼šè®©ä½ å˜å¾—å¯Œæœ‰ï¼Œå› ä¸ºä½ ä¸èƒ½éçº¿æ€§åœ°èµšé’±</h3>
<p>Niviï¼šæ¥ä¸‹æ¥ä½ ä¼šè¯¦ç»†ä»‹ç»å¦‚ä½•è‡´å¯Œï¼Œä»¥åŠä»€ä¹ˆä¸ä¼šæœ‰åŠ©äºè‡´å¯Œã€‚ç¬¬ä¸€ç‚¹æ˜¯ï¼šâ€œå‡ºç§Ÿä½ çš„æ—¶é—´ä¸ä¼šè®©ä½ å˜å¾—å¯Œæœ‰ã€‚<strong>ä½ å¿…é¡»æ‹¥æœ‰å…¬å¸çš„è‚¡æƒï¼Œæ‰èƒ½è·å¾—è´¢åŠ¡è‡ªç”±ã€‚</strong>â€</p>
<p>Navalï¼šè¿™å¯èƒ½æ˜¯æœ€é‡è¦çš„ä¸€ç‚¹ã€‚äººä»¬ä¼¼ä¹è®¤ä¸ºä½ å¯ä»¥åˆ›é€ è´¢å¯Œï¼Œé€šè¿‡å·¥ä½œè‡´å¯Œã€‚è¿™å¯èƒ½è¡Œä¸é€šï¼ŒåŸå› æœ‰å¾ˆå¤šã€‚æœ€æ ¹æœ¬çš„åŸå› æ˜¯ï¼Œä½ çš„æŠ•å…¥å’Œäº§å‡ºç›¸å…³æ€§å¤ªå¼ºã€‚å‡ ä¹åœ¨ä»»ä½•æœ‰è–ªæ°´çš„å·¥ä½œä¸­ï¼Œå³ä½¿æ˜¯åƒå¾‹å¸ˆæˆ–åŒ»ç”Ÿè¿™æ ·æ¯å°æ—¶æŠ¥é…¬å¾ˆé«˜çš„å·¥ä½œï¼Œä½ ä»ç„¶åœ¨æŠ•å…¥æ—¶é—´ï¼Œä½ çš„æŠ¥é…¬æ˜¯æŒ‰æ¯å°æ—¶æˆ–å·¥ä½œé‡è®¡ä»·ã€‚å› æ­¤ï¼Œè¿™æ„å‘³ç€å½“ä½ ç¡è§‰çš„æ—¶å€™ï¼Œåœ¨åº¦å‡çš„æ—¶å€™ï¼Œä½ æ²¡æœ‰åœ¨åˆ›é€ è´¢å¯Œï¼›ä¸€æ—¦ä½ é€€ä¼‘äº†ï¼Œä½ å°±æ²¡æœ‰æ”¶å…¥äº†ï¼ˆé€€ä¼‘é‡‘å¦å½“åˆ«è®ºï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ ä¸å¯èƒ½å¾—åˆ°éçº¿æ€§çš„æ”¶å…¥ã€‚</p>
<p>å¦‚æœä½ çœ‹åˆ°ä¸€äº›åŒ»ç”Ÿéå¸¸å¯Œæœ‰ï¼Œé‚£æ˜¯å› ä¸ºä»–ä»¬æˆç«‹äº†å…¬å¸ï¼Œå¼€äº†ç§äººè¯Šæ‰€ã€‚ä»–ä»¬é€šè¿‡ç§äººè¯Šæ‰€å»ºç«‹äº†ä¸€ä¸ªå“ç‰Œï¼Œä¸ºä»–ä»¬å¸¦æ¥æŒç»­çš„å£ç¢‘å’Œå®¢æˆ·ã€‚æˆ–è€…ä»–ä»¬åˆ¶é€ äº†æŸç§åŒ»ç–—è®¾å¤‡æˆ–ä¸€ä¸ªç¨‹åºï¼Œä¸”æ‹¥æœ‰è¿™äº›ä¸œè¥¿çš„çŸ¥è¯†äº§æƒã€‚</p>
<p>å› æ­¤ï¼Œæœ¬è´¨ä¸Šä½ æ˜¯åœ¨ä¸ºåˆ«äººå·¥ä½œï¼Œè€Œé‚£ä¸ªäººæ‰¿æ‹…äº†é£é™©å’Œè´£ä»»ï¼ŒæŒæ¡ç€çŸ¥è¯†äº§æƒï¼Œæœ‰å“ç‰Œã€‚æ‰€ä»¥ï¼Œä»–ä»¬ä¸ä¼šç»™ä½ è¶³å¤Ÿçš„å·¥èµ„ï¼Œä»–ä»¬ä¼šä»˜ç»™ä½ æœ€ä½å·¥èµ„ï¼Œè®©ä½ åšä»–ä»¬éœ€è¦çš„å·¥ä½œã€‚è¿™å¯èƒ½æ˜¯ä¸€ä¸ªå¾ˆé«˜çš„æœ€ä½é™åº¦ï¼Œä½†ä»ç„¶ä¸æ˜¯ä½ æƒ³è±¡çš„é€€ä¼‘åçœŸæ­£çš„è´¢å¯Œã€‚</p>
<h3>å‡ºç§Ÿæ—¶é—´èµšé’±æ„å‘³ç€ä½ å¾ˆå®¹æ˜“è¢«æ›¿ä»£</h3>
<p>æœ€åï¼Œä½ ç”šè‡³æ²¡æœ‰ä¸ºç¤¾ä¼šåˆ›é€ å‡ºé‚£ä¹ˆå¤šåŸåˆ›çš„ä¸œè¥¿ã€‚æ­£å¦‚æˆ‘æ‰€è¯´ï¼Œè¿™åœºæ¨ç‰¹é£æš´åº”è¯¥è¢«ç§°ä¸ºâ€œå¦‚ä½•åˆ›é€ è´¢å¯Œâ€ï¼Œåªä¸è¿‡â€œå¦‚ä½•è‡´å¯Œâ€æ˜¯ä¸€ä¸ªæ›´å¸å¼•äººçš„æ ‡é¢˜ç½¢äº†ã€‚å› ä¸ºä½ ç°åœ¨æ‰®æ¼”çš„æ˜¯å›ºå®šçš„è§’è‰²ï¼Œè€Œå¤§å¤šæ•°å›ºå®šè§’è‰²çš„ä»»åŠ¡æ˜¯å¯ä»¥æ•™ä¼šçš„ã€‚å¦‚æœä»–ä»¬èƒ½åƒåœ¨å­¦æ ¡é‚£æ ·è¢«æ•™æˆï¼Œé‚£ä¹ˆæœ€ç»ˆä½ å°†ä¼šå’Œä¸€ä¸ªæ›´å¹´è½»çš„ã€æ‹¥æœ‰æœ€æ–°çŸ¥è¯†çš„äººç«äº‰ï¼Œè¿™ä¸ªäººæ³¨å®šæ˜¯è¦å–ä»£ä½ çš„ã€‚</p>
<p>æ›´å¯èƒ½çš„æ˜¯ï¼Œä½ åšçš„å·¥ä½œæœ€ç»ˆä¼šè¢«æœºå™¨äººæˆ–äººå·¥æ™ºèƒ½å–ä»£ã€‚å®ƒç”šè‡³ä¸éœ€è¦ä¸€å¤œä¹‹é—´å–ä»£ï¼Œå®ƒå¯ä»¥ä¸€æ¬¡æ›¿æ¢ä¸€ç‚¹ã€‚æ‰€ä»¥ï¼ŒåŸºæœ¬ä¸Šåœ¨å‡ºç§Ÿæ—¶é—´çš„æ¨¡å¼ä¸‹ï¼ˆä¹Ÿå°±æ˜¯æ‰“å·¥ï¼‰ï¼ŒæŠ•å…¥å’Œäº§å‡ºæ˜¯åŒ¹é…çš„ï¼Œä½†æˆ‘ä¸è®¤ä¸ºè¿™æ˜¯çœŸæ­£åˆ›é€ è´¢å¯Œçš„æ–¹å¼ã€‚</p>
<h3>ä½ å¿…é¡»æ‹¥æœ‰è‚¡æƒæ‰èƒ½è·å¾—è´¢åŠ¡è‡ªç”±</h3>
<p>æ‰€ä»¥æ¯ä¸ªçœŸæ­£æƒ³è¦è‡´å¯Œçš„äººåœ¨æŸç§ç¨‹åº¦ä¸Šéƒ½æ‹¥æœ‰ä¸€ä¸ªäº§å“ï¼Œä¸€ä¸ªä¼ä¸šï¼Œæˆ–è€…æŸç§çŸ¥è¯†äº§æƒã€‚å®ƒå¯ä»¥æ˜¯è‚¡ç¥¨æˆ–è€…æœŸæƒï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå¾ˆå¤šäººé€‰æ‹©åœ¨æ—©æœŸç§‘æŠ€å…¬å¸å·¥ä½œã€‚è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å¼€å§‹æ–¹å¼ã€‚</p>
<p>ä½†é€šå¸¸çœŸæ­£çš„è´¢å¯Œæ˜¯é€šè¿‡åˆ›åŠè‡ªå·±çš„å…¬å¸ï¼Œç”šè‡³æ˜¯é€šè¿‡æŠ•èµ„æ¥åˆ›é€ çš„ã€‚æŠ•èµ„ä¸€å®¶å…¬å¸æˆ–è€…è¯´å…¥è‚¡ï¼Œå…¶å®æœ‰å¾ˆå¤šé€šå¾€è´¢å¯Œçš„è·¯å¾„å¹¶ä¸æŒ‰ç…§å°æ—¶è®¡æ•°ã€‚</p>
<h3>è¿½æ±‚ä¸€ä»½æŠ•å…¥ä¸äº§å‡ºâ€œä¸åŒ¹é…â€çš„å·¥ä½œ</h3>
<p>ä¸ºä»€ä¹ˆä½ çœŸçš„éœ€è¦è¿½æ±‚ä¸€ä»½æŠ•å…¥å’Œäº§å‡ºâ€œä¸åŒ¹é…â€çš„å·¥ä½œæˆ–è€…èŒä¸šï¼Œè¿™å°†ä¼šåœ¨ä¹‹åçš„æ¨ç‰¹é£æš´ä¸­æåˆ°ã€‚æ‹¥æœ‰é«˜åˆ›é€ åŠ›å’Œé«˜å½±å“åŠ›çš„ä¼ä¸šå¾€å¾€æ˜¯é‚£äº›ä½ å¯ä»¥å·¥ä½œä¸€å°æ—¶çš„ä¼ä¸šï¼Œè¿™ä¸€å°æ—¶å¯èƒ½ä¼šäº§ç”Ÿå·¨å¤§çš„å½±å“ï¼›æˆ–è€…ä½ åšäº†1000ä¸ªå°æ—¶çš„å·¥ä½œï¼Œä½†æ˜¯æ²¡æœ‰æ•ˆæœã€‚</p>
<p>æˆ‘ä»¬æ‹¿è½¯ä»¶è¡Œä¸šä¸ºä¾‹ã€‚ä¸€æ–¹é¢ï¼Œä¸€ä¸ªä¼Ÿå¤§çš„å·¥ç¨‹å¸ˆå¯ä»¥åˆ›é€ æ¯”ç‰¹å¸ï¼Œåˆ›é€ æ•°åäº¿ç¾å…ƒçš„ä»·å€¼ã€‚å¦ä¸€æ–¹é¢ï¼Œå¦‚æœä¸€ä¸ªå·¥ç¨‹å¸ˆä¸€ç›´åœ¨é”™è¯¯çš„æ–¹å‘ä¸‹åŠŸå¤«ï¼Œæˆ–è€…åšå¾—ä¸å¤Ÿå¥½ã€ä¸å¤Ÿæœ‰åˆ›æ„ã€æ·±æ€ç†Ÿè™‘ç­‰ç­‰ã€‚å°±ç®—ä»–è¾›å‹¤å·¥ä½œæ•´æ•´ä¸€å¹´ï¼Œä»–ä»¬å‘å¸ƒçš„æ¯ä¸€æ®µä»£ç æœ€ç»ˆéƒ½ä¸ä¼šè¢«ä½¿ç”¨ï¼Œä»–éƒ½ä¸ä¼šæœ‰ç”¨æˆ·ã€‚è¿™æ˜¯ä¸€ä¸ªæŠ•å…¥å’Œäº§å‡ºé«˜åº¦åˆ†ç¦»çš„è¡Œä¸šçš„ä¾‹å­ï¼Œå®ƒä¸æ˜¯ä»¥ä½ æŠ•å…¥çš„æ—¶é—´å¤šå°‘æ¥è¡¡é‡äº§å‡ºçš„ã€‚</p>
<p>å†ä¸¾ä¸€ä¸ªæç«¯çš„ä¾‹å­ï¼Œå‡è®¾ä½ æ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„ä¼æœ¨å·¥äººï¼Œå¦‚æœä½ ä¸ç”¨å·¥å…·ï¼Œæˆ–ç”¨æœ€ç®€å•çš„å·¥å…·ï¼ˆæ¯”å¦‚ä¸€æŠŠæ–§å­æˆ–è€…ä¸€æŠŠé”¯å­ï¼‰ä¼æœ¨ï¼Œä½ ä¹Ÿåªä¼šæ¯”æœ€å·®çš„ä¼æœ¨å·¥äººå¼ºä¸‰å€ï¼Œå› ä¸ºæŠ•å…¥å’Œäº§å‡ºæ˜¯æœ‰å¾ˆå¼ºçš„ç›¸å…³æ€§çš„ï¼Œä¸ä¼šæœ‰å¾ˆå¤§çš„åŒºåˆ«ã€‚</p>
<p>å› æ­¤ï¼Œä½ è¦å¯»æ‰¾æŠ•å…¥å’Œäº§å‡ºé«˜åº¦ä¸ç›¸å…³çš„èŒä¸šã€‚è¿™æ˜¯å¦ä¸€ç§å¯ä»¥äº§ç”Ÿæ æ†æ•ˆåº”çš„æ–¹å¼ã€‚æˆ‘è¯´çš„æ æ†å¹¶ä¸æ˜¯æŒ‡åå°”è¡—è®²çš„é‡‘èæ æ†ï¼Œè¿™ä¸ªâ€œæ æ†â€åå£°ä¸å¥½ã€‚æˆ‘è¯´çš„æ æ†æ˜¯æŒ‡å·¥å…·ï¼Œäººç±»æ“…é•¿ä½¿ç”¨çš„å·¥å…·ã€‚è®¡ç®—æœºæ˜¯è½¯ä»¶å·¥ç¨‹å¸ˆä½¿ç”¨çš„å·¥å…·ã€‚å¯¹äºä¸€ä¸ªä¼æœ¨å·¥äººï¼Œå¦‚æœæœ‰æ¨åœŸæœºã€è‡ªåŠ¨æœºæ¢°è½´å’Œé”¯å­ï¼Œä»–å°±ä¼šä½¿ç”¨è¿™äº›å·¥å…·ï¼Œæ¯”é‚£äº›å¾’æ‰‹æƒ³è¦æŠŠæ ‘è¿æ ¹æ‹”èµ·çš„äººæ›´æœ‰å½±å“åŠ›ã€‚</p>
<p>å·¥å…·å’Œæ æ†æ˜¯é€ æˆæŠ•å…¥å’Œäº§å‡ºä¹‹é—´ä¸åŒ¹é…çš„åŸå› ã€‚ä¸€ä¸ªèŒä¸šçš„åˆ›é€ åŠ›æˆåˆ†è¶Šé«˜ï¼Œå®ƒå°±è¶Šæœ‰å¯èƒ½æœ‰ä¸åŒ¹é…çš„æŠ•å…¥å’Œäº§å‡ºã€‚å› æ­¤ï¼Œæˆ‘è®¤ä¸ºï¼Œå¦‚æœä½ è€ƒè™‘ä»äº‹æŠ•å…¥å’Œäº§å‡ºé«˜åº¦ç›¸å…³çš„èŒä¸šï¼Œé‚£åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä½ å¾ˆéš¾ç»™ç¤¾ä¼šåˆ›é€ è´¢å¯Œï¼Œä¹Ÿå¾ˆéš¾ä¸ºè‡ªå·±åˆ›é€ è´¢å¯Œã€‚</p>
<h2>ç¬¬ä¸ƒæ¡ï¼šæˆ‘ä»¬åº”è¯¥å‡çº§è‡ªå·±çš„è‡ªç”±ï¼Œè€Œä¸æ˜¯ç”Ÿæ´»æ–¹å¼</h2>
<p><strong>ç”Ÿæ´»æ°´å¹³è¿œä½äºå…¶æ”¶å…¥æ°´å¹³çš„äººä»¬äº«å—ç€ä¸€ç§è‡ªç”±ï¼Œè¿™ç§è‡ªç”±æ˜¯é‚£äº›å¿™äºæ”¹å–„ç”Ÿæ´»æ–¹å¼çš„äººä»¬æ— æ³•ç†è§£çš„</strong>
Niviï¼šé™¤äº†æŠŠæ—¶é—´ç§Ÿå‡ºå»ä¹‹å¤–ï¼Œè¿˜æœ‰å…¶ä»–æ— åŠ©äºè‡´å¯Œçš„äº‹æƒ…å—?</p>
<p>Navalï¼šæœ‰ï¼Œæˆ‘ä¹‹å‰æåˆ°è¿‡ä¸¤æ¡ç›¸å…³çš„æ¨æ–‡ã€‚æˆ‘è¯´çš„ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œä½ çš„ç”Ÿæ´»æ–¹å¼åº”è¯¥å‡çº§ï¼Œä½†ä¸åº”è¯¥å‡çº§å¾—å¤ªå¿«ã€‚è¿™å¥è¯çš„å¤§æ„æ˜¯è¯´ï¼Œ<strong>ç”Ÿæ´»æ°´å¹³è¿œè¿œä½äºå…¶æ”¶å…¥æ°´å¹³çš„äººäº«å—ç€ä¸€ç§è‡ªç”±</strong>ï¼Œè€Œé‚£äº›å¿™äºæå‡ç”Ÿæ´»æ–¹å¼çš„äººæ ¹æœ¬æ— æ³•ä½“ä¼šè¿™ç§è‡ªç”±ã€‚æˆ‘è®¤ä¸ºè¿™æ˜¯éå¸¸é‡è¦çš„ï¼Œä¸è¦æ€»æ˜¯å¿™äºå‡çº§ä½ çš„ç”Ÿæ´»æ°´å¹³ã€‚äº‹å®ä¸Šï¼Œå¦‚æœä½ èƒ½åœ¨èµšè¶Šæ¥è¶Šå¤šçš„é’±æ—¶ï¼Œä¿æŒç¨³å®šçš„ç”Ÿæ´»æ°´å¹³å’ŒæœŸæœ›ï¼Œå°±ä¸ä¼šæœ‰å¤ªå¤šçƒ¦æ¼ã€‚æ‰€ä»¥ï¼Œä¸è¦æ€»æƒ³ç€ä½æ›´å¤§çš„æˆ¿å­ï¼Œè¿‡æ›´å¥¢ä¾ˆçš„ç”Ÿæ´»ï¼Œä»¥åŠæ‰€æœ‰ç±»ä¼¼çš„è´ªå¿ƒã€‚</p>
<h3>ä¸–ç•Œä¸Šæœ€å±é™©çš„ä¸œè¥¿æ˜¯æµ·æ´›å› å’Œæœˆè–ª</h3>
<p>å‡è®¾ä½ ç°åœ¨çš„å·¥èµ„æ˜¯æ¯å°æ—¶1000ç¾å…ƒï¼Œä½ è‚¯å®šä¸æ˜¯ä»20ç¾å…ƒæ¯å°æ—¶çš„æœˆè–ªç«‹é©¬æ¶¨åˆ°1000ç¾å…ƒï¼Œè¿™ä¸€å®šæ˜¯ä¸ªæ¼«é•¿èŒä¸šç”Ÿæ¶¯çš„ç§¯ç´¯è¿‡ç¨‹ã€‚è¿™é‡Œé¢ä¸€ä¸ªå¾®å¦™çš„é—®é¢˜æ˜¯ï¼Œä½ çš„ç”Ÿæ´»æ°´å¹³ä¼šéšç€ä½ èµšçš„é’±è¶Šæ¥è¶Šå¤šè€Œå‡çº§ã€‚ä½ ä¼šæƒ³å½“ç„¶çš„è®¤ä¸ºè‡ªå·±èµšäº†é’±ï¼Œå°±è¯¥é©¬ä¸Šå»æå‡ç”Ÿæ´»æ°´å¹³ï¼Œä½†è¿™ä¼šä½¿ä½ æ·±é™·åœ¨å·¥èµ„å¥´éš¶çš„é™·é˜±é‡Œã€‚æˆ‘å¿˜äº†æ˜¯è°ï¼Œå¯èƒ½æ˜¯çº³è¥¿å§†Â·å¡”å‹’å¸ƒè¯´çš„ï¼Œâ€œ<strong>ä¸–ç•Œä¸Šæœ€å±é™©çš„ä¸œè¥¿æ˜¯æµ·æ´›å› å’Œæœˆè–ªã€‚</strong>â€æ²¡é”™ï¼Œå› ä¸ºå®ƒä»¬å¾ˆå®¹æ˜“ä¸Šç˜¾ã€‚ä½ æƒ³è¦å˜å¾—å¯Œæœ‰çš„æ–¹å¼æ°æ°æ˜¯ä½ æƒ³è¦å˜ç©·ï¼Œé‚£æ—¶ä½ èƒ½åšï¼ˆæƒ³åšï¼‰çš„äº‹æƒ…åªæœ‰å·¥ä½œï¼Œå·¥ä½œï¼Œå†å·¥ä½œã€‚</p>
<h3>ç†æƒ³çš„æƒ…å†µæ˜¯ï¼Œä½ çš„èµšé’±è·¯å¾„æ˜¯ç¦»æ•£çš„</h3>
<p>è¿™å°±æ˜¯ç§‘æŠ€äº§ä¸šçš„è¿ä½œæ–¹å¼ã€‚ä½ åå¹´æ²¡èµšåˆ°é’±ï¼Œç„¶åçªç„¶åœ¨ç¬¬11å¹´ï¼Œä½ ä¼šèµšå¾—ç›†æ»¡é’µç›ˆã€‚é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¿™äº›æ‰€è°“çš„å¯Œäººçš„é«˜è¾¹é™…ç¨ç‡æ˜¯æœ‰ç¼ºé™·çš„ï¼Œå› ä¸ºé£é™©æœ€é«˜ï¼Œæœ€å…·åˆ›é€ åŠ›çš„èŒä¸šä¸€å®šæ˜¯ï¼Œå‰åå¹´éƒ½åœ¨èµ”é’±ã€‚åœ¨å†’ç€å·¨å¤§çš„é£é™©æ—¶ï¼Œä½ ä¼šä¸åœçš„æµè¡€ï¼Œæµè¡€ï¼Œå†æµè¡€ã€‚ç„¶ååœ¨ç¬¬11å¹´ï¼Œæˆ–ç¬¬15å¹´ï¼Œä½ å¯èƒ½çªç„¶èµšåˆ°ä¸€å¤§ç¬”é’±ã€‚æ­¤æ—¶å±±å§†å¤§å”ï¼ˆè¿™é‡ŒæŒ‡æ”¿åºœï¼‰å‡ºç°äº†ï¼Œè¯´ï¼šâ€œå˜¿ï¼Œä½ çŸ¥é“å—ï¼Œä½ ä»Šå¹´èµšäº†å¾ˆå¤šé’±ã€‚å› æ­¤ï¼Œä½ æ˜¯é‚ªæ¶çš„ï¼Œä½ å¿…é¡»æŠŠä¸€åˆ‡éƒ½äº¤ç»™æˆ‘ä»¬ã€‚â€å› æ­¤ï¼Œå®ƒåªæ˜¯æ‘§æ¯äº†é‚£äº›åˆ›é€ æ€§çš„å†’é™©èŒä¸šã€‚ä½†ç†æƒ³çš„æƒ…å†µæ˜¯ï¼Œä½ çš„è‡´å¯Œè·¯å¾„æ˜¯ç¦»æ•£çš„ï¼Œå¾ªåºæ¸è¿›çš„ã€‚è¿™æ ·ä½ ä¸ä¼šæœŸå¾…ä½ çš„ç”Ÿæ´»æ°´å¹³æ›´æ–°çš„é‚£ä¹ˆå¿«ã€‚ä¸€æ—¦ä½ è‡´å¯Œä¹‹åï¼Œä½ è¿˜ä¼šé€‰æ‹©å·¥ä½œï¼Œä½†ä½ åªä¼šåœ¨ä½ æƒ³åšçš„æ—¶å€™åšä½ æƒ³åšçš„äº‹ï¼Œè¿™æ‰æ˜¯çœŸæ­£çš„è‡ªç”±ã€‚å› æ­¤ï¼Œä½ ä¼šåšæ›´å¤šåˆ›é€ æ€§çš„äº‹æƒ…ï¼Œè€Œå‡å°‘å¯¹é’±ï¼Œå¯¹å¥¢ä¾ˆç”Ÿæ´»çš„å…³æ³¨ã€‚</p>
<h2>ç¬¬å…«æ¡ï¼šç»™ç¤¾ä¼šæä¾›å®ƒä¸çŸ¥é“å¦‚ä½•è·å¾—çš„ä¸œè¥¿</h2>
<p><strong>ç¤¾ä¼šä¼šå› ä¸ºä½ åˆ›é€ äº†å®ƒæƒ³è¦ã€å´ä¸çŸ¥é“å¦‚ä½•å¤§è§„æ¨¡è·å–çš„ä¸œè¥¿ï¼Œè€Œç»™ä½ ä¸°åšçš„å›æŠ¥</strong></p>
<h3>ç»™ç¤¾ä¼šå®ƒéœ€è¦çš„ï¼Œä½†ä¸çŸ¥é“å¦‚ä½•è§„æ¨¡åŒ–è·å–çš„ä¸œè¥¿</h3>
<p>Niviï¼šä½ ä¸ä¼šå› ä¸ºå‡ºç§Ÿæ—¶é—´è€Œå‘è´¢çš„ã€‚ä½†ä½ è¯´ï¼Œâ€œä½ ä¼šé€šè¿‡ç»™ç¤¾ä¼šå®ƒæƒ³è¦ï¼Œä½†ä¸çŸ¥é“å¦‚ä½•è§„æ¨¡åŒ–è·å–çš„ä¸œè¥¿è€Œè‡´å¯Œã€‚â€</p>
<p>Navalï¼šæ²¡é”™ã€‚æ‰€ä»¥æœ¬è´¨ä¸Šï¼Œå°±åƒæˆ‘ä»¬ä¹‹å‰è¯´çš„ï¼Œé’±æ˜¯ç¤¾ä¼šç»™ä½ çš„æ¬ æ¡ï¼Œä½ åœ¨è¿‡å»åšäº†ä¸€äº›å¥½äº‹ï¼Œç¤¾ä¼šä¼šä¸ºä½ åˆ›é€ å®ƒæƒ³è¦çš„ä¸œè¥¿è€Œä»˜é’±ã€‚ä½†ç¤¾ä¼šè¿˜ä¸çŸ¥é“å¦‚ä½•åˆ›é€ è¿™äº›ä¸œè¥¿ï¼Œå› ä¸ºå¦‚æœå·²ç»è¢«åˆ›é€ äº†ï¼Œä»–ä»¬å°±ä¸éœ€è¦ä½ äº†ã€‚
å‡ ä¹æ‰€æœ‰åœ¨ä½ å®¶é‡Œã€å·¥ä½œåœºæ‰€å’Œè¡—é“ä¸Šçš„ä¸œè¥¿æ›¾ç»éƒ½æ˜¯ç§‘æŠ€äº§å“ã€‚æœ‰ä¸€æ®µæ—¶é—´çŸ³æ²¹æ˜¯ä¸€ç§ç§‘æŠ€äº§å“ï¼Œè¿™è®©æ´›å…‹è²å‹’å¾ˆå¯Œæœ‰ï¼›æœ‰æ®µæ—¶é—´æ±½è½¦æ˜¯ç§‘æŠ€äº§å“ï¼Œè¿™ä½¿äº¨åˆ©Â·ç¦ç‰¹å¯Œæœ‰ã€‚å› æ­¤ï¼Œæ­£å¦‚ä¸¹å°¼â€¢å¸Œåˆ©æ–¯(Danny Hillis)æ‰€è¯´ï¼ŒæŠ€æœ¯åªæ˜¯ä¸€å¥—è¿˜ä¸å¤ªç®¡ç”¨çš„ä¸œè¥¿ã€‚ä¸€æ—¦æŸæ ·ä¸œè¥¿æˆåŠŸäº†ï¼Œå®ƒå°±ä¸å†æ˜¯æŠ€æœ¯äº†ã€‚æ‰€ä»¥ï¼Œç¤¾ä¼šæ€»æ˜¯æƒ³è¦æ–°äº‹ç‰©ã€‚</p>
<h3>æƒ³æ¸…æ¥šä½ èƒ½æä¾›çš„äº§å“ï¼Œç„¶åè€ƒè™‘å¦‚ä½•æ‰©å¤§è§„æ¨¡</h3>
<p>å¦‚æœä½ æƒ³è¦å˜å¾—å¯Œæœ‰ï¼Œå¼„æ¸…æ¥šä½ å¯ä»¥ä¸ºç¤¾ä¼šæä¾›å“ªäº›å®ƒæƒ³è¦ã€ä½†è¿˜ä¸çŸ¥é“å¦‚ä½•è·å–çš„ä¸œè¥¿ã€‚å¹¶ä¸”æ˜¯ä½ æ„Ÿå…´è¶£ã€åœ¨ä½ çš„èƒ½åŠ›èŒƒå›´å†…èƒ½æä¾›çš„ä¸œè¥¿ã€‚æƒ³æ¸…æ¥šä¹‹åï¼Œä¸‹ä¸€æ­¥ä½ è¦è€ƒè™‘å¦‚ä½•è§„æ¨¡åŒ–ã€‚å› ä¸ºå¦‚æœä½ åªé€ ä¸€ä¸ªï¼Œé‚£æ˜¯ä¸å¤Ÿçš„ã€‚ä½ å¿…é¡»å»ºé€ æˆåƒä¸Šä¸‡ä¸ªï¼Œä¸Šç™¾ä¸‡ä¸ªï¼Œç”šè‡³æ•°åäº¿ä¸ªã€‚æœ€å¥½çš„æƒ…å†µæ˜¯ï¼Œæ¯ä¸ªäººéƒ½å¯ä»¥æœ‰ä¸€ä¸ªã€‚å²è’‚å¤«Â·ä¹”å¸ƒæ–¯å’Œä»–çš„å›¢é˜Ÿå½“ç„¶çŸ¥é“ç¤¾ä¼šéœ€è¦æ™ºèƒ½æ‰‹æœºã€‚ä»–ä»¬å£è¢‹é‡Œçš„ç”µè„‘æ‹¥æœ‰æ‰€æœ‰ç”µè¯åŠŸèƒ½çš„100å€ï¼Œè€Œä¸”ä½¿ç”¨æ–¹ä¾¿ã€‚æ‰€ä»¥ï¼Œä»–ä»¬æƒ³å‡ºäº†å¦‚ä½•å»ºé€ å®ƒï¼Œç„¶åä»–ä»¬æƒ³å‡ºäº†å¦‚ä½•æ‰©å±•å®ƒã€‚ä»–ä»¬æƒ³å‡ºäº†å¦‚ä½•è®©æ¯ä¸ªç¬¬ä¸€ä¸–ç•Œå›½å®¶çš„å…¬æ°‘ï¼Œæœ€ç»ˆä¹Ÿè®©æ¯ä¸ªç¬¬ä¸‰ä¸–ç•Œå›½å®¶çš„å…¬æ°‘ï¼Œéƒ½èƒ½æ‹¥æœ‰ä¸€ä¸ªã€‚æ­£å› ä¸ºå¦‚æ­¤ï¼Œä»–ä»¬è·å¾—äº†ä¸°åšçš„å›æŠ¥ï¼Œè‹¹æœæ˜¯ä¸–ç•Œä¸Šæœ€æœ‰ä»·å€¼çš„å…¬å¸ã€‚</p>
<p>Niviï¼šæˆ‘æƒ³è¯´çš„æ˜¯ï¼Œä¼ä¸šå®¶çš„å·¥ä½œæ˜¯ä¸ºå¤§ä¼—å¸‚åœºå¸¦æ¥é«˜ç«¯äº§å“ã€‚</p>
<p>Navalï¼šå®ƒä»¥é«˜ç«¯å¼€å§‹ã€‚é¦–å…ˆï¼Œè¿™æ˜¯ä¸€ç§åˆ›é€ æ€§çš„è¡Œä¸ºï¼Œ<strong>ä½ åˆ›é€ å®ƒåªæ˜¯å› ä¸ºä½ æƒ³è¦å®ƒ</strong>ã€‚ä½ æƒ³è¦å®ƒï¼Œéœ€è¦å®ƒï¼Œæ‰€ä»¥ä½ çŸ¥é“å¦‚ä½•å»ºé€ å®ƒã€‚å…¶å®ä¸€å¼€å§‹<strong>ä½ æ˜¯ä¸ºè‡ªå·±å»ºé€ å®ƒ</strong>ã€‚ç„¶åä½ è¦æƒ³åŠæ³•æŠŠå®ƒå¸¦ç»™å…¶ä»–äººã€‚ç„¶åæœ‰ä¸€æ®µæ—¶é—´ï¼Œå¯Œäººæ‹¥æœ‰å®ƒã€‚æ¯”å¦‚ï¼Œå¯Œäººæœ‰ç§äººå¸æœºï¼Œä»–ä»¬æœ‰é»‘è‰²é«˜æ¡£æ±½è½¦ã€‚ç„¶åä¼˜æ­¥ï¼ˆUberï¼‰å‡ºç°äº†ï¼Œå®ƒè®©æ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„ç§äººå¸æœºã€‚ç°åœ¨ä½ ç”šè‡³å¯ä»¥çœ‹åˆ°Uber poolæ­£åœ¨å–ä»£ç©¿æ¢­å·´å£«ï¼Œå› ä¸ºå®ƒæ›´æ–¹ä¾¿ã€‚ç„¶åscooterå…±äº«ç”µåŠ¨æ»‘æ¿è½¦å‡ºç°äº†ï¼Œå¸‚åœºè¿›ä¸€æ­¥ä¸‹æ²‰ã€‚æ‰€ä»¥è§„æ¨¡åŒ–éœ€è¦è€ƒè™‘çš„æ˜¯ï¼Œ<strong>å¦‚ä½•æŠŠæ›¾ç»åªæ˜¯å¯Œäººæ‹¥æœ‰çš„ä¸œè¥¿ç»™åˆ°ç»™æ¯ä¸ªäºº</strong>ã€‚</p>
<h2>ç¬¬ä¹æ¡ï¼šäº’è”ç½‘æå¤§åœ°ä¸°å¯Œäº†èŒä¸šå‘å±•çš„å¯èƒ½æ€§</h2>
<p><strong>äº’è”ç½‘ä¼šç»™ä½ çš„å°ä¼—å…´è¶£æ‰¾åˆ°ä¹°å•çš„äºº</strong></p>
<h3>äº’è”ç½‘æå¤§æ‰©å±•äº†èŒä¸šå‘å±•çš„å¯èƒ½æ€§</h3>
<p>Niviï¼šè®©æˆ‘ä»¬çœ‹çœ‹ä¸‹ä¸€æ¡æ¨æ–‡ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘è§‰å¾—å¯¹äºä½ å°†ä»äº‹ä»€ä¹ˆå·¥ä½œæˆ–è€…èŒä¸šéå¸¸éšç§˜å’Œè¶…çº§æœ‰è¶£çš„æ¨æ–‡ã€‚ä½ è¯´ï¼šâ€œäº’è”ç½‘æå¤§æ‹“å®½äº†èŒä¸šå‘å±•çš„å¯èƒ½æ€§ï¼Œä½†æ˜¯å¤§å¤šæ•°äººç›®å‰å¹¶æ²¡æœ‰å¯Ÿè§‰åˆ°ã€‚â€</p>
<p>Navalï¼šäº’è”ç½‘æœ€æ ¹æœ¬çš„é¢ è¦†æ€§æ˜¯ï¼Œå®ƒä½¿è¿™ä¸ªæ˜Ÿçƒä¸Šçš„äººä»¬èƒ½å½¼æ­¤è”ç³»ï¼Œä»»ä½•ä¸€ä¸ªäººåªè¦ä½ æƒ³è”ç³»æ€»æœ‰æ–¹æ³•ã€‚ä¸è®ºæ˜¯ç»™ä»–ä»¬å‘é‚®ä»¶ï¼Œåœ¨Twitterä¸Šå‘é€æ¨æ–‡ï¼Œè¿˜æ˜¯åœ¨Facebookä¸Šå‘å¸ƒä¸€ç‚¹ä»–ä»¬èƒ½çœ‹åˆ°çš„åŠ¨æ€ï¼Œæˆ–è€…å»ºç«‹ä¸€ä¸ªä»–ä»¬èƒ½æ¥è®¿é—®çš„ç½‘ç«™ã€‚äº’è”ç½‘å°†æ¯ä¸€ä¸ªäººéƒ½è”ç³»åœ¨äº†ä¸€èµ·ã€‚å› æ­¤äº’è”ç½‘æ˜¯ä¸€ä¸ªå°†å„ä¸ªç½‘ç»œè¿æ¥èµ·æ¥çš„å·¥å…·ï¼Œè¿™å°±æ˜¯å®ƒçš„è¶…èƒ½åŠ›ã€‚å› æ­¤ï¼Œå·¥å…·ç»™ä½ äº†ï¼Œä½ è¦æ€è€ƒæ€ä¹ˆå»æ›´å¥½çš„åˆ©ç”¨å®ƒã€‚ä½ è¦æ˜ç™½ï¼Œå€ŸåŠ©äº’è”ç½‘ï¼Œä½ å°±æ€»èƒ½ä¸ºä½ çš„äº§å“ã€ä½ çš„æ‰èƒ½ã€ä½ çš„æŠ€è‰ºæ‰¾åˆ°è§‚ä¼—ï¼Œä¸è®ºä»–ä»¬æ¥è‡ªå“ªé‡Œã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼ŒNenadåˆ¶ä½œäº†IIIacertusï¼Œè¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœä½ æ˜¯åœ¨äº’è”ç½‘å‡ºç°ä¹‹å‰çœ‹åˆ°çš„ä»–çš„è§†é¢‘ï¼Œé‚£ä¹ˆä»–éœ€è¦æ€ä¹ˆåšæ‰èƒ½è®©ä½ çœ‹åˆ°å‘¢ï¼Ÿä»–å¯èƒ½æŠ±ç€ç”µè„‘æŒ¨å®¶æŒ¨æˆ·å±•ç¤ºç»™ä»–çš„é‚»å±…ä»¬çœ‹ï¼Ÿæˆ–è€…è·‘åˆ°å½“åœ°çš„ç”µå½±é™¢æ’­æ”¾ï¼Ÿè¿™éƒ½æ˜¯ä¸å¯èƒ½çš„ï¼Œä»–åªæœ‰æŠŠè§†é¢‘æ”¾åˆ°äº’è”ç½‘ä¸Šæ‰èƒ½è¾¾åˆ°è¿™ä¸ªæ•ˆæœã€‚ç„¶ååœ¨è¿™ä¸ªä¸–ç•Œä¸Šåˆæœ‰å¤šå°‘äººå¯¹å®ƒçœŸæ­£çš„æ„Ÿå…´è¶£å‘¢ï¼Ÿæˆ–è€…åªæ˜¯å¯¹æˆ‘ä»¬æ­£åœ¨è®¨è®ºçš„ä¸œè¥¿æ„Ÿå…´è¶£ï¼ŒçœŸæ­£çš„å¸æ”¶ï¼Ÿç»“æœä¼šå‘ç°åªæœ‰å¾ˆå°‘ä¸€éƒ¨åˆ†äººï¼Œæ‰€ä»¥å…³é”®å°±åœ¨èƒ½è§¦åŠ¨<strong>è¿™äº›äºº</strong>ã€‚</p>
<h3>äº’è”ç½‘èƒ½è®©ä½ çš„å°ä¼—å…´è¶£æ‰¾åˆ°è§‚ä¼—</h3>
<p>äº’è”ç½‘æœ€æ€ªå¼‚çš„ä¸€ç‚¹æ˜¯ï¼Œå®ƒå…è®¸å„ç§å°ä¼—å…´è¶£å­˜åœ¨ã€‚è¿™å°±å¥½åƒå…»è›‡çš„äººã€å–œæ¬¢åçƒ­æ°”çƒçš„äººã€å–œæ¬¢ä¸€äººç‹¬å¶å­¤èˆŸèˆªæ¸¸ä¸–ç•Œçš„äººï¼Œäº¦æˆ–æ˜¯ç—´è¿·äºå¾®å‹çƒ¹é¥ªçš„äººã€‚å°±åƒæ•´ä¸ªæ—¥æœ¬çš„å¾®å‹çƒ¹é¥ªç°è±¡ä¸€æ ·ï¼ˆå“ˆå“ˆä»Šå¤©åˆšåˆšçœ‹äº†ä¸€æœ¬æ—¥æœ¬çƒ¹é¥ªä¹¦å«é¸¡è›‹æ–™ç†ï¼‰ï¼Œæˆ–è€…åƒæœ‰ä¸€ä¸ªèŠ‚ç›®æ˜¯å…³äºå¥³äººå¸®äººæ”¶æ‹¾å®¶åŠ¡çš„èŠ‚ç›®ï¼Œå¯¹å§ï¼Ÿ</p>
<p>å› æ­¤ï¼Œæ— è®ºä½ æ‹¥æœ‰å¤šä¹ˆå°ä¼—åŒ–çš„å…´è¶£ï¼Œäº’è”ç½‘éƒ½èƒ½æä¾›ç»™ä½ ä¸€ä¸ªå¾ˆå¥½çš„å¹³å°å»æŠŠå®ƒè§„æ¨¡åŒ–ã€‚å½“ç„¶ï¼Œè¿™ä¹Ÿä¸æ˜¯è¯´ä½ æ‰€åšçš„å°±æ˜¯ä¸‹ä¸€ä¸ªFacebookï¼Œæˆ–è€…ä½ èƒ½è·å¾—æ•°ä»¥åäº¿è®¡çš„ç”¨æˆ·ï¼Œä½†æ˜¯ï¼Œå¦‚æœä½ ä»…ä»…æƒ³æ‰¾åˆ°5ä¸‡ä¸ªå’Œä½ ä¸€æ ·æ»¡æ€€çƒ­æƒ…çš„äººï¼Œäº’è”ç½‘ä¸­å°±æœ‰è¿™æ ·ä¸€ç¾¤è§‚ä¼—ç­‰å¾…ç€ä½ ã€‚</p>
<p>è¿™ä¸ªé—®é¢˜çš„ç»å¦™ä¹‹å¤„å°±åœ¨äºï¼Œæˆ‘ä»¬ç”Ÿæ´»çš„æ˜Ÿçƒä¸Šæœ‰70äº¿çš„äººã€‚äººç±»DNAçš„ç»„åˆæ–¹å¼è¾¾åˆ°äº†éš¾ä»¥æƒ³åƒçš„ç¨‹åº¦ã€‚æ¯ä¸ªäººéƒ½æ˜¯ä¸€ä¸ªå®Œå…¨ä¸åŒçš„ä¸ªä½“ï¼Œä½ ä¸å¯èƒ½é‡åˆ°å¦ä¸€ä¸ªä¸€æ¨¡ä¸€æ ·çš„ä½ ã€‚</p>
<p>è¿™ä¸åƒä½ å¯ä»¥è¯´ï¼Œâ€œæ©...ï¼ŒNiviï¼Œç¦»å¼€æˆ‘çš„ç”Ÿæ´»å§ã€‚è¿™æ ·æˆ‘å¯ä»¥è®©Navalè¿›å…¥æˆ‘çš„ç”Ÿå‘½ä¸­ï¼Œæˆ‘å°±å¯ä»¥æœ‰å’Œä»–åŒæ ·çš„æ„Ÿå—ï¼Œå¾—åˆ°åŒæ ·çš„èµè®¸ï¼Œæœ‰åŒæ ·çš„æƒ³æ³•ã€‚â€ä½†äº‹å®ä¸æ˜¯è¿™æ ·çš„ï¼Œä»»ä½•äººä¸æ˜¯åˆ«äººçš„æ›¿ä»£å“ï¼Œäººä¸äººå®Œå…¨ä¸åŒçš„ã€‚å› æ­¤ï¼Œæ­£æ˜¯å› ä¸ºæ¯ä¸ªäººæœ‰ä¸åŒçš„æŠ€èƒ½ã€å…´è¶£ï¼Œæ‰å¯ä»¥åœ¨è‡ªå·±ç‹¬ç‰¹çš„äº‹ç‰©ä¸Šå‘æŒ¥åˆ›é€ åŠ›ã€‚</p>
<p>ä½†æ˜¯ï¼ˆåœ¨äº’è”ç½‘ï¼‰ä¹‹å‰è¿™äº›å¹¶ä¸é‡è¦ï¼Œåœ¨å‰äº’è”ç½‘æ—¶ä»£ï¼Œå¦‚æœä½ ä½åœ¨æ„å¤§åˆ©çš„ä¸€ä¸ªå°æ¸”æ‘ï¼Œä½ çš„æ¸”æ‘å¹¶ä¸ä¸€å®šéœ€è¦å®Œå…¨ç‹¬ç‰¹çš„æŠ€èƒ½ï¼Œé‚£ä¹ˆä½ å°±å¿…é¡»éµä»ç°å®ï¼Œä»äº‹ä»…æœ‰çš„å·¥ä½œã€‚ä½†æ˜¯ä»Šå¤©ï¼Œä½ å¯ä»¥å˜å¾—å®Œå…¨ç‹¬ç‰¹å’Œç‹¬ç«‹ã€‚</p>
<p>äº’è”ç½‘å¯ä»¥è®©ä½ ä½æˆæœ¬çš„ã€Œèµ°å‡ºå»ã€ï¼Œæ‰¾åˆ°å±äºè‡ªå·±çš„è§‚ä¼—ã€‚ç„¶åä½ é€šè¿‡åˆ›å»ºä¸šåŠ¡ã€åˆ›é€ äº§å“ã€ç§¯ç´¯è´¢å¯Œï¼Œä½ é€šè¿‡åœ¨äº’è”ç½‘ä¸Šå±•ç°ç‹¬ç‰¹çš„ä½ è®©å¤§ä¼—è·å¾—å¿«ä¹ã€‚ä½ äº‹ä¸šçš„å‘å±•ç©ºé—´å°±ä¼šå› äº’è”ç½‘è€Œæ‰©å¤§ï¼Œç”µå­ç«æŠ€ç©å®¶ï¼Œåœ¨Fortniteä¸Šèµšäº†æ•°ç™¾ä¸‡ç¾å…ƒã€‚YouTubeå¹¿æ’­å…¬å¸ã€ åšå®¢ã€æ’­å®¢ï¼Œè®©äººä»¬èƒ½å¤Ÿåˆ›å»ºå†…å®¹å’Œä¸Šä¼ è§†é¢‘ã€‚æˆ‘å¬è¯´ä¹”Â·ç½—æ ¹ï¼ˆJoe Roganï¼‰ï¼Œä»–çš„æ’­å®¢æœ‰20äº¿æ¬¡ä¸‹è½½ï¼Œè¿™ä¸ºä»–æ¯å¹´å¸¦æ¥çº¦1äº¿ç¾å…ƒçš„æ”¶å…¥ã€‚</p>
<p>å†ä¸¾ä¸€ä¸ªPewDiePieçš„ä¾‹å­ï¼Œå‰å‡ å¤©ï¼Œæˆ‘è½¬å‘äº†ä¸€æ¡æœ‰è¶£çš„æ¨æ–‡ã€‚PewDiePieåœ¨æ–°é—»åª’ä½“ä¸­ç®€ç›´å°±æ˜¯ä¿¡ä»»çš„ä»£åè¯ã€‚è¿™ä¸ªæ¥è‡ªç‘å…¸çš„å°å­©ï¼Œä»–çš„çƒ­é—¨æ–°é—»é¢‘é“çš„æµé‡æ˜¯ä¸»æµæœ‰çº¿ç½‘ç»œæµé‡çš„ä¸‰å€ã€‚è€Œä¸”è¿™ä»…ä»…æ˜¯åœ¨ä»–çš„æ–°é—»é¢‘é“ä¸Šï¼Œ è¿˜ä¸ç®—ä»–çš„å¨±ä¹é¢‘é“ã€‚</p>
<p>å¯ä»¥è¯´äº’è”ç½‘ä¸ºå„ç§å°ä¼—å…´è¶£æä¾›äº†æ²ƒåœŸï¼Œä½†å‰ææ˜¯ä½ è¦æ“…äºå°†å…¶å£®å¤§å‘å±•èµ·æ¥ã€‚å½“ç„¶ï¼Œå¥½æ¶ˆæ¯å°±æ˜¯æ¯ä¸ªäººç”Ÿè€Œä¸åŒï¼Œæ¯ä¸ªäººéƒ½æœ‰è‡ªå·±æ“…é•¿çš„ä¸œè¥¿ã€‚æ‰€ä»¥è¦çœŸå®åšè‡ªå·±ã€‚</p>
<h3>é€šè¿‡åšè‡ªå·±æ¥è§„é¿æ— æ„ä¹‰çš„ç«äº‰</h3>
<p>è¿˜æœ‰ä¸€æ¡å€¼å¾—ä¸€æçš„æ¨æ–‡ï¼Œå®ƒæ²¡æœ‰è¢«æ”¶å½•åˆ°è¿™ä¸ªæ¨æ–‡é£æš´ä¸­ã€‚é‚£æ¡æ˜¯â€œé€šè¿‡åšè‡ªå·±æ¥è§„é¿æ— æ„ä¹‰çš„ç«äº‰â€ã€‚äº‹å®ä¸Šï¼Œå½“ä½ åœ¨ä¸äººç«äº‰æ—¶ï¼Œå¾€å¾€æ˜¯å› ä¸ºä½ åœ¨å¤åˆ¶åˆ«äººï¼Œå› ä¸ºä½ åœ¨åŠªåŠ›å¹²ç€åŒæ ·çš„äº‹æƒ…ã€‚ä½†æ˜¯å…¶å®æ¯ä¸ªäººç”Ÿè€Œä¸åŒï¼Œä¸è¦æ€»æ˜¯å¿™ç€å¤åˆ¶åˆ«äººã€‚</p>
<p>å¾ˆæ˜æ˜¾ï¼Œäººç±»å–œæ¬¢æ¨¡ä»¿ï¼ŒRenÃ© Girardæœ‰ä¸€å¥—å®Œæ•´çš„æ¨¡ä»¿ç†è®ºå¾ˆæœ‰è¶£ã€‚å¤§å®¶éƒ½è§‰å¾—æ¨¡ä»¿ç®€å•ï¼Œä½†å…¶å®æ¨¡ä»¿è¿œæ¯”ä½ åšè‡ªå·±è¦éš¾ã€‚æ‰€ä»¥ä¸è¦çº¯æ¨¡ä»¿ï¼Œä¸è¦çº¯å¤åˆ¶ï¼Œä¸“æ³¨äºåšè‡ªå·±çš„äº‹æƒ…ï¼Œå½“ä½ çœŸæ­£åœ¨åšè‡ªå·±æ—¶ï¼Œä½ å°±ä¼šå‘ç°æ²¡æœ‰äººèƒ½å’Œä½ ç«äº‰ï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•ã€‚</p>
<p>å› æ­¤ï¼Œä½ å¯¹ä½ è‡ªå·±æ˜¯è°å’Œä½ å–œæ¬¢åšä»€ä¹ˆè®¤è¯†çš„è¶Šæ·±å…¥ï¼Œä½ å°±ä¼šé¢ä¸´è¶Šå°‘çš„ç«äº‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ä½ æ„è¯†åˆ°çœŸå®åšè‡ªå·±æ²¡äººèƒ½å’Œä½ ç«äº‰åï¼Œä½ å°±èƒ½å¤Ÿé€šè¿‡çœŸå®æ€§é€ƒç¦»ç«äº‰é™·é˜±ã€‚ä½†æ˜¯ï¼Œè¿™åœ¨å‰äº’è”ç½‘æ—¶ä»£æ˜¯æ²¡ç”¨çš„å»ºè®®ï¼Œè€Œåäº’è”ç½‘æ—¶ä»£ä½ èƒ½å°†è¿™äº›å˜æˆç°å®ã€‚</p>
<h2>ç¬¬åæ¡ï¼šå¯»æ‰¾è´¢å¯Œæ¸¸æˆä¸­çš„é•¿æœŸæˆ˜å‹</h2>
<p><em>é€‰æ‹©ä¸€ä¸ªä½ å¯ä»¥å’Œé•¿æœŸä¼™ä¼´ç©é•¿æœŸæ¸¸æˆçš„è¡Œä¸šï¼Œæ‰€æœ‰çš„å›æŠ¥éƒ½æ¥è‡ªäºå¤šæ¬¡æ¸¸æˆçš„å¤åˆ©ã€‚</em></p>
<h3>å¯»æ‰¾è´¢å¯Œæ¸¸æˆä¸­çš„é•¿æœŸæˆ˜å‹</h3>
<p>Niviï¼šæˆ‘ä»¬æ¥èŠèŠåº”è¯¥è€ƒè™‘åœ¨å“ªäº›è¡Œä¸šå·¥ä½œï¼Ÿåº”è¯¥åšä»€ä¹ˆæ ·çš„å·¥ä½œï¼Ÿæœ€å¥½å’Œä»€ä¹ˆæ ·çš„äººä¸€èµ·å·¥ä½œï¼Ÿè¿™äº›è¯é¢˜ã€‚ä½ è¯´è¿‡ï¼Œâ€œä½ åº”è¯¥é€‰æ‹©çš„è¡Œä¸šæ˜¯ï¼Œåœ¨è¿™é‡Œä½ æœ‰é•¿æœŸæˆ˜å‹å’Œä½ ç©é•¿æœŸçš„æ¸¸æˆã€‚â€</p>
<p>Navalï¼šæ˜¯çš„ï¼Œ<strong>è¿™æ˜¯è§£é‡Šä¸ºä»€ä¹ˆç¡…è°·ä¼šæˆåŠŸï¼Œä¹Ÿæ˜¯å¯¹é«˜ä¿¡ä»»åº¦ç¤¾ä¼šèƒ½å¤ŸæˆåŠŸçš„æ·±åˆ»ç†è§£</strong>ã€‚äº‹å®ä¸Šï¼Œç”Ÿæ´»ä¸­æ‰€æœ‰çš„æ”¶ç›Šéƒ½æ¥è‡ªäºå¤åˆ©ã€‚æ— è®ºæ˜¯åœ¨äººé™…å…³ç³»ä¸­ï¼Œåˆ›é€ è´¢å¯Œä¸­ï¼Œæˆ–æ˜¯åœ¨å­¦ä¹ ä¸­ã€‚å› æ­¤ï¼Œå¤åˆ©æ˜¯ä¸€ç§ç¥å¥‡çš„åŠ›é‡ï¼Œå¦‚æœä½ ä»¥1å€çš„ä»·æ ¼å¼€å§‹ï¼Œç„¶åå¦‚æœæ¯å¹´å¢é•¿20%ï¼Œå¹¶ä¸”æŒç»­30å¹´ï¼Œä½ å¾—åˆ°çš„ä¸åªæ˜¯é¢å¤–çš„30å¹´ä¹˜ä»¥20%ã€‚å®ƒæœ‰å¤åˆ©æ•ˆåº”ï¼Œæ‰€ä»¥å®ƒä¼šå¢é•¿ï¼Œå¢é•¿ï¼Œå¢é•¿ï¼Œæœ€åä½ å¾—åˆ°çš„å›æŠ¥å°†ä¼šä¸å¯æ€è®®ã€‚ä¸ç®¡æ˜¯å–„æ„ã€çˆ±æƒ…ã€äººé™…å…³ç³»è¿˜æ˜¯é‡‘é’±ã€‚æ‰€ä»¥ï¼Œæˆ‘è®¤ä¸ºå¤åˆ©æ˜¯ä¸€ç§éå¸¸é‡è¦çš„åŠ›é‡ã€‚</p>
<p>ä¸ºä»€ä¹ˆè‡´å¯Œæ˜¯ä¸€åœºæŒä¹…æˆ˜ï¼Ÿé•¿æœŸåšå¼ˆä¸ä»…å¯¹å¤åˆ©æœ‰åˆ©ï¼Œå¯¹ä¿¡ä»»ä¹Ÿæœ‰åˆ©ã€‚å¦‚æœä½ çœ‹ä¸€ä¸‹å›šå¾’å›°å¢ƒç±»å‹çš„æ¸¸æˆï¼Œå›šå¾’å›°å¢ƒçš„ä¸€ä¸ªè§£å†³æ–¹æ¡ˆæ˜¯ä»¥ç‰™è¿˜ç‰™ï¼Œä¹Ÿå°±æ˜¯æˆ‘å°†å¯¹ä½ åšä½ ä¸Šæ¬¡å¯¹æˆ‘åšè¿‡çš„äº‹ï¼Œå¦‚æœä½ çŠ¯äº†é”™ï¼Œæˆ‘ä¼šåŸè°…ä½ ã€‚ä½†è¿™åªé€‚ç”¨äºé‡å¤çš„å›šå¾’å›°å¢ƒçš„ç¯å¢ƒä¸­ï¼Œæ¢å¥è¯è¯´ï¼Œå¦‚æœæˆ‘ä»¬é‡å¤ç©ä¸€ä¸ªæ¸¸æˆå¤šæ¬¡ã€‚</p>
<p>å› æ­¤ï¼Œå¦‚æœä½ å¤„åœ¨è¿™æ ·ä¸€ç§æƒ…å†µä¸‹ï¼Œæ¯”å¦‚ä½ åœ¨ç¡…è°·ï¼Œäººä»¬åœ¨é‚£é‡Œäº’ç›¸åšç”Ÿæ„ã€‚ä»–ä»¬å½¼æ­¤äº†è§£ï¼Œç›¸äº’ä¿¡ä»»ï¼Œäº’ç›¸å¸®åŠ©ï¼Œå› ä¸ºä»–ä»¬çŸ¥é“è¿™ä¸ªäººä¼šåœ¨ä¸‹ä¸€åœºæ¯”èµ›çš„å›åˆä¸­å‡ºç°ï¼Œä½ è¿Ÿæ—©ä¼šé‡åˆ°è¿™äº›äººã€‚</p>
<p>å½“ç„¶ï¼Œè¿™å¹¶ä¸æ€»æ˜¯å¥æ•ˆã€‚ä¹Ÿæœ‰æƒ…å†µæ˜¯ï¼Œæœ‰çš„äººåœ¨ç¡…è°·ä¸€ä¸¾æˆåï¼Œèµšåˆ°å¾ˆå¤šé’±ï¼Œä½†äººä»¬ä¼šèƒŒå›å½¼æ­¤ï¼Œå› ä¸ºä»–ä»¬åªæ˜¯æƒ³ï¼Œâ€œæˆ‘è¦é è¿™ä¸ªå‘è´¢ï¼Œæˆ‘ä¸åœ¨ä¹ã€‚â€æ‰€ä»¥ï¼Œæ‰€æœ‰è¿™äº›æƒ…å†µéƒ½æœ‰ä¾‹å¤–ã€‚</p>
<p>ä½†æœ¬è´¨ä¸Šï¼Œå¦‚æœä½ æƒ³æˆåŠŸï¼Œä½ å¿…é¡»ä¸ä»–äººåˆä½œã€‚ä½ å¿…é¡»çŸ¥é“è°å¯ä»¥ä¿¡ä»»ï¼Œè°å¯ä»¥é•¿æœŸä¿¡ä»»ï¼Œå’Œä½ ä¸€èµ·åœ¨æ¸¸æˆä¸­èµ°ä¸‹å»ã€‚æ‰€ä»¥ã€Œå¤åˆ©æ•ˆåº”ã€å’Œã€Œé«˜åº¦ä¿¡ä»»çš„åœˆå­ã€å°±æ˜¯ä½ åœ¨æ¸¸æˆä¸­ç”Ÿå­˜çš„æ­¦å™¨ï¼ŒåŒæ—¶ä¹Ÿæ˜¯åœ¨æ¸¸æˆçš„å‘¨æœŸç»“æŸæ—¶ï¼Œè®©ä½ è·åˆ©çš„ä¸»è¦åŸå› ã€‚ä¾‹å¦‚ï¼Œæ²ƒä¼¦å·´è²ç‰¹ä½œä¸ºç¾å›½è‚¡ç¥¨å¸‚åœºçš„æŠ•èµ„è€…åšå¾—éå¸¸å¥½ï¼Œä½†ä»–èƒ½åšåˆ°è¿™ä¸€ç‚¹çš„é‡è¦åŸå› æ˜¯å› ä¸ºç¾å›½è‚¡å¸‚ä¸€ç›´ä¿æŒç¨³å®šï¼Œå¹¶ä¸”æ²¡æœ‰ç¢°åˆ°ç¾å›½æ”¿åºœæ”¿å±€éå¸¸å·®çš„æ—¶æœŸï¼Œæˆ–è€…æ˜¯æˆ˜äº‰æ—¶æœŸã€‚æ€»ä¹‹åº•å±‚åŸºç¡€è®¾æ–½æ²¡æœ‰è¢«ç ´åã€‚å› æ­¤ï¼Œå¯¹äºä»–æ¥è¯´ï¼Œä»–æ­£åœ¨ç©ä¸€åœºé•¿æœŸæ¯”èµ›ã€‚è¿™ç§ä¿¡ä»»æ¥è‡ªäºç¾å›½è‚¡å¸‚çš„ç¨³å®šã€‚</p>
<h3>å½“ä½ è½¬è¡Œæ—¶ï¼Œä½ æ˜¯åœ¨ä»é›¶å¼€å§‹</h3>
<p>åœ¨ç¡…è°·ï¼Œä¿¡ä»»æ¥è‡ªäºå°èŒƒå›´å†…çš„äººé™…ç½‘ç»œï¼Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œä½ ä¼šå‘ç°å“ªäº›äººæ˜¯ä½ å¯ä»¥åˆä½œçš„ï¼Œå“ªäº›äººæ˜¯ä½ ä¸èƒ½åˆä½œçš„ã€‚</p>
<p>å¦‚æœä½ ä¸åœåœ°æ›´æ¢åœ°ç‚¹ï¼Œä½ å°±ä¸åœåœ°æ›´æ¢å›¢é˜Ÿâ€¦â€¦å‡è®¾ä½ ä»æœ¨å·¥è¡Œä¸šèµ·æ­¥ï¼Œå¹¶åœ¨é‚£é‡Œå»ºç«‹äº†ä¸€ä¸ªç½‘ç»œã€‚ä½ åŠªåŠ›å·¥ä½œï¼Œä½ è¯•å›¾åœ¨æœ¨å·¥è¡Œä¸šåˆ¶é€ äº§å“ã€‚ç„¶åçªç„¶å‡ºç°äº†å¦ä¸€ä¸ªç›¸é‚»ä½†åˆä¸åŒçš„è¡Œä¸šï¼Œä½†ä½ çœŸçš„å¹¶ä¸äº†è§£å…¶ä¸­çš„ä»»ä½•ä¸€ä¸ªäººï¼Œä½ æƒ³è¦æŠ•èº«å…¶ä¸­ï¼Œåœ¨é‚£é‡Œèµšé’±ã€‚å¦‚æœä½ æŒç»­åœ¨å·¥ä¸šç•Œè·³æ¥è·³å»â€”â€”ä¸ï¼Œå®é™…ä¸Šæˆ‘éœ€è¦æ‰“å¼€ä¸€ç³»åˆ—ç”µåŠ¨æ±½è½¦åŠ æ²¹ç«™ã€‚â€”â€”è¿™æˆ–è®¸æœ‰é“ç†ã€‚è¿™å¯èƒ½æ˜¯æœ€å¥½çš„æœºä¼šã€‚ä½†æ˜¯æ¯æ¬¡ä½ é‡ç½®æ—¶ï¼Œæ¯æ¬¡ä½ è·³å‡ºåŸæ¥çš„ç½‘ç»œåœˆæ—¶ï¼Œä½ éƒ½å°†ä»é›¶å¼€å§‹ã€‚ä½ ä¸çŸ¥é“è¯¥ç›¸ä¿¡è°ï¼Œè€Œä¸”ä»–ä»¬ä¹Ÿä¸ä¼šå¾ˆå®¹æ˜“ç›¸ä¿¡ä½ ã€‚</p>
<p>å½“ç„¶ä¹Ÿå­˜åœ¨çŸ­æš‚çš„è¡Œä¸šã€‚ä»–ä»¬æ€»æ˜¯è¿›è¿›å‡ºå‡ºã€‚æ”¿æ²»å°±æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œå¯¹å§ï¼Ÿåœ¨æ”¿æ²»ä¸Šï¼Œæ–°äººæ­£åœ¨å½“é€‰ã€‚ä½ åœ¨æ”¿æ²»ä¸Šä¼šçœ‹åˆ°ï¼Œæœ‰å¾ˆå¤šè€å‰è¾ˆçš„åœ°æ–¹ï¼Œæ¯”å¦‚å‚è®®é™¢ï¼Œè¿™é‡Œæœ‰åœ¨è¿™ä¸ªè¡Œä¸šä¸­å·²ç»ç”Ÿå­˜å¾ˆé•¿æ—¶é—´çš„äººï¼Œä»–ä»¬éƒ½æ˜¯èŒä¸šæ”¿æ²»å®¶ã€‚å¯¹äºèŒä¸šæ”¿æ²»å®¶æœ‰å¾ˆå¤šä¸åˆ©å› ç´ æ¯”å¦‚è…è´¥ã€‚ä½†å¥½å¤„æ˜¯ä»–ä»¬å®é™…ä¸Šå·²ç»å®Œæˆäº†å½¼æ­¤çš„äº¤æ˜“ï¼Œå› ä¸ºä»–ä»¬çŸ¥é“å¦ä¸€ä¸ªäººå°†åœ¨åå¹´ä¹‹åå¤„äºç›¸åŒçš„ä½ç½®ï¼Œä»–ä»¬å°†ä¸å¾—ä¸ç»§ç»­ä¸è¿™äº›è€å‰è¾ˆæ‰“äº¤é“ï¼Œæ‰€ä»¥ä»–ä»¬æœ€å¥½å­¦ä¼šå¦‚ä½•åˆä½œã€‚ä¼—è®®é™¢æ¯ä¸¤å¹´éƒ½è¦ä¸¾è¡Œä¸€æ¬¡å¤§å‹é€‰ä¸¾ï¼Œé€‰å‡ºä¸€æ‰¹æ–°çš„ä¼—è®®å‘˜ï¼Œç”±äºä¸€ç›´åœ¨ç›¸äº’ç«äº‰ï¼Œå‡ ä¹ä»»ä½•äº‹æƒ…éƒ½æ²¡æ³•å®Œæˆã€‚â€œå› ä¸ºæˆ‘åˆšæ¥åˆ°è¿™é‡Œï¼Œæˆ‘ä¸è®¤è¯†ä½ ï¼Œæˆ‘ä¸çŸ¥é“ä½ æ˜¯å¦ä¼šç»§ç»­åœ¨èº«è¾¹ï¼Œæˆ‘ä¸ºä»€ä¹ˆè¦å’Œä½ åˆä½œï¼Œè€Œä¸æ˜¯åªæ˜¯å°è¯•åšæˆ‘è®¤ä¸ºæ­£ç¡®çš„äº‹æƒ…ï¼Ÿâ€</p>
<p>å› æ­¤é€‰æ‹©ä¸€ä¸ªä½ èƒ½é•¿æœŸä»äº‹çš„è¡Œä¸šã€ä»¥åŠé•¿æœŸä¼™ä¼´æ˜¯éå¸¸é‡è¦çš„ã€‚è¿™äº›äººä¼šè¡¨æ˜ä»–ä»¬ä¼šåœ¨ä½ èº«è¾¹å­˜åœ¨å¾ˆä¹…ï¼Œä»–ä»¬æ˜¯æœ‰é“å¾·çš„ï¼Œä»–ä»¬çš„é“å¾·ä¿¡æ¡èƒ½ä»ä»–ä»¬çš„è¡ŒåŠ¨ä¸Šä½“ç°å‡ºæ¥ã€‚</p>
<h3>é•¿æœŸæ¸¸æˆä¸­ï¼Œæ¯ä¸ªäººéƒ½åœ¨è®©å½¼æ­¤æ›´å¯Œæœ‰</h3>
<p><strong>Niviï¼šåœ¨é•¿æœŸæ¸¸æˆä¸­ï¼Œä¼¼ä¹æ¯ä¸ªäººéƒ½åœ¨è®©å½¼æ­¤æ›´å¯Œæœ‰ã€‚è€Œåœ¨çŸ­æœŸæ¸¸æˆä¸­ï¼Œä¼¼ä¹æ¯ä¸ªäººéƒ½åœ¨è®©è‡ªå·±æ›´å¯Œæœ‰</strong>ã€‚</p>
<p>Navalï¼šæˆ‘è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªå¾ˆæ£’çš„å½¢å®¹ã€‚åœ¨é•¿æœŸæ¸¸æˆä¸­ï¼Œè¿™æ˜¯ä¸€ä¸ªæ­£å’Œç°è±¡ã€‚å°±å¥½åƒå¤§å®¶åœ¨ä¸€èµ·çƒ¤ä¸€ä¸ªè‹¹æœæ´¾ï¼Œå¤§å®¶éƒ½åœ¨åŠªåŠ›å°½å¯èƒ½å°†å®ƒåšå¾—è¶Šå¤§è¶Šå¥½ã€‚åœ¨çŸ­æœŸæ¸¸æˆä¸­ï¼Œæˆ‘ä»¬æ˜¯åœ¨æƒ³æ–¹è®¾æ³•åˆ†è¿™ä¸ªæ´¾ã€‚</p>
<p>ç°åœ¨è¿™ä¸æ˜¯åœ¨ä¸ºç¤¾ä¼šä¸»ä¹‰è€…è¾©è§£ï¼Œå¯¹å—ï¼Ÿè¿™äº›ç¤¾ä¼šä¸»ä¹‰è€…ä¸æ˜¯å‚ä¸çƒ˜ç„™æ´¾çš„äººï¼Œä»–ä»¬æœ€åå‡ºç°ï¼Œè¯´â€æˆ‘æƒ³è¦ä¸€ç‰‡ï¼Œæˆ–è€…æ•´ä¸ªæ´¾ã€‚â€œä»–ä»¬å‡ºç°æ—¶æ˜¯å¸¦ç€æªçš„ã€‚ä½†æ˜¯æˆ‘è®¤ä¸ºä¸€ä¸ªå¥½çš„é¢†å¯¼è€…å¹¶ä¸èƒ½èµ¢å¾—è£èª‰ã€‚ä¸€ä¸ªå¥½çš„é¢†å¯¼è€…åŸºæœ¬ä¸Šéƒ½åœ¨åŠªåŠ›æ¿€åŠ±å‘˜å·¥ï¼Œè¿™æ ·å›¢é˜Ÿæ‰èƒ½å°†å·¥ä½œå®Œæˆã€‚ç„¶åï¼Œå¥–åŠ±å°†æŒ‰ç…§å…¬å¹³åŸåˆ™è¿›è¡Œåˆ’åˆ†ï¼Œè°è´¡çŒ®äº†å¤šå°‘ï¼ˆæˆ–å°½å¯èƒ½æ¥è¿‘ï¼‰å¹¶æ‰¿æ‹…äº†é£é™©ï¼Œè€Œä¸æ˜¯è°æ‹¥æœ‰æœ€é•¿çš„åˆ€â€¦è°æœ‰æœ€é”‹åˆ©çš„åˆ€ã€‚</p>
<h3>æ”¶ç›Šæ¥è‡ªé‡å¤æ¸¸æˆçš„å¤åˆ©</h3>
<p>Niviï¼šå› æ­¤ï¼Œæ¥ä¸‹æ¥çš„ä¸¤ä¸ªæ¨æ–‡æ˜¯ï¼Œâ€œç©è¿­ä»£æ¸¸æˆã€‚ç”Ÿæ´»ä¸­çš„æ‰€æœ‰çš„å›æŠ¥ï¼Œä¸è®ºæ˜¯è´¢å¯Œä¸Šçš„ï¼Œè¿˜æ˜¯äººé™…å…³ç³»ä¸Šçš„ï¼Œæˆ–è€…æ˜¯çŸ¥è¯†ä¸Šçš„éƒ½æ¥è‡ªå¤åˆ©æ•ˆåº”ã€‚â€</p>
<p>Navalï¼šå½“ä½ ä¸ä¸€ä¸ªç›¸å¤„äº†åå¹´ï¼ŒäºŒåå¹´ï¼Œä¸‰åå¹´çš„è€å‹åšç”Ÿæ„æ—¶ï¼Œä½ æ ¹æœ¬ä¸éœ€è¦ä¿¡ä»»ä»–ï¼Œäº‹æƒ…ä¹Ÿå¯ä»¥åšå¾—è¶Šæ¥è¶Šå¥½ã€‚å› ä¸ºåœ¨ç›¸å¤„è¿‡ç¨‹ä¸­æ‘©æ“¦é€æ¸å‡å¼±ï¼Œä½ ä»¬å¯ä»¥ä¸€èµ·åšè¶Šæ¥è¶Šå¤§çš„äº‹æƒ…ã€‚</p>
<p>ä¸¾ä¸ªæç«¯çš„ä¾‹å­ï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯ä¸æŸäººç»“å©šï¼Œç”Ÿå­©å­ç„¶åå…»å­©å­ï¼Œè¿™å°±æ˜¯å¤åˆ©ï¼ˆç¬‘ï¼‰ã€‚æŠ•èµ„äºè¿™äº›é•¿æœŸçš„å…³ç³»ï¼Œä¸æ›´éšæ„çš„å…³ç³»ç›¸æ¯”ï¼Œè¿™äº›å…³ç³»æœ€ç»ˆæ˜¯æ— ä»·çš„ã€‚</p>
<p>åœ¨å¥åº·å’Œå¥èº«æ–¹é¢ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ ä½ çš„èº«ä½“è¶Šå¥åº·ï¼Œä¿æŒå¥åº·å°±è¶Šå®¹æ˜“ã€‚ è€Œä½ çš„èº«ä½“æ¶åŒ–çš„è¶Šå¤šï¼Œå°±è¶Šéš¾å›åˆ°æ­£å¸¸çš„æ°´å¹³ã€‚</p>
<h2>ç¬¬åä¸€æ¡ï¼š é€‰æ‹©æ™ºæ…§ã€ç²¾åŠ›å……æ²›å’Œæ­£ç›´çš„åˆä½œä¼™ä¼´</h2>
<p><strong>é€‰æ‹©é«˜æ™ºå•†ã€ç²¾åŠ›å……æ²›ã€ä¸ºäººæ­£ç›´çš„ä¼™ä¼´æ˜¯ä½ ä¸èƒ½å¦¥åçš„ä¸‰è¦ç´ </strong></p>
<h3>é€‰æ‹©é«˜æ™ºå•†ã€ç²¾åŠ›å’Œæ­£ç›´çš„å•†ä¸šä¼™ä¼´</h3>
<p>Navalï¼šåœ¨æŒ‘é€‰åŒäº‹æ–¹é¢ï¼Œé€‰æ‹©é‚£äº›é«˜æ™ºå•†ã€ç²¾åŠ›å……æ²›ã€æ­£ç›´çš„äººï¼Œè¿™æ˜¯ä½ ä¸èƒ½å¦¥åçš„ä¸‰ä¸ªè¦ç´ ã€‚</p>
<p>ä½ éœ€è¦å’Œèªæ˜çš„äººå…±äº‹ï¼Œè‡³å°‘ä»–ä»¬ä¸æ˜¯åœ¨é”™è¯¯çš„æ–¹å‘ä¸Šä¸€è·¯å‘è¥¿ã€‚ä½ éœ€è¦ä¸ç²¾åŠ›å……æ²›çš„äººå…±äº‹ï¼Œå› ä¸ºä¸–ç•Œä¸Šåˆ°å¤„éƒ½æ˜¯èªæ˜å´æ‡’æƒ°ï¼Œå…‰æƒ³ä¸å¹²çš„äººã€‚åœ¨ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬éƒ½è®¤è¯†ä¸€äº›éå¸¸èªæ˜çš„äººï¼Œä»–ä»¬å¯ä»¥ä¸èµ·åºŠï¼Œæˆ–è€…åŠ¨ä¸€åŠ¨æ‰‹æŒ‡å°±å®Œæˆå¾ˆå¤šäº‹æƒ…ã€‚æˆ‘ä»¬ä¹ŸçŸ¥é“æœ‰äº›äººç²¾åŠ›å¾ˆæ—ºç››ï¼Œä½†å¹¶ä¸èªæ˜ï¼Œä»–ä»¬å·¥ä½œéå¸¸éå¸¸åŠªåŠ›ï¼Œä½†æœ‰æ—¶åœ¨æœç€é”™è¯¯çš„æ–¹å‘åŸ‹å¤´è‹¦å¹²ã€‚smartä¸æ˜¯ä¸€ä¸ªè´¬ä¹‰è¯ã€‚è¿™å¹¶ä¸æ˜¯è¯´æœ‰äººèªæ˜ï¼Œæœ‰äººæ„šè ¢ã€‚æˆ‘æƒ³è¡¨è¾¾çš„æ„æ€æ˜¯ï¼Œæ¯ä¸ªäººåœ¨ä¸åŒçš„äº‹æƒ…ä¸Šä¼šè¡¨ç°å‡ºå¾ˆèªæ˜çš„ä¸€é¢ã€‚å› æ­¤ï¼Œå–å†³äºä½ æƒ³åšä»€ä¹ˆï¼Œä½ æ‰å¯ä»¥æ‰¾åˆ°åœ¨è¿™æ–¹é¢å¾ˆèªæ˜çš„äººæ¥å¸®ä½ ã€‚</p>
<p>ç„¶åå…³äºç²¾åŠ›ï¼Œå¾ˆå¤šæ—¶å€™äººä»¬å¯¹ç‰¹å®šçš„äº‹æƒ…æ²¡æœ‰åŠ¨åŠ›ï¼Œä½†å¯¹å…¶ä»–äº‹æƒ…æœ‰åŠ¨åŠ›ã€‚ä¾‹å¦‚ï¼Œæœ‰äººå¯èƒ½çœŸçš„æ²¡æœ‰åŠ¨åŠ›ä¸€å¤©éƒ½ååœ¨åŠå…¬å®¤é‡Œå·¥ä½œã€‚ä½†ä»–ä»¬å¯èƒ½çœŸçš„æœ‰åŠ¨åŠ›å»ç”»ç”»ï¼Œå¯¹å§?</p>
<p>å—¯ï¼Œé‚£æ ·çš„è¯ï¼Œä»–ä»¬åº”è¯¥æ˜¯ç”»å®¶ã€‚ä»–ä»¬åº”è¯¥æŠŠè‡ªå·±çš„è‰ºæœ¯æ”¾åˆ°ç½‘ä¸Šï¼Œè¯•ç€æ¢ç´¢å¦‚ä½•ä»¥æ­¤ä¸ºåŸºç¡€å»ºç«‹è‡ªå·±çš„äº‹ä¸šï¼Œè€Œä¸æ˜¯è®¤å‘½äº†ï¼Œæˆ´ç€é¡¹åœˆï¼Œå»åšä¸€ä»½ä¹å‘³çš„å·¥ä½œã€‚è¿™ä¸€å®šæ˜¯ä¸€ä¸ªé•¿æœŸçš„äº‹æƒ…ï¼Œå¾ˆå¤šäººåœ¨å…´è‡´å‹ƒå‹ƒçš„å‘å¸ƒç¬¬ä¸€ä¸ªä½œå“åï¼Œå‘ç°æ²¡æœ‰ç«‹é©¬æ”¶è·1w+ç²‰ä¸çš„å…³æ³¨è€Œå¯¹è‡ªå·±å¤§å¤±æ‰€æœ›ï¼Œç„¶åä»¥æ­¤ä¸ºç”±å¤±å»åŠ¨åŠ›å°±æ”¾å¼ƒäº†ã€‚æˆ‘æƒ³è¯´çš„æ˜¯ï¼Œ<strong>åšä¸€ä»¶äº‹æƒ…çš„åŠ¨åŠ›ç»ˆç©¶æ¥è‡ªäºä½ è‡ªå·±åˆ°åº•æƒ³åšä»€ä¹ˆï¼Œè§‰å¾—ä»€ä¹ˆæœ‰æ„ä¹‰ï¼Œè€Œä¸æ˜¯ä¸ºäº†è®¨å¥½åˆ«äºº</strong>ã€‚</p>
<p>æœ€åä¸€ç‚¹æ˜¯æ­£ç›´ï¼Œæ­£ç›´æ˜¯æœ€é‡è¦çš„ï¼Œå¦‚æœåªæœ‰å¦å¤–ä¸¤ä¸ªå“è´¨ï¼Œä½ å°±é€‰æ‹©äº†ä¸€ä¸ªèªæ˜ã€å‹¤å¥‹çš„éª—å­ï¼Œä»–æœ€ç»ˆä¼šæ¬ºéª—ä½ ã€‚æ‰€ä»¥ï¼Œä½ å¿…é¡»å¼„æ¸…æ¥šè¿™ä¸ªäººæ˜¯å¦æ­£ç›´ã€‚</p>
<p>æˆ‘ä¹‹å‰è¯´è¿‡ï¼Œä½ è¦é€šè¿‡ä¿¡å·åˆ¤æ–­ã€‚ä¿¡å·æ˜¯ä»–ä»¬åšä»€ä¹ˆï¼Œè€Œä¸æ˜¯ä»–ä»¬è¯´ä»€ä¹ˆã€‚å½“ä»–ä»¬è®¤ä¸ºæ²¡æœ‰äººåœ¨çœ‹ä»–ä»¬æ—¶ï¼Œä»–ä»¬ä¼šåšä¸€äº›éè¯­è¨€çš„äº‹æƒ…ã€‚</p>
<h3>åŠ¨æœºå¿…é¡»æ˜¯å†…åœ¨çš„</h3>
<p>Niviï¼šSam Altmanä¹‹å‰æœ‰ä¸ªæœ‰è¶£çš„è§‚ç‚¹ï¼Œå½“è°ˆåˆ°å§”ä»»æ—¶ï¼Œä»–è¯´ï¼šâ€œå§”ä»»çš„å…³é”®åœ¨äºï¼Œè®©äººä»¬åšä»–ä»¬<strong>æ“…é•¿åŒæ—¶æ˜¯ä½ æƒ³è®©ä»–ä»¬åšçš„äº‹æƒ…</strong>ã€‚â€è¿™ä¸ªé“ç†æ˜¾è€Œæ˜“è§ï¼Œä½ ä¼šå’Œé‚£äº›è‡ªç„¶ä¼šåšä½ æƒ³è®©ä»–ä»¬åšçš„äº‹æƒ…çš„äººåˆä½œã€‚</p>
<p>Navalï¼šæ˜¯çš„ã€‚å¦‚æœæˆ‘è®¤ä¸ºä»–ä»¬ä¸å–œæ¬¢æˆ‘æƒ³è®©ä»–ä»¬åšçš„äº‹æƒ…ï¼Œæˆ‘å‡ ä¹ä¸ä¼šåˆ›åŠå…¬å¸ï¼Œä¸ä¼šé›‡äººï¼Œä¹Ÿä¸ä¼šå’Œåˆ«äººä¸€èµ·å·¥ä½œã€‚</p>
<p>å½“æˆ‘å¹´è½»çš„æ—¶å€™ï¼Œæˆ‘å¸¸å¸¸è¯•ç€è¯´æœåˆ«äººã€‚ä½†äº‹å®è¯æ˜ï¼Œä½ å¯ä»¥è¯´æœæŸäººå¸®ä½ åšä¸€ä»¶äº‹ï¼Œä½†æ˜¯æœ‰æ—¶å€™ä½ ä¸èƒ½ã€‚ä½ æ— æ³•è®©ä»–ä»¬ä¿æŒåŠ¨åŠ›ã€‚ä½ å¯ä»¥åœ¨ä¸€å¼€å§‹å°±ç»™ä»–ä»¬çµæ„Ÿï¼Œä½†é™¤éä½ æ˜¯åƒäº¨åˆ©äº”ä¸–é‚£æ ·çš„å›½ç‹ï¼Œæ‹¥æœ‰é‚£æ ·çš„æƒåŠ›æŒ‡ä½¿åˆ«äººåšäº‹æƒ…ã€‚ä½†å¦‚æœä½ æƒ³è®©äººä»¬é•¿æœŸä¿æŒåŠ¨åŠ›ï¼Œè¿™ç§åŠ¨åŠ›å¿…é¡»æ˜¯å†…åœ¨çš„ã€‚ä½ ä¸èƒ½åªæ˜¯åˆ›é€ å®ƒï¼Œå¦‚æœä»–ä»¬æ²¡æœ‰å†…åœ¨çš„åŠ¨åŠ›ï¼Œä½ ä¹Ÿä¸èƒ½æˆä¸ºä»–ä»¬çš„æ‹æ–ã€‚æ‰€ä»¥ï¼Œä½ å¿…é¡»ç¡®ä¿å‘˜å·¥ç²¾åŠ›å……æ²›ï¼Œæ„¿æ„åšä½ å¸Œæœ›ä»–ä»¬åšçš„äº‹ï¼Œæ„¿æ„å’Œä½ ä¸€èµ·å·¥ä½œï¼Œä¸€èµ·åˆ›é€ ã€‚</p>
<h3>è¯šä¿¡åæ˜ åœ¨ä¸€ä¸ªäººçš„è¡Œä¸ºï¼Œè€Œä¸æ˜¯ä»–è¯´äº†ä»€ä¹ˆ</h3>
<p>è§£è¯»ä¿¡å·éå¸¸éå¸¸é‡è¦ã€‚ä¿¡å·ä¸æ˜¯äººä»¬è¯´ä»€ä¹ˆï¼Œè€Œæ˜¯ä»–ä»¬åšäº†ä»€ä¹ˆã€‚å› æ­¤ï¼Œæ³¨æ„ç»†å¾®çš„ä¿¡å·æ˜¯å¾ˆé‡è¦çš„ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚åœ¨å…¬ä¼—åœºåˆï¼Œå¦‚æœæœ‰äººå¯¹æœåŠ¡å‘˜æ€åº¦éå¸¸ä¸å¥½ï¼Œé‚£ä¹ˆä»–ä»¬å¯¹ä½ ä¸å¥½åªæ˜¯æ—¶é—´é—®é¢˜ã€‚å¦‚æœæœ‰äººå‹åˆ¶äº†ä¸€ä¸ªæ•Œäººï¼Œå¹¶å¯¹ä»–ä»¬æ€€æ¨åœ¨å¿ƒï¼Œé‚£ä¹ˆä»–ä»¬æŠŠä½ ä»æœ‹å‹é‡æ–°å®šä¹‰ä¸ºæ•Œäººåªæ˜¯æ—¶é—´é—®é¢˜ï¼Œä½ ä¼šæ„Ÿå—åˆ°ä»–ä»¬çš„æ„¤æ€’ã€‚æ‰€ä»¥ï¼Œæ„¤æ€’ï¼Œæ„¤æ€’ï¼ŒæŠ¥å¤ï¼ŒçŸ­è§†çš„äººåœ¨ç°å®ç”Ÿæ´»ä¸­çš„å¾ˆå¤šäº’åŠ¨ä¸­éƒ½æ˜¯è¿™æ ·çš„ã€‚äººä»¬å¥‡æ€ªåœ°ä¸€è‡´ï¼Œè‡³å°‘èº«ä½“å¾ˆè¯šå®ã€‚æ‰€ä»¥ï¼Œä½ æƒ³æ‰¾åˆ°é•¿æœŸåˆä½œçš„ä¼™ä¼´ï¼Œä½ è¦æ‰¾çš„æ˜¯é‚£äº›ä¼¼ä¹æ²¡æœ‰ç†æ€§é“å¾·çš„äººã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘æœ‰ä¸€ä¸ªæœ‹å‹ï¼Œä»–çš„å…¬å¸æ˜¯æˆ‘æŠ•èµ„çš„ï¼Œä½†æ˜¯å…¬å¸æ¥è¿‘å€’é—­ï¼Œä»–æœ¬å¯ä»¥æŠŠæ‰€æœ‰çš„æŠ•èµ„è€…éƒ½é¸½äº†ã€‚ä½†ä»–ä¸æ–­åœ°æŠ•å…¥è¶Šæ¥è¶Šå¤šçš„ä¸ªäººèµ„é‡‘ï¼Œç›´åˆ°å…¬å¸æœ€ç»ˆåˆç«™èµ·æ¥ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä»–ä»æœªè®©æŠ•èµ„è€…è¡€æœ¬æ— å½’ã€‚ä¸ºæ­¤æˆ‘ä¸€ç›´å¾ˆæ„Ÿæ¿€ä»–ã€‚æˆ‘è¯´ï¼Œâ€œå“‡ï¼Œä½ å¯¹æŠ•èµ„äººè¿™ä¹ˆå¥½çœŸæ˜¯å¤ªæ£’äº†ï¼Œä½ æ²¡æœ‰å‘ä»–ä»¬ã€‚ä»–è§‰å¾—è¢«å†’çŠ¯äº†ã€‚ä»–è¯´ï¼šâ€œæˆ‘è¿™æ ·åšä¸æ˜¯ä¸ºäº†ä½ ï¼ˆæŠ•èµ„äººï¼‰ï¼Œæ˜¯ä¸ºäº†æˆ‘è‡ªå·±ã€‚è¿™å…³ä¹æˆ‘çš„è‡ªå°Šï¼Œæ˜¯æˆ‘çœŸæ­£å…³å¿ƒçš„ä¸œè¥¿ã€‚â€è¿™ç§äººæ‰æ˜¯ä½ æƒ³è¦å…±äº‹çš„äººã€‚</p>
<p>å¦ä¸€ä¸ªæˆ‘å–œæ¬¢çš„å¼•ç”¨ï¼Œæ˜¯æˆ‘å¦ä¸€æ¡ç›¸å…³çš„æ¨ç‰¹ã€‚æˆ‘æ˜¯åœ¨åˆ«çš„åœ°æ–¹è¯»åˆ°å®ƒï¼Œä½†æ˜¯æˆ‘ç¨å¾®ä¿®æ”¹äº†ä¸€ä¸‹ã€‚</p>
<p>â€œ<strong>è‡ªå°Šæ˜¯ä½ å¯¹è‡ªå·±çš„è¯„ä»·</strong>â€ã€‚</p>
<p>å¥½äººï¼Œæœ‰é“å¾·çš„äººï¼Œå®¹æ˜“å…±äº‹çš„äººï¼Œå¯é çš„äººï¼Œå¾€å¾€æœ‰å¾ˆé«˜çš„è‡ªå°Šï¼Œå› ä¸ºä»–ä»¬å¯¹è‡ªå·±çš„å£°èª‰éå¸¸åœ¨æ„ï¼Œä»–ä»¬æ·±åˆ»çš„æ˜ç™½å£°èª‰çš„é‡è¦æ€§ã€‚</p>
<h2>ç¬¬åäºŒæ¡ï¼šä¸ç†æ€§çš„ä¹è§‚ä¸»ä¹‰è€…åˆä½œ</h2>
<p><strong>ä¸è¦ä¸æ„¤ä¸–å«‰ä¿—è€…å’Œæ‚²è§‚ä¸»ä¹‰è€…ä¸ºä¼´ï¼šä»–ä»¬æ€»æ˜¯ä»¥è‡ªæˆ‘ä¸ºä¸­å¿ƒ</strong></p>
<h3>ä¸è¦ä¸æ‚²è§‚ä¸»ä¹‰è€…ä¸ºä¼</h3>
<p>Niviï¼šæœ€åä¸€æ¡æ¨æ–‡ã€‚ä½ è¯´ï¼šâ€œä¸è¦ä¸æ„¤ä¸–å«‰ä¿—è€…å’Œæ‚²è§‚ä¸»ä¹‰è€…ä¸ºä¼ã€‚ä»–ä»¬æ€»æ˜¯è‡ªä»¥ä¸ºæ˜¯ã€‚</p>
<p>Navalï¼šæ˜¯çš„ã€‚æœ¬è´¨ä¸Šï¼Œè¦åˆ›é€ äº‹ç‰©ï¼Œä½ å¿…é¡»æ˜¯ä¸€ä¸ªç†æ€§çš„ä¹è§‚ä¸»ä¹‰è€…ã€‚ç†æ€§çš„æ„æ€æ˜¯ä½ å¿…é¡»çœ‹æ¸…ä¸–ç•Œçš„çœŸç›¸ã€‚<strong>ä½†ä½ å¿…é¡»å¯¹è‡ªå·±çš„èƒ½åŠ›ä¿æŒä¹è§‚</strong>ï¼Œå¯¹è‡ªå·±æƒ³è¦å®Œæˆçš„ä½¿å‘½ä¿æŒä¹è§‚ã€‚</p>
<p>æˆ‘ä»¬éƒ½çŸ¥é“æœ‰äº›äººæ€»æ˜¯å¾ˆæ‚²è§‚ï¼Œä»–ä»¬ä¼šå¦å®šä¸€åˆ‡ã€‚æ¯ä¸ªäººçš„ç”Ÿæ´»ä¸­éƒ½æœ‰ä¹äºåŠ©äººçš„æ‰¹åˆ¤è€…ï¼Œå¯¹å§ï¼Ÿä»–è®¤ä¸ºä»–æ˜¯åœ¨å¸®å¿™ï¼Œä½†å®é™…ä¸Šä»–åªæ˜¯åœ¨æ‰¹è¯„ï¼ˆå°±åƒæˆ‘æ‰€è¯´çš„ä¸“ä¸šçš„è¯„è®ºå®¶ï¼‰ï¼Œè€Œä¸”ä»–å¯¹æ¯ä»¶äº‹éƒ½å¾ˆå¤±æœ›ã€‚è¿™æ ·çš„äººä¸ä»…åœ¨ä»–çš„ç”Ÿæ´»ä¸­ä¸ä¼šæˆå°±ä»»ä½•ä¼Ÿå¤§çš„äº‹æƒ…ï¼Œä»–ä»¬è¿˜ä¼šé˜»æ­¢å‘¨å›´çš„äººåšä¸€äº›ä¼Ÿå¤§çš„äº‹æƒ…æˆ–æœ‰å¤§èƒ†çš„æƒ³æ³•ã€‚ä»–ä»¬å¾€å¾€äº«å—æŒ‘åˆºå„¿çš„å¿«æ„Ÿï¼Œä½†ä»æœªæƒ³è¿‡æä¾›æ›´å¥½çš„è§£å†³é—®é¢˜çš„æ–¹æ¡ˆï¼Œå¯¹ï¼Œä»–ä»¬å°±æ˜¯åªè¯´ä¸åšã€‚æœ‰ä¸€å¥ç»å…¸çš„å†›äº‹å°è¯ï¼šâ€œè¦ä¹ˆå½“å¤´å„¿ï¼Œè¦ä¹ˆæœä»ï¼Œè¦ä¹ˆæ»šã€‚â€è¿™äº›äººæƒ³è¦ç¬¬å››ç§é€‰æ‹©ï¼Œä»–ä»¬ä¸æƒ³å½“é¢†å¯¼ï¼Œä¸æƒ³è·Ÿéšï¼Œä½†åˆä¸æƒ³è®©è·¯ã€‚ä»–ä»¬å°±æ˜¯æƒ³æ–¹è®¾æ³•å‘Šè¯‰ä½ ä¸ºä»€ä¹ˆè¿™äº‹å„¿è¡Œä¸é€šã€‚</p>
<p>æˆ‘è®¤è¯†çš„æ‰€æœ‰çœŸæ­£æˆåŠŸçš„äººéƒ½æœ‰å¾ˆå¼ºçš„è¡ŒåŠ¨åŠ›ï¼Œ<strong>ä»–ä»¬åªæ˜¯åšäº‹ã€‚åˆ¤æ–­ä¸€ä»¶äº‹æ˜¯å¦å¯è¡Œçš„æœ€ç®€å•æ–¹æ³•å°±æ˜¯å»åš</strong>ï¼Œè‡³å°‘åšç¬¬ä¸€æ­¥ï¼Œç¬¬äºŒæ­¥ï¼Œç¬¬ä¸‰æ­¥ï¼Œç„¶åå†å†³å®šä¸‹ä¸€æ­¥ã€‚</p>
<p>å› æ­¤ï¼Œå¦‚æœä½ æƒ³åœ¨ç”Ÿæ´»ä¸­å–å¾—æˆåŠŸï¼Œåˆ›é€ è´¢å¯Œï¼Œæˆ–è€…æ‹¥æœ‰è‰¯å¥½çš„äººé™…å…³ç³»ï¼Œæˆ–è€…ä¿æŒå¥åº·ï¼Œç”šè‡³æ˜¯å¿«ä¹ï¼Œä½ éœ€è¦æœ‰ä¸€ç§è¶…å¼ºçš„è¡ŒåŠ¨åŠ›ï¼Œè¿™æ ·æ‰èƒ½è·å¾—ä½ æƒ³è¦çš„ã€‚</p>
<h3>ä¸ç†æ€§çš„ä¹è§‚ä¸»ä¹‰è€…åˆä½œ</h3>
<p>ä½ è¦å¯¹åˆç†çš„ä¸œè¥¿ä¿æŒä¹è§‚ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œæ²¡æœ‰ä»€ä¹ˆæ¯”ä¸€ä¸ªé²è½çš„äººå»è¿½æ±‚ä¸å€¼å¾—çš„ä¸œè¥¿æ›´ç³Ÿç³•çš„äº†ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘è¯´â€œç†æ€§â€çš„ä¹è§‚ä¸»ä¹‰è€…ã€‚ä½ éœ€è¦åœ¨äº†è§£æ‰€æœ‰çš„é™·é˜±ï¼ŒçŸ¥é“äº‹ç‰©ä¸åˆ©çš„ä¸€é¢çš„æƒ…å†µä¸‹ï¼Œä¾æ—§ä¿æŒä¹è§‚ã€‚</p>
<p>æ¯ä¸ªäººåªåœ¨è¿™ä¸ªæ˜Ÿçƒä¸Šæ´»ä¸€æ¬¡ï¼Œä¸ºä»€ä¹ˆä¸è¯•ç€åšç‚¹å¤§äº‹å‘¢ï¼Ÿè¿™å°±æ˜¯åŸƒéš†Â·é©¬æ–¯å…‹è¿™ç§äººçš„ç‰›é€¼ä¹‹å¤„ï¼Œæˆ‘è®¤ä¸ºä»–ä¹‹æ‰€ä»¥èƒ½æ¿€åŠ±è¿™ä¹ˆå¤šäººï¼Œæ˜¯å› ä¸ºä»–æ‰¿æ‹…äº†éå¸¸ã€éå¸¸å¤§èƒ†çš„è´£ä»»å’Œä½¿å‘½ã€‚ä»–ä¸ºäººä»¬æ ‘ç«‹äº†ä¸€ä¸ªæ ‘ç«‹è¿œå¤§ç†æƒ³çš„æ¦œæ ·ã€‚å³ä½¿æ˜¯åšä¸€äº›å°ä¸œè¥¿ä¹Ÿè¦èŠ±å¾ˆå¤šåŠŸå¤«ã€‚æˆ‘ä¸è®¤ä¸ºè¡—è§’æ‚è´§åº—è€æ¿çš„å·¥ä½œå¼ºåº¦æ¯”åŸƒéš†Â·é©¬æ–¯å…‹(Elon Musk)ä½ï¼Œä¹Ÿä¸è®¤ä¸ºä»–ä»˜å‡ºçš„æ±—æ°´å’Œè¾›åŠ³æ¯”é©¬æ–¯å…‹å°‘ï¼Œç”šè‡³æ›´å¤šã€‚æ— è®ºæ˜¯æ•™è‚²æ°´å¹³è¿˜æ˜¯æ‰€å¤„ç¯å¢ƒï¼Œä¸ç®¡ä»€ä¹ˆåŸå› ï¼Œä»–ä»¬æ²¡æœ‰æœºä¼šå»æƒ³é‚£ä¹ˆå¤šï¼Œæ‰€ä»¥å½±å“åŠ›å°±ä¸é‚£ä¹ˆå¤§ã€‚å› æ­¤ï¼Œæœ€å¥½è¿˜æ˜¯æƒ³å¾—è¿œä¸€ç‚¹ã€‚å½“ç„¶è¿˜æ˜¯è¦ç†æ€§åœ°ï¼Œåœ¨ä½ çš„èƒ½åŠ›èŒƒå›´å†…ä¿æŒä¹è§‚ã€‚</p>
<p>æ„¤ä¸–å«‰ä¿—è€…å’Œæ‚²è§‚ä¸»ä¹‰è€…ï¼Œä»–ä»¬çœŸæ­£æƒ³è¯´çš„æ˜¯ï¼Œè¿™å¾ˆä¸å¹¸ï¼Œä½†ä»–ä»¬åŸºæœ¬ä¸Šæ˜¯åœ¨è¯´ï¼Œâ€œæˆ‘æ”¾å¼ƒäº†ã€‚æˆ‘æƒ³æˆ‘ä»€ä¹ˆéƒ½åšä¸äº†ã€‚æ‰€ä»¥å¯¹æˆ‘æ¥è¯´ï¼Œè¿™ä¸ªä¸–ç•Œå°±åƒä¸€ä¸ªæ²¡æœ‰äººèƒ½åšä»»ä½•äº‹çš„ä¸–ç•Œã€‚â€æ‰€ä»¥ä»–ä»¬ä¸ç†è§£åˆ«äººä¸ºä»€ä¹ˆè´¹åŠ²å„¿åœ°è¦å»åšä¸€äº›äº‹æƒ…ã€‚</p>
<h3>æˆ‘ä»¬æ˜¯æ‚²è§‚ä¸»ä¹‰è€…çš„åä»£</h3>
<p>Niviï¼šä¹Ÿè®¸åšä¸€ä¸ªä¸ç†æ€§çš„ä¹è§‚ä¸»ä¹‰è€…æˆ–åšä¸€ä¸ªç†æ€§çš„æ„¤ä¸–å«‰ä¿—è€…å¯èƒ½æ›´å¥½ã€‚</p>
<p>Navalï¼šå¯¹äºä¸ºä»€ä¹ˆä½ åº”è¯¥æˆä¸ºä¸€ä¸ªä¹è§‚ä¸»ä¹‰è€…ï¼Œæœ‰ä¸€ä¸ªå®Œå…¨ç†æ€§çš„æ¡†æ¶ã€‚å†å²ä¸Šï¼Œå¦‚æœä½ å›åˆ°2000å¹´ï¼Œ5000å¹´ï¼Œ10000å¹´ï¼Œä¸¤ä¸ªäººåœ¨ä¸›æ—ä¸­æ¼«æ­¥ï¼Œä»–ä»¬å¬åˆ°äº†è€è™çš„å£°éŸ³ã€‚ä¸€ä¸ªæ˜¯ä¹è§‚ä¸»ä¹‰è€…ï¼Œè¯´ï¼Œâ€œå“¦ï¼Œå®ƒä¸æ˜¯æœæˆ‘ä»¬è¿™è¾¹æ¥çš„ã€‚å¦ä¸€ä¸ªè¯´ï¼šâ€œæˆ‘æ˜¯ä¸ªæ‚²è§‚ä¸»ä¹‰è€…ï¼Œæˆ‘è¦ç¦»å¼€è¿™é‡Œã€‚â€æ‚²è§‚çš„äººè·‘äº†ï¼Œæ´»äº†ä¸‹æ¥ï¼Œä¹è§‚çš„äººè¢«åƒæ‰äº†ã€‚</p>
<p>æˆ‘ä»¬æ˜¯æ‚²è§‚ä¸»ä¹‰è€…çš„åä»£ï¼Œæˆ‘ä»¬å¤©ç”Ÿå°±æ˜¯æ‚²è§‚ä¸»ä¹‰è€…ã€‚ä½†ç°ä»£ç¤¾ä¼šè¦å®‰å…¨å¾—å¤šï¼Œæ²¡æœ‰è€è™åœ¨è¡—ä¸Šæ¸¸è¡ï¼Œè™½ç„¶ä½ åº”è¯¥é¿å…å½»åº•ç ´äº§ï¼Œä½†ä½ æœ€ç»ˆä¸å¤ªå¯èƒ½ä¸€æ— æ‰€æœ‰ã€‚</p>
<p>æˆ‘æƒ³åˆ†äº«çš„ç†å¿µæ˜¯ï¼Œå¯¹äºä¸€ä¸ªäººæ¥è¯´ï¼Œ<strong>ä»–çš„å¢ƒé‡æ˜¯æœ‰ä¸‹é™çš„ï¼Œä½†ä¸Šé™å´å¾ˆéš¾è¯´</strong>ï¼ˆç™½è¯è¯´æ˜¯ä½ å¾ˆéš¾é¥¿æ­»ï¼Œä½†æ˜¯æˆåŠŸå´ä¸å¯é™é‡ï¼‰ã€‚å› æ­¤ï¼Œé€‚åº”ç°ä»£ç¤¾ä¼šæ„å‘³ç€è¦å…‹æœä½ çš„æ‚²è§‚æƒ…ç»ªï¼Œåšå‡ºç¨å¾®ä¸ç†æ€§çš„ä¹è§‚æŠ¼æ³¨ï¼Œå› ä¸ºå¦‚æœä½ åˆ›åŠä¸‹ä¸€ä¸ªSpaceXã€ç‰¹æ–¯æ‹‰(Tesla)æˆ–ä¼˜æ­¥(Uber)ï¼Œä½ å¯ä»¥ä¸ºç¤¾ä¼šå’Œè‡ªå·±åˆ›é€ æ•°åäº¿ç¾å…ƒçš„ä»·å€¼ï¼Œå¹¶æ”¹å˜ä¸–ç•Œã€‚</p>
<p>â€œ<strong>å¦‚æœä½ å¤±è´¥äº†ï¼Œæœ‰ä»€ä¹ˆå¤§ä¸äº†çš„ï¼Ÿä½ æŸå¤±äº†å‡ ç™¾ä¸‡ç¾å…ƒçš„æŠ•èµ„äººï¼ˆVCï¼‰çš„é’±ï¼Œè€Œä»–ä»¬è¿˜æœ‰æ›´å¤šé’±ï¼Œè¿™å°±æ˜¯ä»–ä»¬å¯¹ä½ æˆåŠŸçš„èµŒæ³¨ã€‚</strong>â€</p>
<p>å¯¹è¿‡å»æ‚²è§‚æ˜¯æœ‰é“ç†çš„ï¼Œå¯¹ä»Šå¤©ä¿æŒä¹è§‚æ˜¯æœ‰æ„ä¹‰çš„ï¼Œå°¤å…¶å¯¹äºè¿™ä¹ˆå¤šå—è¿‡é«˜ç­‰æ•™è‚²ä¸”ç”Ÿæ´»åœ¨ç¬¬ä¸€ä¸–ç•Œå›½å®¶çš„äººï¼Œç”šè‡³æ˜¯ç¬¬ä¸‰ä¸–ç•Œå›½å®¶çš„äººã€‚æˆ‘åè€Œè®¤ä¸ºç¬¬ä¸‰ä¸–ç•Œå›½å®¶çš„ç»æµæœºä¼šè¦å¤§å¾—å¤šã€‚</p>
<p>å½“ç„¶ï¼Œä½ å¿…é¡»æ³¨æ„çš„ä¸€ä»¶äº‹å°±æ˜¯ï¼Œä¸è¦åšä»»ä½•è¿æ³•çš„äº‹æƒ…ï¼Œè¿œç¦»å¯èƒ½ä¼šå¸¦æ¥ç¾éš¾æ€§çš„æŸå¤±çš„äº‹ã€‚å°½å¯èƒ½ä¸åšå¯¹èº«ä½“æœ‰å®³çš„äº‹æƒ…ï¼Œæ³¨æ„ä½ çš„å¥åº·ã€‚è¿œç¦»é‚£äº›ä¼šè®©ä½ å¤±å»æ‰€æœ‰èµ„æœ¬å’Œå‚¨è“„çš„äº‹æƒ…ã€‚</p>
<p>å› æ­¤ï¼Œä¸è¦å­¤æ³¨ä¸€æ·ã€‚ä½†ç†æ€§ä¹è§‚çš„æŠ¼æ³¨ä¼šå¸¦æ¥å·¨å¤§çš„å¥½å¤„ã€‚</p>
<h2>ç¬¬åä¸‰æ¡ï¼šç”¨ç‰¹æ®ŠæŠ€èƒ½ï¼ˆSpecific knowledgeï¼‰æ­¦è£…è‡ªå·±</h2>
<p>Navalï¼šå¦‚æœä½ æƒ³å˜å¾—å¯Œæœ‰ï¼Œä½ éœ€è¦æƒ³åŠæ³•è·å¾—â€œè§„æ¨¡åŒ–â€çš„æ”¶å…¥ï¼Œè€Œä¸æ˜¯ä»…ä»…æœŸç›¼æ¯ä¸ªæœˆçš„å·¥èµ„ã€‚è´£ä»»æ„Ÿå†³å®šäº†ä½ çš„å®¢æˆ·ä¸ºä»€ä¹ˆé€‰æ‹©ä½ ï¼Œæ æ†æ•ˆåº”å†³å®šäº†å®ƒå¯ä»¥è¢«è§„æ¨¡åŒ–ã€‚ä¸ºä»€ä¹ˆå¤§å®¶è¦ä»˜ç»™ä½ é’±è€Œä¸æ˜¯ç»™åˆ«äººï¼Œè¿™éœ€è¦<strong>ç‰¹æ®Šçš„æŠ€èƒ½</strong>ã€‚è¿™é‡Œæåˆ°çš„ç‰¹æ®ŠæŠ€èƒ½å¯èƒ½æ˜¯æ•´ä¸ªæ¨ç‰¹é£æš´ä¸­æœ€éš¾ä¼ è¾¾çš„ä¸œè¥¿ï¼Œä¹Ÿæ˜¯äººä»¬å¯èƒ½æœ€å›°æƒ‘çš„éƒ¨åˆ†ã€‚</p>
<p>äººä»¬æ™®éæŒæœ‰ä¸€ç§è§‚ç‚¹æ˜¯ï¼Œä»»ä½•äº‹æƒ…éƒ½å¯ä»¥ä»å­¦æ ¡å­¦æ¥ï¼Œéƒ½å¯ä»¥â€œè¢«ä¼ æˆâ€ï¼Œä½†äº‹å®ä¸Šæœ€æœ‰ä»·å€¼çš„äº‹æƒ…ä¸æ˜¯æ•™æ¥çš„ã€‚ä½†å¥½åœ¨ä»»ä½•äº‹æƒ…éƒ½å¯ä»¥å­¦ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹ä½ æƒ³å­¦çš„ä¸œï¼Œè¦ä¹ˆæ¥æºäºä½ çš„å…´è¶£æˆ–DNAï¼Œè¦ä¹ˆæ˜¯æºäºä½ ä»å°å…»æˆçš„ä¸€äº›ä¹ æƒ¯ï¼Œè¿™äº›åœ¨ä¹‹åéå¸¸éš¾è¢«â€œæ•™â€ä¼šï¼›å½“ç„¶ä¹Ÿå¯èƒ½æ˜¯ä¸€äº›å…¨æ–°çš„ä¸œè¥¿ï¼Œæ‰€ä»¥æ²¡æœ‰äººçŸ¥é“æ€ä¹ˆåšï¼›æˆ–è€…åœ¨å·¥ä½œåŸ¹è®­ä¸­ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œä½ åœ¨é«˜åº¦å¤æ‚çš„ç¯å¢ƒä¸­è¿›è¡Œå„ç§å°è¯•ï¼Œåœ¨ä¸€ä¸ªç‰¹å®šçš„é¢†åŸŸå»ºç«‹åˆ¤æ–­ã€‚å…¸å‹çš„ä¾‹å­å°±æ˜¯æŠ•èµ„ï¼Œä½†ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–æ–¹é¢ã€‚å¯ä»¥æ˜¯å¼€æ‹–æ‹‰æœºçš„æŠ€å·§ï¼Œä¹Ÿå¯ä»¥æ˜¯é¢„æµ‹å¤©æ°”çš„èƒ½åŠ›ã€‚</p>
<p>å› æ­¤ç‰¹æ®ŠæŠ€èƒ½å°±æ˜¯ä½ ç‰¹åˆ«å…³æ³¨çš„æŠ€èƒ½ï¼Œå°¤å…¶æ˜¯ä½ å·²ç»åˆ°äº†20ã€21ã€22ä¹‹åï¼Œä½ å‡ ä¹å°±ä¸ç”¨å»é€‰ä½ éœ€è¦ä»€ä¹ˆæ ·çš„ç‰¹æ®ŠæŠ€èƒ½äº†ã€‚ä½ éœ€è¦åšçš„å°±æ˜¯å›é¡¾ä¹‹å‰çš„äººç”Ÿç»å†ä¸­ï¼Œä½ å»ºç«‹äº†ä»€ä¹ˆæ ·çš„æŠ€èƒ½æ˜¯ä½ è§‰å¾—å¯ä»¥ç€é‡è¢«å‘å±•çš„ã€‚</p>
<h3>ç‰¹æ®ŠæŠ€èƒ½æ— æ³•è¢«è®­ç»ƒå‡ºæ¥</h3>
<p>ç‰¹æ®ŠæŠ€èƒ½ä¸æ˜¯æ•™å‡ºæ¥çš„ã€‚å¦‚æœå­¦æ ¡å¯ä»¥æ•™è¿™äº›ä¸œè¥¿ï¼Œé‚£ä¹ˆå…¶ä»–äººä¹Ÿå¯ä»¥æ¥å—åŸ¹è®­ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥å¤§è§„æ¨¡ç”Ÿäº§å’Œå¤§è§„æ¨¡åŸ¹è®­äººå‘˜ã€‚æˆ‘ä»¬ç”šè‡³å¯ä»¥ç¼–ç¨‹è®©ç”µè„‘æ¥åšï¼Œè®©æœºå™¨äººæ¥åšã€‚å¦‚æœæ˜¯è¿™æ ·çš„è¯ï¼Œä½ å°±å¾ˆå®¹æ˜“è¢«æ›¿ä»£ã€‚å½“æœ‰æ— æ•°çš„äººå¯ä»¥ç»è¿‡åŸ¹è®­åšè¿™ä»¶äº‹çš„æ—¶å€™ï¼Œé›‡ä¸»æ”¯ä»˜ç»™ä½ çš„åªæ˜¯æœ€ä½å·¥èµ„ï¼Œä¸ºçš„å°±æ˜¯è®©ä½ åšâ€œè¿™ä»¶äº‹â€ã€‚<strong>ä½ è·å¾—çš„æ”¶å…¥=æŠ•èµ„åŸ¹è®­æ‰€äº§ç”Ÿçš„å›æŠ¥-åŸ¹è®­ä½ çš„æˆæœ¬</strong>ã€‚</p>
<h3>ç‰¹æ®ŠæŠ€èƒ½ä¸ä½ çš„å…´è¶£é«˜åº¦ç›¸å…³</h3>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œä¸€ä¸ªäººæ‹¿åˆ°äº†å¿ƒç†å­¦å­¦ä½åï¼Œæˆä¸ºäº†ä¸€åé”€å”®äººå‘˜ã€‚å¦‚æœä»–å·²ç»æ‹¥æœ‰æ¯”è¾ƒå¥½çš„é”€å”®æŠ€å·§ï¼Œé‚£ä¹ˆå¿ƒç†å­¦å°±å¯ä»¥ä½œä¸ºä¸€ç§æ æ†ï¼Œä½¿ä»–åœ¨é”€å”®ä¸Šåšå¾—æ›´å¥½ã€‚ä½†å¦‚æœä»–ä¸€ç›´æ˜¯ä¸€ä¸ªå†…å‘çš„äººï¼Œä»æ¥éƒ½ä¸æ“…é•¿é”€å”®ï¼Œä»–ä»¬è¯•å›¾ç”¨å¿ƒç†å­¦æ¥å­¦ä¹ é”€å”®ï¼Œä»–ä»¬ä¸ä¼šåšå¾—å¾ˆå¥½ã€‚å› æ­¤ï¼Œä½ ä¼šå‘ç°æ›´å¤šçš„ç‰¹æ®ŠæŠ€èƒ½æ˜¯é€šè¿‡è®¤è¯†åˆ°ä½ çš„å¤©èµ‹ã€ä½ çœŸæ­£çš„å¥½å¥‡å¿ƒå’Œä½ çš„çƒ­æƒ…è€Œå»ºç«‹èµ·æ¥çš„ã€‚ä¸æ˜¯ä¸ºäº†æœ€çƒ­é—¨çš„å·¥ä½œå»ä¸Šå­¦ï¼Œä¹Ÿä¸æ˜¯ç›²ç›®è¿›å…¥æŠ•èµ„äººè®¤ä¸ºçš„æœ€çƒ­é—¨çš„é¢†åŸŸåˆ›ä¸šã€‚</p>
<h3>ç‰¹æ®ŠæŠ€èƒ½å¾€å¾€å¤„äºçŸ¥è¯†çš„è¾¹ç¼˜</h3>
<p>å®ƒä¹Ÿæ˜¯ä¸€äº›åˆšåˆšè¢«å‘ç°æˆ–è€…å¾ˆéš¾è¢«å‘ç°çš„ä¸œè¥¿ã€‚å› æ­¤ï¼Œå¦‚æœä½ ä¸æ˜¯100%çš„æŠ•å…¥ï¼Œå…¶ä»–äººä¼šæ¯”ä½ åšå¾—æ›´å¥½ã€‚ä»–ä»¬ä¸ä¼šæ¯”ä½ å¥½ä¸€ç‚¹ç‚¹ï¼Œä»–ä»¬ä¼šæ¯”ä½ å¥½å¾ˆå¤šï¼Œå› ä¸ºç°åœ¨æˆ‘ä»¬æ­£åœ¨è¿è¥åˆ›æ„é¢†åŸŸï¼Œéå¸¸é€‚ç”¨äºå¤åˆ©ï¼Œé€‚ç”¨äºæ æ†ã€‚å¦‚æœä½ çš„æ æ†ç‡ä¸º1000å€ï¼Œæœ‰äººåœ¨80ï¼…çš„æ—¶é—´éƒ½æ˜¯æ­£ç¡®çš„ï¼Œè€Œå…¶ä»–äººåœ¨90ï¼…çš„æ—¶é—´éƒ½æ˜¯æ­£ç¡®çš„ï¼Œé‚£ä¹ˆ90ï¼…çš„æ—¶é—´æ­£ç¡®çš„äººå°†å› ä¸ºå¸‚åœºçš„æ æ†ä½œç”¨å’Œå¤åˆ©è·å¾—æ•°ç™¾å€çš„æŠ¥é…¬ã€‚å› æ­¤ï¼Œå¦‚æœä½ æƒ³ç¡®ä¿è‡ªå·±åœ¨è¿™æ–¹é¢å…·æœ‰ä¼˜åŠ¿ï¼ŒçœŸæ­£å…·æœ‰å¥½å¥‡å¿ƒéå¸¸é‡è¦ã€‚</p>
<h3>å»ºç«‹ç‰¹æ®ŠæŠ€èƒ½å¯¹ä½ æ¥è¯´å°±åƒæ¸¸æˆ</h3>
<p>å¾ˆå¤šæ—¶å€™ï¼Œå®ƒä¸æ˜¯ä½ åä¸‹æ¥ç„¶åæ¨ç†çš„ä¸œè¥¿ï¼Œå®ƒæ›´å¤šçš„æ˜¯é€šè¿‡è§‚å¯Ÿå‘ç°çš„ã€‚ä½ å‡ ä¹ä¸å¾—ä¸å›é¡¾è‡ªå·±çš„ç”Ÿæ´»ï¼Œçœ‹çœ‹è‡ªå·±åˆ°åº•æ“…é•¿ä»€ä¹ˆã€‚ä¾‹å¦‚ï¼Œæˆ‘æƒ³æˆä¸ºä¸€åç§‘å­¦å®¶ï¼Œæ‰€ä»¥æˆ‘æ‰€åšæŒçš„ä»·å€¼è§‚éƒ½æ˜¯å›´ç»•ç€ã€Œç§‘å­¦å®¶ã€æ¥å»ºç«‹çš„ã€‚æˆ‘è®¤ä¸ºçœŸæ­£çš„ç§‘å­¦å®¶å¤„äºäººç±»ç”Ÿäº§é“¾æ¡çš„é¡¶ç«¯ï¼Œä»–ä»¬åšå‡ºäº†çœŸæ­£çš„çªç ´å’Œè´¡çŒ®ï¼Œå¯¹äººç±»ç¤¾ä¼šçš„è´¡çŒ®å¯èƒ½æ¯”ä»»ä½•å…¶ä»–é˜¶å±‚çš„äººéƒ½è¦å¤§ã€‚å½“ç„¶ï¼Œæˆ‘å¹¶ä¸æ˜¯è¯´è‰ºæœ¯ã€æ”¿æ²»ã€å·¥ç¨‹æˆ–å•†ä¸šç­‰è´¡çŒ®å°ï¼Œä½†å¦‚æœæ²¡æœ‰ç§‘å­¦ï¼Œæˆ‘ä»¬ä»ç„¶ä¼šåœ¨æ³¥åœŸä¸­æŒ£æ‰ï¼Œç”¨æ£å­æ‰“æ¶ï¼Œæ¯å¤©å¿™ç€ç”Ÿç«ã€‚æˆ‘çš„æ•´ä¸ªä»·å€¼ä½“ç³»éƒ½æ˜¯å›´ç»•ç€ç§‘å­¦å®¶å»ºç«‹çš„ï¼Œæˆ‘æƒ³æˆä¸ºä¸€åä¼Ÿå¤§çš„ç§‘å­¦å®¶ã€‚</p>
<p>ä½†å½“æˆ‘çœŸæ­£å›å¤´çœ‹æˆ‘æ“…é•¿çš„ä¸œè¥¿ï¼Œä»¥åŠæˆ‘æœ€ç»ˆæŠŠæ—¶é—´èŠ±åœ¨äº†ä»€ä¹ˆäº‹æƒ…ä¸Šæ—¶ï¼Œæˆ‘å‘ç°æ›´å¤šçš„æ˜¯å›´ç»•ç€èµšé’±ï¼Œé’»ç ”æŠ€æœ¯ï¼Œå–ä¸œè¥¿ï¼ˆæ€æƒ³ï¼‰ï¼Œè§£é‡Šäº‹æƒ…ï¼Œå’Œäººä»¬äº¤è°ˆã€‚æ‰€ä»¥ï¼Œæˆ‘æœ‰ä¸€äº›é”€å”®æŠ€å·§ï¼Œè¿™æ˜¯ä¸€ç§å½¢å¼çš„å…·ä½“çŸ¥è¯†ï¼›æˆ‘æœ‰ä¸€äº›å…³äºå¦‚ä½•èµšé’±çš„åˆ†ææŠ€å·§ï¼›æˆ‘å¯¹æ•°æ®è¶³å¤Ÿæ•æ„Ÿï¼Œæœ‰æ”¶é›†æ•°æ®ï¼Œæ•´ç†å¹¶åˆ†ææ•°æ®çš„èƒ½åŠ›ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘çš„ä¸€ä¸ªç‰¹æ®ŠæŠ€èƒ½ã€‚å½“ç„¶æˆ‘ä¹Ÿå–œæ¬¢æ‘†å¼„æŠ€æœ¯ã€‚æ‰€æœ‰è¿™äº›å¯¹æˆ‘æ¥è¯´éƒ½åƒæ˜¯æ¸¸æˆï¼Œä½†å¯¹å…¶ä»–äººæ¥è¯´å´æ˜¯å·¥ä½œã€‚</p>
<p>æœ‰äº›äººä¼šè§‰å¾—è¿™äº›äº‹æƒ…å¾ˆéš¾ï¼Œä»–ä»¬ä¼šè¯´ï¼Œâ€œå¥½å§ï¼Œæˆ‘æ€ä¹ˆæ‰èƒ½å˜å¾—å–„äºè¡¨è¾¾å’Œæ¨é”€æƒ³æ³•å‘¢?â€å¦‚æœä½ ä¸æ˜¯å¾ˆæ“…é•¿ï¼Œæˆ–è€…ä½ ä¸æ˜¯å¾ˆå–œæ¬¢ï¼Œä¹Ÿè®¸è¿™ä¸æ˜¯ä½ çš„ä¸“é•¿ï¼Œä¸“æ³¨äºä½ çœŸæ­£å–œæ¬¢çš„äº‹æƒ…ã€‚</p>
<p>æœ‰ç‚¹è®½åˆºçš„æ˜¯ï¼Œç¬¬ä¸€ä¸ªæŒ‡å‡ºæˆ‘çœŸæ­£æ“…é•¿ä»€ä¹ˆçš„äººæ˜¯æˆ‘çš„æ¯äº²ã€‚å¥¹æ˜¯åœ¨å¨æˆ¿é‡Œè¯´è¿™äº›è¯çš„ï¼Œå½“æ—¶æˆ‘å¤§æ¦‚15ã€16å²ã€‚å½“æˆ‘åœ¨å’Œä¸€ä¸ªæœ‹å‹è¯´æˆ‘æƒ³æˆä¸ºä¸€åå¤©ä½“ç‰©ç†å­¦å®¶ï¼Œå¥¹è¯´ï¼šâ€œä¸ï¼Œä½ æ›´é€‚åˆå»ç»å•†ã€‚â€</p>
<p>æˆ‘ä¸€è„¸æ‡µé€¼ï¼Œâ€œå•¥ï¼Ÿæˆ‘å¦ˆå¦ˆä¸çŸ¥é“å¥¹åœ¨è¯´ä»€ä¹ˆå§ã€‚â€</p>
<p><strong>ä½†äº‹å®ä¸Šï¼Œå¦ˆå¦ˆå½“ç„¶çŸ¥é“å¥¹åœ¨è¯´ä»€ä¹ˆ</strong>ã€‚å¥¹å·²ç»æ³¨æ„åˆ°ï¼Œæ¯æ¬¡æˆ‘ä»¬èµ°åœ¨è¡—ä¸Šï¼Œæˆ‘éƒ½ä¼šæ‰¹è¯„å½“åœ°çš„æŠ«è¨åº—ï¼Œä¸ºä»€ä¹ˆä»–ä»¬è¦ç”¨ç‰¹å®šçš„é…æ–™å’Œç‰¹å®šçš„æ–¹å¼å‡ºå”®æŠ«è¨ï¼Œä¸ºä»€ä¹ˆä»–ä»¬ç‚¹æŠ«è¨çš„è¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼Œè€Œå®é™…ä¸Šåº”è¯¥æ˜¯é‚£æ ·çš„ã€‚å› æ­¤ï¼Œå¥¹çŸ¥é“æˆ‘å¯¹å•†ä¸šæ›´æœ‰å¥½å¥‡å¿ƒï¼Œåˆ°åæ¥ä¸æˆ‘å¯¹ç§‘å­¦çš„ç—´è¿·ç»“åˆèµ·æ¥ï¼Œåˆ›é€ äº†æŠ€æœ¯å’Œç§‘æŠ€ä¼ä¸šï¼Œæˆ‘æ‰å‘ç°äº†çœŸæ­£çš„è‡ªå·±ã€‚å› æ­¤ï¼Œä½ çš„ç‰¹æ®ŠæŠ€èƒ½å¯èƒ½æ˜¯ç”±é‚£äº›äº†è§£ä½ çš„äººè§‚å¯Ÿåˆ°çš„ï¼Œè€Œä¸”ç»å¸¸æ˜¯ç”±é‚£äº›äº†è§£ä½ çš„äººè§‚å¯Ÿåˆ°çš„ã€‚</p>
<h2>ç¬¬åå››æ¡ï¼šç‰¹æ®ŠæŠ€èƒ½ï¼ˆspecific knowledgeï¼‰æå¯Œåˆ›é€ æ€§æˆ–æŠ€æœ¯æ€§</h2>
<h3>ç‰¹æ®ŠæŠ€èƒ½èƒ½é€šè¿‡è¯¾ç¨‹ä¼ æˆè·å¾—</h3>
<p>Naval: å¦‚æœè¯´ç‰¹æ®ŠæŠ€èƒ½å¯ä»¥è¢«ä¼ æˆï¼Œé‚£å°±æ˜¯åœ¨å·¥ä½œä¸­ï¼Œé€šè¿‡å­¦å¾’åˆ¶ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæœ€å¥½çš„ä¼ä¸šã€æœ€å¥½çš„èŒä¸šæ˜¯å­¦å¾’æˆ–è‡ªå­¦çš„èŒä¸šï¼Œå› ä¸ºè¿™äº›éƒ½æ˜¯ç¤¾ä¼šè¿˜æ²¡æœ‰å¼„æ¸…æ¥šå¦‚ä½•åŸ¹è®­ä»¥åŠä½¿å…¶æ‰¹é‡è‡ªåŠ¨ç”Ÿäº§çš„äº‹æƒ…ã€‚è¿™æ–¹é¢çš„ç»å…¸ä¾‹å­æ˜¯æ²ƒä¼¦Â·å·´è²ç‰¹ä»å­¦æ ¡æ¯•ä¸šåå»æ‰¾äº†æœ¬æ°æ˜Â·æ ¼é›·å„å§†ã€‚æœ¬æ°æ˜Â·æ ¼é›·å„å§†ï¼ˆBenjamin Grahamï¼‰æ˜¯ã€Šèªæ˜çš„æŠ•èµ„è€…ã€‹ï¼ˆIntelligent Investorï¼‰ä¸€ä¹¦çš„ä½œè€…ï¼Œå¯ä»¥è¯´ä»–å°†ä»·å€¼æŠ•èµ„å‘å±•æˆäº†ä¸€å¥—ç†è®ºå¹¶å°†å…¶å‘æ‰¬å…‰å¤§ã€‚å·´è²ç‰¹å»æ‰¾äº†æœ¬æ°æ˜Â·æ ¼é›·å„å§†ï¼Œå¹¶ä¸»åŠ¨æå‡º<strong>å…è´¹</strong>ä¸ºä»–å·¥ä½œã€‚</p>
<p>ä½†æ ¼é›·å„å§†è¯´ï¼šâ€œä½ å¼€çš„ä»·æ ¼å¤ªé«˜äº†ï¼Œå…è´¹æ°æ°æ˜¯ä¸€ç§é«˜ä»·æ ¼ã€‚â€æ ¼é›·å„å§†è¯´å¾—æ²¡é”™ã€‚å°±åƒåæ¥1954å¹´æ—¶æ ¼é›·å„å§†å†³å®šè¦ä¸å·´è²ç‰¹å…±äº‹æ—¶ï¼ˆç»™äºˆä»–å­¦å¾’æœºä¼šï¼‰ï¼Œå·´è²ç‰¹ç»™ä»–å¤šå°‘é’±éƒ½ä¸ä¸ºè¿‡ã€‚</p>
<h3>ç‰¹æ®Šçš„æŠ€èƒ½å…·æœ‰é«˜åº¦çš„åˆ›é€ æ€§æˆ–è€…æŠ€æœ¯æ€§</h3>
<p>ç‰¹å®šçš„æŠ€èƒ½ä¹Ÿå¾€å¾€å…·æœ‰æŠ€æœ¯æ€§å’Œåˆ›é€ æ€§ã€‚å®ƒåœ¨æŠ€æœ¯çš„å‰æ²¿ï¼Œè‰ºæœ¯çš„å‰æ²¿ï¼Œäº¤æµçš„å‰æ²¿ã€‚å†ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨ä»Šå¤©ï¼Œäº’è”ç½‘ä¸Šæœ‰ä¸€äº›æ¢—ç‹èƒ½å¤Ÿåˆ›é€ å‡ºä»¤äººéš¾ä»¥ç½®ä¿¡çš„æ¢—ï¼Œå¹¶å°†è¿™ä¸€æƒ³æ³•ä¼ æ’­ç»™æ•°ç™¾ä¸‡äººã€‚æ–¯ç§‘ç‰¹Â·äºšå½“æ–¯ï¼ˆScott Adamsï¼‰å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ï¼Œä»–é€šè¿‡æœ‰è¯´æœåŠ›çš„æ–‡å­—å’Œè§†é¢‘åšå‡ºå‡†ç¡®çš„é¢„æµ‹ï¼ŒåŸºæœ¬ä¸Šæ­£åœ¨æˆä¸ºä¸–ç•Œä¸Šæœ€å¯ä¿¡çš„äººä¹‹ä¸€ã€‚</p>
<p>è¿™æ˜¯ä»–å¤šå¹´æ¥ç§¯ç´¯èµ·æ¥çš„ç‰¹æ®ŠæŠ€èƒ½ï¼Œå› ä¸ºä»–å¹´è½»æ—¶å°±æ²‰è¿·äºå‚¬çœ ï¼Œä»–é€šè¿‡æ¼«ç”»å­¦ä¼šäº†å¦‚ä½•æ²Ÿé€šï¼Œå¹¶å¾ˆæ—©å°±å¼€å§‹ç”¨ç›´æ’­å¹³å°Periscopeï¼Œæ‰€ä»¥ä»–ä¸€ç›´åœ¨ç»ƒä¹ å’Œäººå¯¹è¯ï¼Œä»–è¯»è¿‡æ‰€æœ‰å…³äºè¿™ä¸ªè¯é¢˜çš„ä¹¦ï¼Œä»–å°†å·¥ä½œèå…¥åˆ°ç”Ÿæ´»çš„ç‚¹ç‚¹æ»´æ»´ã€‚</p>
<p>è¿™æ˜¯ä¸€ä¸ªåœ¨èŒä¸šç”Ÿæ¶¯ä¸­ç§¯ç´¯äº†ç‰¹æ®ŠæŠ€èƒ½çš„äººçš„ä¾‹å­ã€‚å®ƒå…·æœ‰é«˜åº¦çš„åˆ›é€ æ€§ï¼Œå®ƒå…·æœ‰æŠ€æœ¯æ€§çš„å…ƒç´ ï¼Œè€Œä¸”å®ƒæ°¸è¿œä¸ä¼šè¢«æœºå™¨è‡ªåŠ¨åŒ–æ‰€å–ä»£ã€‚
æ²¡æœ‰äººä¼šæŠŠè¿™ä¸€ç‚¹ä»ä»–èº«ä¸Šå¤ºèµ°ï¼Œå› ä¸ºæ–¯ç§‘ç‰¹Â·äºšå½“æ–¯ï¼ˆScott Adamsï¼‰ä¸ºäº†å‘å±•è‡ªå·±çš„å“ç‰Œä¹Ÿå°½å¿ƒå°½åŠ›ã€‚ä»–ç§¯æåœ°åˆ›ä½œDilbertç³»åˆ—å¡é€šç”»ã€å†™ä¹¦ï¼Œå¹¶æ‡‚å¾—å€ŸåŠ©Periscopeç›´æ’­å¹³å°çš„åª’ä½“ä¼˜åŠ¿è¿ä½œã€‚ä»–åœ¨è¿™ä¸ªå“ç‰Œä¸Šæ‹¥æœ‰å·¨å¤§çš„å½±å“åŠ›ï¼Œå¦‚æœä»–æƒ³åœ¨ç°æœ‰çš„åŸºç¡€ä¸Šåˆ›é€ æ›´å¤šçš„è´¢å¯Œï¼Œä»–ç°åœ¨ç§¯ç´¯çš„ä¸œè¥¿å°±ä»–çš„æ æ†ã€‚</p>
<h3>ç‰¹æ®Šçš„æŠ€èƒ½ç‰¹å®šäºä¸ªä½“å’Œæƒ…å¢ƒ</h3>
<p>Niviï¼šæˆ‘ä»¬åº”è¯¥ç§°ä¹‹ä¸ºç‹¬ç‰¹çš„çŸ¥è¯†è¿˜æ˜¯ç‰¹æ®Šçš„æŠ€èƒ½æ›´è´´åˆ‡ï¼Ÿ</p>
<p>Navalï¼š æˆ‘å¾ˆå°çš„æ—¶å€™å°±æå‡ºäº†è¿™ä¸ªæ¡†æ¶ï¼Œå½“æ—¶ç‰¹æ®Šçš„æŠ€èƒ½å°±ä¸€ç›´ä¼´éšç€æˆ‘ï¼Œæˆ‘æ²¡æœ‰å°è¯•æ”¹å˜å®ƒæ˜¯å› ä¸ºæˆ‘æ‰€å‘ç°çš„æ¯ä¸€ä¸ªæœ¯è¯­éƒ½ä»¥ä¸åŒçš„æ–¹å¼å¤¸å¤§å…¶è¯ã€‚è‡³å°‘ç‰¹æ®Šçš„æŠ€èƒ½ï¼ˆspecific knowledgeï¼‰è¿™ä¸ªè¯æ²¡è¢«è¿‡åº¦æ¶ˆè´¹ï¼Œå› æ­¤æˆ‘å¯ä»¥èµ‹äºˆä»–æ–°çš„å«ä¹‰ã€‚ç‹¬ç‰¹çŸ¥è¯†çš„é—®é¢˜æ˜¯ï¼Œæ˜¯çš„ï¼Œä¹Ÿè®¸å®ƒæ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»åˆ«äººé‚£é‡Œå­¦åˆ°å®ƒï¼Œå®ƒå°±ä¸å†æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œé‚£ä¹ˆå°±æ˜¯æˆ‘ä»¬éƒ½çŸ¥é“çš„ä¸œè¥¿äº†ã€‚æ‰€ä»¥ï¼Œä¸å…¶è¯´å®ƒæ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œä¸å¦‚è¯´å®ƒæ˜¯é«˜åº¦ä¾é™„äºç°å®çš„ï¼Œæ ¹æ®ä¸ªä½“çš„å®é™…æƒ…å†µï¼Œæ ¹æ®å…·ä½“é—®é¢˜å­˜åœ¨çš„ï¼Œå®ƒåªèƒ½ä¾èµ–äºåœ¨è¿™ä¸ªé¢†åŸŸä¸­æåº¦çš„ç—´è¿·ã€å…´è¶£å’Œæ‰€èŠ±åœ¨è¿™ä¸ªé¢†åŸŸçš„æ—¶é—´æ¥è·å¾—ã€‚å®ƒä¸èƒ½ä»…ä»…ä»ä¸€æœ¬ä¹¦ä¸­ç›´æ¥è¯»å‡ºï¼Œä¹Ÿä¸èƒ½åœ¨åªåœ¨ä¸€é—¨è¯¾ç¨‹ä¸­è·å¾—ï¼Œä¹Ÿä¸èƒ½è¢«è®¾è®¡æˆä¸€ä¸ªç®—æ³•ã€‚</p>
<h3>ç‰¹æ®ŠæŠ€èƒ½ä¸èƒ½åˆ»æ„è·å¾—</h3>
<p>Niviï¼šè¯´åˆ°æ–¯ç§‘ç‰¹Â·äºšå½“æ–¯ï¼Œä»–åœ¨åšå®¢ä¸Šå‘è¡¨è¿‡ä¸€ç¯‡æ–‡ç« å«åšã€ŒåŠªåŠ›åœ¨2ä¸ªæˆ–ä»¥ä¸Šçš„é¢†åŸŸåšåˆ°å‰25%ã€çš„æ–‡ç« ã€‚åœ¨æ­¤æ‘˜å½•ä¸€æ®µï¼š</p>
<blockquote>
<p>å¦‚æœä½ æƒ³è¦ä¸€ä¸ªæ™®é€šçš„æˆåŠŸçš„ç”Ÿæ´»ï¼Œä¸éœ€è¦å¤ªå¤šçš„è®¡åˆ’ã€‚åªè¦è¿œç¦»éº»çƒ¦ï¼Œå»ä¸Šå­¦ï¼Œç”³è¯·ä½ å¯èƒ½å–œæ¬¢çš„å·¥ä½œã€‚ä½†å¦‚æœä½ æƒ³è¦ä¸ä¼—ä¸åŒçš„ä¸œè¥¿ï¼Œä½ æœ‰ä¸¤æ¡è·¯:</p>
<ol>
<li>æˆä¸ºæŸæ–¹é¢çš„æœ€ç‰›é€¼çš„äººï¼ˆä¸–ç•Œç¬¬ä¸€æ¢¯é˜Ÿï¼‰</li>
<li>åœ¨ä¸¤ä»¶æˆ–ä¸¤ä»¶ä»¥ä¸Šçš„äº‹æƒ…ä¸Šå˜å¾—éå¸¸ä¼˜ç§€(å‰25%)ã€‚</li>
</ol>
<p>ç¬¬ä¸€ç§ç­–ç•¥å‡ ä¹æ˜¯ä¸å¯èƒ½çš„ã€‚å¾ˆå°‘æœ‰äººèƒ½åœ¨NBAæ‰“çƒï¼Œä¹Ÿå¾ˆå°‘æœ‰äººèƒ½å‡ºä¸€å¼ ç™½é‡‘å”±ç‰‡ã€‚çœŸçš„å¾ˆéš¾ï¼Œæˆ‘ä¸å»ºè®®ä»»ä½•äººå»å°è¯•ã€‚</p>
<p>ç¬¬äºŒç§ç­–ç•¥ç›¸å½“ç®€å•ã€‚æ¯ä¸ªäººéƒ½è‡³å°‘æœ‰å‡ ä¸ªé¢†åŸŸæ˜¯ä»–ä»¬å¯ä»¥åŠªåŠ›è¿›å…¥å‰25%çš„ã€‚å°±æˆ‘è€Œè¨€ï¼Œæˆ‘æ¯”å¤§å¤šæ•°äººç”»å¾—éƒ½å¥½ï¼Œä½†æˆ‘ç®—ä¸ä¸Šè‰ºæœ¯å®¶ã€‚æˆ‘å¹¶ä¸æ¯”ä¸€èˆ¬çš„å•å£ç›¸å£°æ¼”å‘˜æ›´å¹½é»˜ï¼Œè™½ç„¶æˆ‘ä»æ¥æ²¡æœ‰æˆåŠŸè¿‡ï¼Œä½†æˆ‘æ¯”å¤§å¤šæ•°äººéƒ½æ›´å¹½é»˜ã€‚ç¥å¥‡çš„æ˜¯ï¼Œå¾ˆå°‘æœ‰äººèƒ½ç”»å¾—å¾ˆå¥½ï¼Œä¹Ÿå¾ˆå°‘æœ‰äººèƒ½å†™ç¬‘è¯ã€‚æ­£æ˜¯è¿™ä¸¤è€…çš„ç»“åˆï¼Œè®©æˆ‘çš„ä½œå“å˜å¾—å¦‚æ­¤ç½•è§ã€‚å½“ä½ å†åŠ ä¸Šæˆ‘çš„å•†ä¸šèƒŒæ™¯ï¼Œæˆ‘çªç„¶æœ‰äº†ä¸€ä¸ªå¾ˆå°‘æœ‰æ¼«ç”»å®¶ä¸äº²èº«ç»å†å°±èƒ½ç†è§£çš„è¯é¢˜ã€‚</p>
<p>æˆ‘æ€»æ˜¯å»ºè®®å¹´è½»äººæˆä¸ºä¼˜ç§€çš„æ¼”è¯´å®¶(å‰25%)ã€‚ä»»ä½•äººéƒ½å¯ä»¥é€šè¿‡ç»ƒä¹ æ¥åšè¿™ä»¶äº‹ã€‚å¦‚æœä½ æŠŠè¿™ç§æ‰èƒ½åŠ åˆ°å…¶ä»–ä»»ä½•ä¸€ç§æ‰èƒ½ä¸Šï¼Œä½ å°±ä¼šçªç„¶æˆä¸ºé‚£äº›åªæœ‰ä¸€ç§æ‰èƒ½çš„äººçš„è€æ¿ã€‚æˆ–è€…åœ¨ä½ çš„å·¥ç¨‹å­¦ä½ã€æ³•å¾‹å­¦ä½ã€åŒ»å­¦å­¦ä½ã€ç§‘å­¦å­¦ä½æˆ–å…¶ä»–ä»»ä½•å­¦ä½çš„åŸºç¡€ä¸Šå†è·å¾—ä¸€ä¸ªå•†å­¦å­¦ä½ã€‚çªç„¶ä¹‹é—´ï¼Œä½ æŒæ¡äº†ä¸»åŠ¨æƒï¼Œæˆ–è€…ä½ æ­£åœ¨åˆ©ç”¨è‡ªå·±çš„ç»¼åˆçŸ¥è¯†åˆ›åŠè‡ªå·±çš„å…¬å¸ã€‚</p>
</blockquote>
<p>å› æ­¤ï¼Œä¸è¦è¯•å›¾åœ¨ä¸€ä»¶äº‹æƒ…ä¸Šåšåˆ°æœ€å¥½ï¼Œè¿™å¤ªéš¾äº†ã€‚ä½ éœ€è¦å°è¯•åœ¨ä¸‰ä»¶æˆ–æ›´å¤šçš„äº‹æƒ…ä¸Šåšåˆ°éå¸¸ä¼˜ç§€ã€‚è¿™æ˜¯ä¸€ç§è·å¾—ç‰¹æ®ŠæŠ€èƒ½çš„æ–¹å¼å—ï¼Ÿ</p>
<p>Navalï¼šæˆ‘è®¤ä¸ºæœ€å¥½çš„æ–¹æ³•å°±æ˜¯è¿½éšè‡ªå·±çš„å†…å¿ƒçœŸæ­£å–œæ¬¢çš„äº‹ç‰©ã€‚åœ¨ä½ è„‘æµ·çš„æŸä¸ªè§’è½ï¼Œä½ ä¼šæ„è¯†åˆ°ï¼Œäº‹å®ä¸Šï¼Œè¿™ä¸ªæ–¹é¢æˆ‘å–œæ¬¢ï¼Œæˆ‘ä¼šç•™æ„å®ƒçš„å•†ä¸šæ–¹é¢çš„å¯èƒ½æ€§ã€‚</p>
<p>ä½†æˆ‘è®¤ä¸ºï¼Œå¦‚æœä½ å•å•ä¸ºäº†è·å¾—ã€Œç‰¹æ®ŠæŠ€èƒ½ã€æ— ç—…ä¹±æŠ•åŒ»ï¼Œæˆ–è¿‡äºä»¥ç›®æ ‡ä¸ºå¯¼å‘åœ°å…³æ³¨é’±ï¼Œé‚£ä¹ˆä½ ä¸ä¼šé€‰æ‹©åšæ­£ç¡®çš„äº‹æƒ…ï¼Œä¸ä¼šé€‰æ‹©ä½ å–œæ¬¢åšçš„äº‹ï¼Œæ‰€ä»¥ä½ ä¸ä¼šçœŸæ­£æ·±å…¥è¿›å»ã€‚æ ¹æ®ç»Ÿè®¡æ•°æ®ï¼Œæ–¯ç§‘ç‰¹ãƒ»äºšå½“æ–¯çš„è§‚å¯Ÿç»“æœå¾ˆå‡†ã€‚å°±çŸ¥è¯†è€Œè¨€ï¼Œä»Šå¤©æœ‰ 10,000 ä¸ªå¯¹äººç±»æœ‰ä»·å€¼çš„åŒºåŸŸï¼Œè¿™ 10,000 ä¸ªåŒºåŸŸä¸­æ’åç¬¬ä¸€é‚£äº›ä½ç½®å·²ç»è¢«æŠ¢å äº†ã€‚é™¤éä½ ç¢°å·§æˆä¸ºå„ç§é¢†åŸŸæœ€ç—´è¿·çš„ä¸€ä¸‡äººä¹‹ä¸€ï¼Œå¦åˆ™å…¶ä»–äººå¯èƒ½ä¼šæˆä¸ºè¿™ä¸‡äººä¸­çš„ç¬¬ä¸€äººã€‚</p>
<p>å½“ä½ å¼€å§‹æŠŠ3728ç§ä¸€æµçš„é”€å”®æŠ€å·§å’Œå¾ˆå¥½çš„å†™ä½œæŠ€å·§ä»¥åŠä¸€ä¸ªéå¸¸äº†è§£ä¼šè®¡å’Œè´¢åŠ¡çš„äººç»“åˆèµ·æ¥ï¼Œå½“è¿™ä¸ªäº¤å‰ç‚¹çš„éœ€æ±‚åˆ°æ¥æ—¶ï¼Œä½ å·²ç»é€šè¿‡ç»„åˆæ•°å­¦ä»10000æ‰©å±•åˆ°äº†æ•°ç™¾ä¸‡æˆ–æ•°åƒä¸‡ã€‚æ‰€ä»¥ï¼Œå®ƒåªæ˜¯å˜å¾—æ²¡æœ‰ç«äº‰åŠ›ã€‚æ­¤å¤–ï¼Œæ”¶ç›Šåœ¨é€’å‡ã€‚å› æ­¤ï¼Œåœ¨ä¸‰å››ä»¶äº‹ä¸Šæˆä¸ºå‰25%è¦æ¯”åœ¨æŸä»¶äº‹ä¸Šæˆä¸ºä¸–ç•Œç¬¬ä¸€å®¹æ˜“å¾—å¤šã€‚</p>
<h3>åœ¨ä½ æ“…é•¿å¾—é¢†åŸŸå»ºç«‹è‡ªå·±çš„ç‰¹æ®ŠæŠ€èƒ½</h3>
<p>naturalæ˜¯å¤©ç”Ÿçš„ã€æœ¬æ¥çš„æ„æ€ï¼Œè¿™é‡Œç¿»è¯‘æˆæ“…é•¿çš„ã€‚æˆ‘è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªéå¸¸åŠ¡å®çš„æ–¹æ³•ã€‚ä½†æœ€é‡è¦çš„æ˜¯ï¼Œæˆ‘è®¤ä¸ºä¸€ä¸ªäººä¸è¦å¤ªåˆ»æ„åœ°å¼€å§‹ç§¯ç´¯ï¼Œå› ä¸ºä½ å†…å¿ƒå…¶å®æ˜¯æƒ³æŒ‘é€‰ä½ æœ€æ“…é•¿çš„ä¸œè¥¿ã€‚æ¯ä¸ªäººéƒ½æœ‰ä¸ç”Ÿä¿±æ¥çš„æ“…é•¿çš„ä¸œè¥¿ã€‚</p>
<p>æˆ‘ä»¬éƒ½å¾ˆç†Ÿæ‚‰è¿™å¥è¯ï¼Œä¸€ä¸ªæœ‰å¤©èµ‹çš„äººã€‚â€œå“¦ï¼Œè¿™ä¸ªäººæ˜¯å¤©ç”Ÿçš„ä¸äººä¸ºå–„çš„äººï¼Œè¿™ä¸ªäººå°±æ˜¯ç¤¾äº¤ååª›çš„æ–™ï¼Œè¿™ä¸ªäººæ˜¯å¤©ç”Ÿçš„ç¨‹åºå‘˜ï¼Œè¿™ä¸ªäººæ˜¯å¤©ç”Ÿçš„è¯»è€…ã€‚â€æ‰€ä»¥ï¼Œä¸ç®¡æ˜¯å¹²ä»€ä¹ˆçš„æ–™ï¼Œä½ éƒ½ä¼šæƒ³ç€åœ¨è¿™æ–¹é¢åŠ å€åŠªåŠ›ã€‚</p>
<p>å› ä¸ºäººç±»çš„ä¸ªæ€§éå¸¸å¤æ‚ï¼Œä½ å¯èƒ½åœ¨å¾ˆå¤šæ–¹é¢éƒ½å¾ˆæœ‰å¤©èµ‹ã€‚å¦‚æœæŠŠä½ åœ¨è¿™äº›æ–¹é¢çš„å¤©èµ‹ç»“åˆèµ·æ¥ï¼Œè¿™æ ·ä½ å°±å¯ä»¥è‡ªåŠ¨åœ°ï¼Œä»…ä»…é€šè¿‡çº¯ç²¹çš„å…´è¶£å’Œäº«å—ï¼Œåœ¨å¾ˆå¤šäº‹æƒ…ä¸Šï¼Œæœ€ç»ˆè¾¾åˆ°25%ï¼Œ10%ç”šè‡³5%çš„æœ€é«˜æ°´å¹³ã€‚</p>
<h2>ç¬¬åäº”æ¡ï¼šå­¦ä¼šé”€å”®ï¼Œå­¦ä¼šå»ºé€ </h2>
<p><strong>å¦‚æœä½ ä¸¤è€…éƒ½èƒ½åšåˆ°ï¼Œä½ å°†åŠ¿ä¸å¯æŒ¡</strong></p>
<h3>å­¦ä¼šé”€å”®ï¼Œå­¦ä¼šå»ºé€ </h3>
<p>Niviï¼šè°ˆåˆ°æŠ€èƒ½ç»„åˆï¼Œä½ è¯´è¿‡ä½ åº”è¯¥â€œå­¦ä¼šé”€å”®ï¼ˆSaleï¼‰ï¼Œå­¦ä¼šå»ºé€ ï¼ˆBuildï¼‰ï¼Œå¦‚æœä½ ä¸¤è€…éƒ½èƒ½åšåˆ°ï¼Œä½ å°†åŠ¿ä¸å¯æŒ¡ã€‚â€</p>
<p>Navalï¼šè¿™æ˜¯ä¸€ä¸ªéå¸¸å¹¿æ³›çš„èŒƒç•´ã€‚å…¶ä¸­ä¹‹ä¸€æ˜¯å¼€å‘äº§å“ï¼Œå³å»ºé€ ã€‚è¿™å¾ˆéš¾ï¼Œè€Œä¸”å®šä¹‰å¾ˆå¤šå…ƒã€‚å®ƒå¯ä»¥åŒ…æ‹¬è®¾è®¡ï¼Œå¼€å‘ï¼Œå¯ä»¥åŒ…æ‹¬åˆ¶é€ ï¼Œç‰©æµï¼Œé‡‡è´­ï¼Œç”šè‡³æ˜¯è®¾è®¡å’Œå®Œæˆä¸€æ•´å¥—æœåŠ¡ã€‚åœ¨æ¯ä¸ªè¡Œä¸šï¼Œéƒ½æœ‰ä¸€ä¸ªå»ºé€ è€…çš„å®šä¹‰ã€‚åœ¨æˆ‘ä»¬æ‰€å¤„çš„ç§‘æŠ€è¡Œä¸šï¼Œå°±æ˜¯é¦–å¸­æŠ€æœ¯å®˜CTOï¼Œç¨‹åºå‘˜ï¼Œè½¯ä»¶å·¥ç¨‹å¸ˆï¼Œç¡¬ä»¶å·¥ç¨‹å¸ˆã€‚ä½†å³ä½¿åœ¨æ´—è¡£è¡Œä¸šï¼Œä¹Ÿå¯èƒ½æ˜¯åˆ›ç«‹æ´—è¡£æœåŠ¡çš„äººï¼Œè®©ç‰©æµå‡†æ—¶åˆ°è¾¾çš„äººï¼Œç¡®ä¿æ‰€æœ‰çš„è¡£æœåœ¨æ­£ç¡®çš„æ—¶é—´å‡ºç°åœ¨æ­£ç¡®çš„åœ°æ–¹çš„äººï¼Œç­‰ç­‰ã€‚å¦ä¸€æ–¹é¢æ˜¯é”€å”®ã€‚åŒæ ·ï¼Œé”€å”®ä¹Ÿæœ‰ä¸€ä¸ªéå¸¸å®½æ³›çš„å®šä¹‰ã€‚é”€å”®ä¸ä¸€å®šåªæ„å‘³ç€å–ä¸œè¥¿ç»™ä¸ªäººï¼Œå®ƒå¯ä»¥æ„å‘³ç€è¥é”€ï¼Œæ„å‘³ç€æ²Ÿé€šï¼Œæ„å‘³ç€æ‹›è˜ã€‚å®ƒä¹Ÿå¯ä»¥æ„å‘³ç€ç­¹é›†èµ„é‡‘ï¼Œæ„å‘³ç€é¼“èˆäººå¿ƒï¼Œæ„å‘³ç€åšå…¬å…³ï¼Œç­‰ç­‰ã€‚</p>
<h3>ç¡…è°·æ¨¡å¼ï¼šå»ºé€ è€…+é”€å”®è€…=æœ€ä½³æ‹æ¡£</h3>
<p>æ€»çš„æ¥è¯´ï¼Œç¡…è°·çš„åˆ›ä¸šæ¨¡å¼æ˜¯æœ€å¥½çš„ã€‚æœ€å¸¸è§çš„å½¢å¼æ˜¯æœ‰ä¸¤ä¸ªåˆ›å§‹äººï¼Œå…¶ä¸­ä¸€ä¸ªæ“…é•¿é”€å”®ï¼ˆSaleï¼‰ï¼Œå¦ä¸€ä¸ªæ“…é•¿æ­å»ºï¼ˆBuildï¼‰ã€‚ä¸¾å‡ ä¸ªç»å…¸ä¾‹å­ï¼Œæ¯”å¦‚è‹¹æœåˆ›å§‹äººå²è’‚å¤«Â·ä¹”å¸ƒæ–¯å’Œå²è’‚å¤«Â·æ²ƒå…¹å°¼äºšå…‹ï¼›å¾®è½¯çš„ç›–èŒ¨å’Œè‰¾ä¼¦åœ¨æ—©æœŸå¯èƒ½æœ‰ç±»ä¼¼çš„åˆ†å·¥ï¼›è°·æ­Œçš„æ‹‰é‡Œå’Œè°¢å°”ç›–å¯èƒ½ç¨å¾®æœ‰ç‚¹ä¸åŒï¼Œå¯èƒ½æ˜¯å› ä¸ºè°·æ­Œæ—©æœŸäº¤ä»˜çš„æ˜¯ä¸€ä¸ªéå¸¸æŠ€æœ¯æ€§çš„äº§å“â€”â€”æœç´¢ï¼Œé€šè¿‡ä¸€ä¸ªç®€å•çš„UIç›´è¾¾ç»ˆç«¯ç”¨æˆ·ã€‚</p>
<p>åœ¨ç¡…è°·ï¼Œä½ ä¼šçœ‹åˆ°è¿™ç§æ¨¡å¼åå¤å‡ºç°ã€‚ä¸€ä¸ªå»ºé€ è€…å’Œä¸€ä¸ªé”€å”®è€…çš„ç»„åˆï¼šCTOå’ŒCEOçš„ç»„åˆã€‚é£é™©æŠ•èµ„è€…å’ŒæŠ€æœ¯æŠ•èµ„è€…å‡ ä¹å¿ƒç…§ä¸å®£çš„å°½å¯èƒ½åœ°å¯»æ‰¾è¿™ç§ç»„åˆï¼Œè¿™å°±æ˜¯ç¥å¥‡çš„ç»„åˆå®šå¾‹ã€‚</p>
<h3>å¦‚æœä½ ä¸¤è€…éƒ½èƒ½åšåˆ°ï¼Œä½ å°†åŠ¿ä¸å¯æŒ¡</h3>
<p>å¦‚æœä¸€ä¸ªäººå¯ä»¥åŒæ—¶åšåˆ°è¿™ä¸¤è€…ï¼Œè¿™æ‰æ˜¯çœŸæ­£çš„è¶…èƒ½åŠ›ã€‚é‚£æ—¶ä½ å°±æ˜¯å¯ä»¥åˆ›é€ æ•´ä¸ªè¡Œä¸šçš„äººã€‚é©¬ä¸€é¾™(Elon Musk)å°±æ˜¯ä¸€ä¸ªæ´»ç”Ÿç”Ÿçš„ä¾‹å­ã€‚ä»–ä¸ä¸€å®šæ˜¯è‡ªå·±é€ ç«ç®­ï¼Œä½†ä»–å®é™…ä¸Šåšå‡ºäº†æŠ€æœ¯ä¸Šçš„è´¡çŒ®ã€‚ä»–ä½¿è‡ªå·±æˆä¸ºæœ€äº†è§£è¿™é¡¹æŠ€æœ¯çš„äººï¼Œæ²¡äººä¼šå¯¹ä»–è¯´ä¸‰é“å››ï¼Œä»–ä¹Ÿä¸ä¼šè¯´ä¸€äº›è‡ªå·±åšä¸åˆ°çš„äº‹ï¼ˆæ„æ€æ˜¯è¯´åˆ°å°±ä¼šåšåˆ°ï¼‰ã€‚ä»–è§†æ—¶é—´ä¸ºæœ‹å‹ï¼Œå¹¶æƒ³å°½åŠæ³•è¿ç”¨å®ƒã€‚å³ä½¿æ˜¯å²è’‚å¤«Â·ä¹”å¸ƒæ–¯ï¼ˆSteve Jobsï¼‰ä¹Ÿæ‹¥æœ‰è¶³å¤Ÿçš„äº§å“æŠ€èƒ½ï¼Œå¹¶ä¸”å¯¹äº§å“çš„å‚ä¸åº¦ä¹Ÿå¾ˆé«˜ï¼Œå®é™…ä¸Šä»–ä¹ŸåŒæ—¶å…·å¤‡è¿™ä¸¤ç§èƒ½åŠ›ã€‚æ‹‰é‡ŒÂ·åŸƒé‡Œæ£®ï¼ˆLarry Ellisonï¼‰æœ€åˆæ˜¯ä¸€åç¨‹åºå‘˜ï¼Œä»–ç¼–å†™äº†Oracleçš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼Œæˆ–è€…è¯´ä»–æ·±åº¦å‚ä¸å…¶ä¸­ã€‚é©¬å…‹Â·å®‰å¾·æ£®ï¼ˆMarc Andreessenï¼‰ä¹Ÿå±äºè¿™ä¸€ç±»ã€‚ä»–å¯èƒ½å¯¹è‡ªå·±çš„é”€å”®æŠ€èƒ½æ²¡æœ‰è¶³å¤Ÿçš„ä¿¡å¿ƒï¼Œä½†æ˜¯ä»–å¯æ˜¯å†™å‡ºNetscape Navigatorçš„ç¨‹åºå‘˜ï¼Œæˆ–è€…è‡³å°‘æ˜¯å…¶ä¸­å¾ˆå¤§çš„ä¸€éƒ¨åˆ†ã€‚å› æ­¤ï¼Œæˆ‘è®¤ä¸ºåœ¨ä»»ä½•é¢†åŸŸä¸­çœŸæ­£çš„å·¨äººå°±æ˜¯å¯ä»¥ã€Œè‡ªäº§è‡ªé”€ã€çš„äººã€‚</p>
<h3>å®æ„¿æ•™å·¥ç¨‹å¸ˆé”€å”®ï¼Œä¹Ÿä¸æ„¿æ•™è¥é”€äººå‘˜å·¥ç¨‹ï¼Ÿ</h3>
<p>æˆ‘è®¤ä¸ºä½ å¯ä»¥ä»å»ºé€ æŠ€èƒ½å¼€å§‹å…¥æ‰‹ï¼Œå¹¶åœ¨ä½ äººç”Ÿçš„æ—©æœŸå°½é‡æŒæ¡ä¸€å®šçš„å»ºé€ æŠ€èƒ½ã€‚æˆ–è€…ä½ æœ‰è¶³å¤Ÿçš„æ—¶é—´å¯ä»¥ä¸“å¿ƒåœ°å­¦ä¹ é”€å”®ï¼Œè€Œä¸”ä½ æ­£å¥½æœ‰ä¸€å®šçš„å¤©èµ‹å’Œäº²å’ŒåŠ›ä¿ƒä½¿ä½ æˆä¸ºä¸€ä¸ªå¥½çš„é”€å”®è€…ã€‚è¿™æ ·ä½ åšäº‹çš„æ•ˆæœå¯ä»¥ç¿»ç•ªã€‚
ç°åœ¨æˆ‘ä»¬è°ˆåˆ°çš„é”€å”®æŠ€èƒ½å¯èƒ½ä¸åŒäºä¼ ç»Ÿæ¦‚å¿µä¸­çš„ï¼Œå–ä¸œè¥¿ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾ä½ æ˜¯ä¸€ä¸ªå¾ˆæ£’çš„å·¥ç¨‹å¸ˆï¼Œç„¶åäººä»¬ä¼šè¯´ï¼Œä½ éœ€è¦æ“…é•¿é”€å”®ã€‚ä½ å¯èƒ½ä¸æ“…é•¿ä¸Šé—¨æ¨é”€ä¸œè¥¿ï¼Œä½†ä½ å¯èƒ½æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä½œå®¶ã€‚å†™ä½œæ˜¯ä¸€ç§æ¯”é¢å¯¹é¢é”€å”®é—¨æ§›æ›´ä½çš„æŠ€èƒ½ï¼Œæ‰€ä»¥ä½ å¯ä»¥åŸ¹å…»å†™ä½œæŠ€èƒ½ï¼Œç›´åˆ°ä½ æˆä¸ºä¸€ä¸ªè‰¯å¥½çš„åœ¨çº¿äº¤æµè€…ï¼Œç„¶åå°†å…¶è¿ç”¨åœ¨ä½ çš„é”€å”®ä¸Šã€‚å¦ä¸€ç§æƒ…å†µï¼Œä½ å¯èƒ½æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å»ºé€ è€…ï¼Œä½†ä½ ä¸æ“…é•¿å†™ä½œï¼Œä½ ä¸å–œæ¬¢ä¸å¤§ä¼—æ²Ÿé€šï¼Œä½†ä½ æ“…é•¿ä¸€å¯¹ä¸€è¯´æœï¼Œæ‰€ä»¥ä½ å¯èƒ½ä¼šç”¨ä½ çš„é”€å”®æŠ€èƒ½æ¥æ‹›è˜æˆ–å‹Ÿèµ„ï¼Œè¿™éœ€è¦æ›´å¤šä¸€å¯¹ä¸€æ–¹å‘çš„åŠªåŠ›ã€‚</p>
<p>å› æ­¤ï¼Œå¦‚æœä½ åœ¨è¿™ä¸¤ä¸ªé¢†åŸŸçš„åå­—è·¯å£ï¼Œåƒä¸‡ä¸è¦ç»æœ›ã€‚å› ä¸ºä½ ä¸å¯èƒ½æˆä¸ºæœ€å¥½çš„æŠ€æœ¯ï¼Œä¹Ÿä¸ä¼šæ˜¯æœ€å¥½çš„é”€å”®äººå‘˜ã€‚ä½†ç¥å¥‡çš„æ˜¯ï¼Œæˆ‘ä»¬å†å›åˆ°æ–¯ç§‘ç‰¹Â·äºšå½“æ–¯ï¼ˆScott Adamsï¼‰çš„æŠ€èƒ½ç»„åˆç†è®ºï¼Œå°†ä¸¤ä¸ªæŠ€èƒ½æ˜¯ç»“åˆå°†æ˜¯ä¸å¯é˜»æŒ¡çš„ã€‚</p>
<p>ä»é•¿è¿œæ¥çœ‹ï¼Œé‚£äº›äº†è§£æ½œåœ¨éœ€æ±‚äº§å“çš„äººï¼ŒçŸ¥é“å¦‚ä½•å»ºé€ å’Œé”€å”®å®ƒçš„äººï¼Œæœ€èƒ½å—åˆ°é¡¶å°–æŠ•èµ„è€…çš„é’çã€‚å¦‚æœä»–ä»¬æœ‰è¶³å¤Ÿçš„ç²¾åŠ›ï¼Œä»–ä»¬å¯ä»¥çªç ´ä»»ä½•éšœç¢ï¼Œåšæˆä»»ä½•äº‹æƒ…ã€‚</p>
<p>Niviï¼šå¦‚æœä½ åªèƒ½é€‰ä¸€ä¸ªæ“…é•¿çš„ï¼Œä½ ä¼šé€‰å“ªä¸€ä¸ª?</p>
<p>Navalï¼šæŠ›å¼€å™ªéŸ³æ¥è¯´ï¼Œå»ºé€ çš„æŠ€èƒ½å®é™…ä¸Šæ˜¯æ›´å¥½çš„ï¼Œå› ä¸ºå¸‚åœºä¸Šå……æ–¥ç€å¤ªå¤šçš„éª—å­å’Œæ²¡æœ‰ä»»ä½•å†…æ ¸çš„é”€å”®äººå‘˜ã€‚å½“ä½ åˆšèµ·æ­¥ã€æƒ³è¦è¢«è®¤å¯çš„æ—¶å€™ï¼Œå»ºé€ æŠ€èƒ½ä¼šæ›´å¥½ã€‚ä½†æ˜¯ä¹‹åçš„å»ºé€ ä¼šå¾ˆç´¯ï¼Œå› ä¸ºè¿™æ˜¯ä¸€é¡¹ä¸“æ³¨çš„å·¥ä½œï¼Œå¾ˆéš¾ä¿æŒä¸æ—¶ä¿±è¿›ï¼Œå› ä¸ºæ€»æ˜¯ä¼šæœ‰æ–°äººå‡ºç°ï¼Œæœ‰æ–°äº§å“ï¼Œæœ‰æ›´æ–°çš„å·¥å…·ã€‚</p>
<p>å› æ­¤ï¼Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œé”€å”®æŠ€å·§å®é™…ä¸Šæ›´å®¹æ˜“äº§ç”Ÿè§„æ¨¡æ•ˆåº”ã€‚æ¯”å¦‚ï¼Œå¦‚æœä½ åœ¨æ„å»ºäº§å“ä¸Šäº«æœ‰å£°èª‰ï¼Œè¿™æ˜¯å¥½çš„ï¼Œä½†å½“ä½ æ¨å‡ºä½ çš„æ–°äº§å“æ—¶ï¼Œæˆ‘å°†å»éªŒè¯çš„æ˜¯äº§å“æœ¬èº«ï¼ˆæ„æ€æ˜¯å’Œå»ºé€ çš„åå£°å…³ç³»ä¸å¤§ï¼‰ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ åœ¨å¤§å®¶çš„çœ¼ä¸­æ˜¯ä¸€ä¸ªå€¼å¾—ä¿¡èµ–çš„ç”Ÿæ„ä¼™ä¼´ï¼Œå¹¶ä¸”ä½ å¾ˆæœ‰è¯´æœåŠ›ï¼Œå–„äºæ²Ÿé€šï¼Œé‚£ä¹ˆè¿™ä¸ªåå£°ä¼šè®©å¾ˆå¤šäº‹å˜å¾—å®¹æ˜“å¾ˆå¤šã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘è®¤ä¸ºå¦‚æœä½ éœ€è¦é€‰ä¸€ä¸ªï¼Œ<strong>ä½ å¯ä»¥ä»å»ºé€ å¼€å§‹ï¼Œç„¶åè¿‡æ¸¡åˆ°é”€å”®</strong>ã€‚è¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒä¸­åº¸çš„ç­”æ¡ˆï¼Œä½†æˆ‘è§‰å¾—è¿™å¥æ˜¯å¤§å®è¯ã€‚</p>
<h2>ç¬¬åå…­æ¡ï¼šé˜…è¯»ä½ æ‰€çƒ­çˆ±çš„å†…å®¹ ç›´åˆ°ä½ çˆ±ä¸Šé˜…è¯»</h2>
<p><strong>ä½ åº”è¯¥å¯ä»¥åœ¨å›¾ä¹¦é¦†ä¸­æ‹¿èµ·ä»»ä½•ä¸€æœ¬ä¹¦é˜…è¯»</strong></p>
<h3>é˜…è¯»ä½ æ‰€çƒ­çˆ±çš„å†…å®¹ ç›´åˆ°ä½ çˆ±ä¸Šé˜…è¯»</h3>
<p>Niviï¼šåœ¨æˆ‘ä»¬è®¨è®ºè´£ä»»ã€å½±å“åŠ›å’Œåˆ¤æ–­ä¹‹å‰ï¼Œä½ å·²ç»æœ‰äº†ä¸€äº›ç›¸å…³çš„æ¨ç‰¹ï¼Œæˆ‘ä¼šæŠŠå®ƒä»¬æ”¾åœ¨æŒç»­å­¦ä¹ çš„èŒƒç•´ã€‚è¿™äº›æ¨æ–‡æœ¬è´¨ä¸Šæ˜¯åœ¨è¯´ï¼Œâ€œæ²¡æœ‰æ‰€è°“çš„å•†ä¸šæŠ€èƒ½ã€‚å°‘è¯»å•†ä¸šæ‚å¿—å’Œå•†ä¸šè¯¾ç¨‹ï¼Œå­¦ä¹ å¾®è§‚ç»æµå­¦ã€åšå¼ˆè®ºã€å¿ƒç†å­¦ã€è¯´æœåŠ›ã€ä¼¦ç†å­¦ã€æ•°å­¦å’Œè®¡ç®—æœºâ€ã€‚ä½ åœ¨Periscopeä¸Šè¿˜å‘è¡¨äº†å¦ä¸€æ¡è¯„è®ºâ€œä½ åº”è¯¥å¯ä»¥ä»å®¹çš„æ‹¿èµ·å›¾ä¹¦é¦†é‡Œçš„ä»»ä½•ä¸€æœ¬ä¹¦æ¥è¯»ã€‚â€è¿™ä¸€ç±»çš„æœ€åä¸€æ¡æ¨ç‰¹æ˜¯ï¼Œâ€œé˜…è¯»æ¯”å¬å¿«ï¼Œåšæ¯”çœ‹å¿«â€ã€‚</p>
<p>Navalï¼šæ˜¯çš„ï¼Œè¿™æ˜¯æœ€é‡è¦çš„ä¸€æ¡ï¼Œå› ä¸ºå­¦ä¹ çš„åŸºç¡€æ˜¯é˜…è¯»ã€‚æˆ‘è®¤è¯†çš„èªæ˜äººï¼Œä»–ä»¬éƒ½ç»å¸¸è¯»ä¹¦ã€‚</p>
<p>é—®é¢˜æ˜¯ï¼Œ<strong>æˆ‘è¯»ä»€ä¹ˆï¼Ÿæˆ‘æ€ä¹ˆè¯»</strong>ï¼Ÿå› ä¸ºå¯¹å¤§å¤šæ•°äººæ¥è¯´ï¼Œè¿™æ˜¯ä¸€åœºæ–—äº‰ï¼Œæ˜¯ä¸€ä»¶å®¶åŠ¡æ´»å„¿ã€‚ä½†æ˜¯ï¼Œè¯»ä¹¦ä¸æ˜¯ç›®çš„ï¼Œé‡è¦çš„æ˜¯å­¦ä¼šå¦‚ä½•æ•™è‚²è‡ªå·±ï¼Œæ•™è‚²è‡ªå·±çš„æ–¹æ³•å°±æ˜¯åŸ¹å…»å¯¹é˜…è¯»çš„çƒ­çˆ±ã€‚æˆ‘æƒ³è¯´çš„æ˜¯ï¼Œâ€œ<strong>è¯»ä½ å–œæ¬¢çš„å†…å®¹ï¼Œç›´åˆ°ä½ çˆ±ä¸Šé˜…è¯»</strong>ã€‚â€å°±è¿™ä¹ˆç®€å•ã€‚</p>
<p>æˆ‘è®¤è¯†çš„æ¯ä¸€ä¸ªç»å¸¸è¯»ä¹¦çš„äººéƒ½â€œçˆ±â€é˜…è¯»ï¼Œä»–ä»¬çˆ±è¯»ä¹¦æ˜¯å› ä¸ºä»–ä»¬è¯»è‡ªå·±å–œæ¬¢çš„ä¹¦ã€‚è¿™æœ‰ç‚¹åƒç¬¬äºŒåäºŒæ¡ï¼Œé˜…è¯»æ˜¯æ²¡æœ‰é—¨æ§›çš„ï¼Œä½ å¯ä»¥éšæ—¶å¼€å§‹ï¼Œç„¶åä¸æ–­ç§¯ç´¯ï¼Œç›´åˆ°å®ƒæˆä¸ºä¸€ç§ä¹ æƒ¯ã€‚æ¥ç€ï¼Œä½ å¼€å§‹ä¸æ»¡è¶³äºåªæ¶‰çŒå•ä¸€çš„é¢†åŸŸã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ å¯ä»¥ä»è¯»å°è¯´å¼€å§‹ï¼Œæ¥ç€ä½ å¯ä»¥è¯»ç§‘å¹»å°è¯´ï¼Œä½ å¯ä»¥è¯»éå°è¯´ï¼Œç„¶åä½ å¯ä»¥è¯»ç§‘å­¦ï¼Œå“²å­¦ï¼Œæ•°å­¦ç”šè‡³æ›´å¤šã€‚ä½†æ˜¯é‡è¦çš„æ˜¯ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯é¡ºå…¶è‡ªç„¶éå¼ºè¿«çš„ï¼Œè¯»ä½ æ„Ÿå…´è¶£çš„ä¸œè¥¿ï¼Œç›´åˆ°ä½ ç†è§£å®ƒä»¬ã€‚ç„¶åä½ å°±ä¼šè‡ªç„¶è€Œç„¶åœ°è¿›å…¥ä¸‹ä¸€æ­¥ï¼Œå†ä¸‹ä¸€æ­¥ã€‚</p>
<h3>é˜…è¯»æŸä¸€é¢†åŸŸçš„ç§‘å­¦åŸè‘—</h3>
<p>ä½†æ˜¯ï¼Œä½ ä¼šå‘ç°åœ¨ä½ çœŸæ­£æƒ³å­¦çš„ä¸œè¥¿ä¸­ï¼Œæœ‰å¤ªå¤šä¸œè¥¿è¦è¯»ã€‚æˆ‘è¦æé†’çš„æ˜¯ï¼Œå³ä½¿æ˜¯é˜…è¯»ä¹Ÿå……æ»¡äº†åƒåœ¾ã€‚å®é™…ä¸Šæœ‰äº›ä¸œè¥¿ä½ å¯ä»¥é˜…è¯»ï¼Œç‰¹åˆ«æ˜¯åœ¨æ—©æœŸï¼Œ<strong>å®ƒä¼šä»¥æŸç§æ–¹å¼å¯¹ä½ çš„å¤§è„‘è¿›è¡Œç¼–ç¨‹</strong>ï¼Œç„¶ååœ¨ä½ é˜…è¯»çš„åæœŸï¼Œä½ ä¼šæ ¹æ®ä¹‹å‰çš„ä¸œè¥¿æ¥åˆ†è¾¨è¿™äº›ä¸œè¥¿æ˜¯çœŸæ˜¯å‡ã€‚å› æ­¤ï¼Œé˜…è¯»åŸºç¡€æ€§çš„ä¸œè¥¿æ˜¯å¾ˆé‡è¦çš„ã€‚åŸºç¡€æ€§çš„ä¸œè¥¿ï¼Œæ˜¯åœ¨ç‰¹å®šé¢†åŸŸæœ€åŸå§‹ï¼ˆfundamentalï¼‰ä¹¦ç±ï¼Œåœ¨æœ¬è´¨ä¸Šæ˜¯ç»è¿‡æ—¶é—´å’Œå†å²çš„æ£€éªŒï¼Œç§‘å­¦çš„ä¸œè¥¿ã€‚</p>
<p>æ¯”å¦‚ï¼Œä¸å…¶è¯»ä¸€æœ¬å•†ä¸šç•…é”€ä¹¦ï¼Œä¸å¦‚è¯»äºšå½“Â·æ–¯å¯†çš„ã€Šå›½å¯Œè®ºã€‹ã€‚ä¸å…¶è¯»ä»Šå¤©è°å†™çš„ä¸€æœ¬å…³äºç”Ÿç‰©å­¦æˆ–è¿›åŒ–è®ºçš„ä¹¦ï¼Œæˆ‘æ›´æ„¿æ„è¯»è¾¾å°”æ–‡ã€Šç‰©ç§èµ·æºã€‹ã€‚ä¸å…¶ç°åœ¨è¯»ä¸€æœ¬å¯èƒ½éå¸¸å…ˆè¿›çš„ç”Ÿç‰©æŠ€æœ¯æ–¹é¢çš„ä¹¦ï¼Œæˆ‘åªæƒ³å­¦ä¹ Horace F. Judsonçš„ã€Šåˆ›ä¸–ç¬¬å…«å¤©ã€‹(The Eighth Day of Creation)ã€‚ä½ ä¸å¿…æ­»ç£•å…³äºå®‡å®™å­¦å’Œå°¼å°”Â·å¾·æ ¼æ‹‰æ–¯Â·æ³°æ£®å’Œæ–¯è’‚èŠ¬Â·éœé‡‘ä¸€ç›´åœ¨è¯´ä»€ä¹ˆçš„é«˜çº§ä¹¦ç±ï¼Œä½ éœ€è¦çš„æ˜¯æ‹¿èµ·ç†æŸ¥å¾·Â·è´¹æ›¼çš„ã€Šè´¹æ›¼è®²ç‰©ç†ï¼šå…¥é—¨ã€‹ï¼Œä»åŸºç¡€ç‰©ç†å­¦å¼€å§‹ã€‚</p>
<h3>ä¸è¦å®³æ€•ä»»ä½•ä¹¦</h3>
<p>å¦‚æœä½ åŸºç¡€æ‰“çš„å¥½ï¼Œç‰¹åˆ«æ˜¯æ•°å­¦ã€ç‰©ç†å’Œç§‘å­¦ï¼Œé‚£ä¹ˆä½ å°±ä¸ä¼šå®³æ€•ä»»ä½•ä¸€æœ¬ä¹¦ã€‚æˆ‘ä»¬æ‰€æœ‰äººéƒ½æœ‰é‚£ç§ååœ¨æ•™å®¤é‡Œå­¦æ•°å­¦çš„è®°å¿†ï¼Œè¿™ä¸€åˆ‡éƒ½æ˜¯åˆä¹é€»è¾‘çš„ï¼Œè€Œä¸”éƒ½æ˜¯æœ‰æ„ä¹‰çš„ï¼Œç›´åˆ°æœ‰ä¸€æ¬¡ï¼Œè¯¾ç¨‹è¿›åº¦å¤ªå¿«ï¼Œæˆ‘ä»¬è·Ÿä¸ä¸Šäº†ã€‚
åœ¨é‚£ä¹‹åï¼Œæˆ‘ä»¬è¢«ç•™ä¸‹æ¥èƒŒæ–¹ç¨‹å¼ï¼Œè®°å¿†æ¦‚å¿µï¼Œå´æ— æ³•ä»ç¬¬ä¸€åŸç†ä¸­æ¨å¯¼å‡ºå®ƒä»¬ã€‚åœ¨é‚£ä¸€åˆ»ï¼Œæˆ‘ä»¬è¿·å¤±äº†ï¼Œå› ä¸ºé™¤éä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„æ•°å­¦å®¶ï¼Œå¦åˆ™ä½ ä¸ä¼šè®°å¾—è¿™äº›ä¸œè¥¿ã€‚ä½ è¦è®°ä½çš„æ˜¯æŠ€æœ¯ï¼ŒåŸºç¡€ã€‚</p>
<p>å› æ­¤ï¼Œä½ å¿…é¡»ç¡®ä¿é˜…è¯»æ˜¯å»ºç«‹åœ¨ä¸€ä¸ªç†è§£çš„æ¡†æ¶ä¸Šï¼Œå› ä¸ºä½ æ­£åœ¨ä¸ºå»ºæ‘©å¤©å¤§æ¥¼æ‰“åœ°åŸºï¼Œè€Œä¸åªæ˜¯åœ¨åå¤è®°å¿†ä½ ä¸æ–­åœ¨ä¸¢å¤±çš„ä¸œè¥¿ã€‚æ‰€ä»¥åŸºç¡€éå¸¸é‡è¦ã€‚</p>
<p>æœ€åï¼Œé˜…è¯»çš„ç»ˆææ˜¯å½“ä½ èµ°è¿›ä¸€ä¸ªå›¾ä¹¦é¦†ï¼Œä½ ä¸Šä¸‹æ‰“é‡ï¼Œä½ ä¸å®³æ€•è¿™é‡Œçš„ä»»ä½•ä¸€æœ¬ä¹¦ã€‚å› ä¸ºä½ çŸ¥é“ä½ å¯ä»¥æŠŠä»»ä½•ä¸€æœ¬ä¹¦ä»ä¹¦æ¶ä¸Šæ‹¿ä¸‹æ¥ï¼Œä½ å°±èƒ½é˜…è¯»å®ƒï¼Œç†è§£å®ƒï¼Œä½ å¯ä»¥æ¥æ”¶ä»€ä¹ˆæ˜¯çœŸçš„ï¼Œæ‹’ç»ä»€ä¹ˆæ˜¯å‡çš„ã€‚ä½ æœ‰ä¸€å¥—è‡ªå·±çš„æ–¹æ³•è®ºï¼Œåˆ†è¾¨å“ªäº›æ˜¯é€»è¾‘å’Œç§‘å­¦çš„ï¼Œè€Œä¸ä»…ä»…æ˜¯åŸºäºå¤§å­—æŠ¥å’Œæ„è§ï¼ˆopinionsï¼‰ã€‚</p>
<h3>å­¦ä¹ çš„æ‰‹æ®µæ˜¯ä¸°å¯Œçš„ï¼Œå­¦ä¹ çš„æ¬²æœ›æ˜¯ç¨€ç¼ºçš„</h3>
<p>äº’è”ç½‘çš„ç¾ä¸½æ˜¯æ•´ä¸ªäºšå†å±±å¤§å›¾ä¹¦é¦†çš„åå€ï¼Œå¹¶ä¸”æ—¶åˆ»åœ¨ä½ çš„æŒ‡å°–ï¼Œä¸ºä½ æ‰€ç”¨ã€‚ä¸æ˜¯æ•™è‚²æ‰‹æ®µæˆ–å­¦ä¹ æ‰‹æ®µç¨€ç¼ºï¼Œç›¸åç¨€ç¼ºçš„æ˜¯å­¦ä¹ çš„æ¬²æœ›ã€‚æ‰€ä»¥ï¼Œä½ çœŸçš„è¦åŸ¹å…»æ¬²æœ›ã€‚</p>
<p>æ¬²æœ›æ„å‘³ç€æˆ‘ä¸å…è®¸è¿™ç§èƒ½åŠ›çš„ä¸§å¤±ã€‚å­©å­ä»¬å¤©ç”Ÿå°±æœ‰å¥½å¥‡å¿ƒã€‚å¦‚æœä½ å»æ‰¾ä¸€ä¸ªç¬¬ä¸€æ¬¡å­¦è¯­è¨€çš„å°å­©ï¼Œä»–ä»¬æ€»æ˜¯é—®ï¼šè¿™æ˜¯ä»€ä¹ˆï¼Ÿé‚£æ˜¯ä»€ä¹ˆï¼Ÿè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿé‚£æ˜¯è°ï¼Ÿä»–ä»¬æ€»æ˜¯é—®é—®é¢˜ã€‚</p>
<p>ä½†é—®é¢˜ä¹‹ä¸€æ˜¯ï¼Œå­¦æ ¡å’Œæˆ‘ä»¬çš„æ•™è‚²ç³»ç»Ÿï¼Œç”šè‡³æˆ‘ä»¬åŸ¹å…»å­©å­çš„æ–¹å¼ï¼Œéƒ½ç”¨é¡ºä»å–ä»£äº†å¥½å¥‡ã€‚<strong>ä¸€æ—¦ä½ ç”¨é¡ºä»å–ä»£å¥½å¥‡å¿ƒï¼Œä½ å°±ä¼šæˆä¸ºä¸€ä¸ªé¡ºä»çš„å·¥å‚å·¥äººï¼Œè€Œä¸å†æ˜¯ä¸€ä¸ªåˆ›é€ æ€§çš„æ€è€ƒè€…ã€‚ä½ éœ€è¦åˆ›é€ åŠ›ï¼Œä½ éœ€è¦æœ‰æ¿€åŠ±è‡ªå·±çš„å¤§è„‘å»å­¦ä¹ ä½ æƒ³è¦çš„ä¸œè¥¿çš„èƒ½åŠ›</strong>ã€‚</p>
<h2>ç¬¬åä¸ƒæ¡ï¼šæ•°å­¦å’Œé€»è¾‘æ‰æ˜¯ä¸€åˆ‡äº‹ç‰©çš„åŸºç¡€</h2>
<p><strong>æ•°å­¦å’Œé€»è¾‘æ˜¯ç†è§£å…¶ä»–ä¸€åˆ‡äº‹ç‰©çš„åŸºç¡€</strong></p>
<h3>ç»ˆæåŸºç¡€æ˜¯æ•°å­¦å’Œé€»è¾‘</h3>
<p>Navalï¼šæœ€åŸºæœ¬çš„ä¸œè¥¿æ˜¯åŸåˆ™æ€§çš„ï¼Œå¯ä»¥æ˜¯ç®—æ³•ï¼Œæ˜¯æ ¹æ·±è’‚å›ºçš„é€»è¾‘ç†è§£ï¼Œä½ å¯ä»¥ä»ä»»ä½•è§’åº¦ä¿æŠ¤å®ƒæˆ–æ”»å‡»å®ƒã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå¾®è§‚ç»æµå­¦å¾ˆé‡è¦ï¼Œè€Œå®è§‚ç»æµå­¦å°±æ˜¯å¤§é‡çš„è®°å¿†å †ç Œï¼Œå¤§é‡çš„å®è§‚åºŸè¯ã€‚</p>
<p>æ­£å¦‚çº³è¥¿å§†â€¢å¡”å‹’å¸ƒ(Nassim Taleb)æ‰€è¯´ï¼Œ<strong>å®è§‚ä¸Šçš„æ‰¯æ·¡æ¯”å¾®è§‚ä¸Šçš„æ‰¯æ·¡æ›´å®¹æ˜“</strong>ã€‚å› ä¸ºå®è§‚ç»æµå­¦æ˜¯å·«æœ¯â€”å¤æ‚â€”ç§‘å­¦ä¸æ”¿æ²»çš„ç»“åˆã€‚å¦‚ä»Šï¼Œä½ æ‰¾ä¸åˆ°ä¸¤ä¸ªå®è§‚ç»æµå­¦å®¶åœ¨ä»»ä½•äº‹æƒ…ä¸Šè¾¾æˆä¸€è‡´ï¼Œä¸åŒçš„æ”¿æ²»å®¶ä¼šç”¨ä¸åŒçš„å®è§‚ç»æµå­¦å®¶æ¥å…œå”®ä»–ä»¬å„è‡ªåçˆ±çš„ç†è®ºã€‚</p>
<p>ç°åœ¨ç”šè‡³æœ‰å®è§‚ç»æµå­¦å®¶åœ¨å…œå”®æ‰€è°“çš„ç°ä»£è´§å¸ç†è®ºï¼Œå¤§æ¦‚æ„æ€å°±æ˜¯ï¼Œæœ‰ä¸ªè®¨åŒçš„ä¸œè¥¿å«åšé€šè´§è†¨èƒ€ï¼Œæˆ‘ä»¬å¯ä»¥å°æ‰€æœ‰æˆ‘ä»¬æƒ³è¦çš„é’±ã€‚è¿™å°±åƒè¯´ï¼Œæœ‰äº†æ— é™çš„èƒ½é‡ï¼Œæˆ‘ä»¬å¯ä»¥å‘å°„ç«ç®­è¿›å…¥å¤ªç©ºä¸€æ•´å¤©ã€‚è¿™ç®€ç›´æ˜¯ä¸€æ´¾èƒ¡è¨€ã€‚ç°å®æ˜¯ï¼Œæœ‰äº›äººæ‰“ç€â€œå®è§‚ç»æµå­¦å®¶â€çš„æ——å·ï¼Œå…œå”®ä»€ä¹ˆç°ä»£è´§å¸ç†è®ºï¼Œè¿™åªèƒ½è¯´æ˜ï¼Œå®è§‚ç»æµå­¦ä½œä¸ºä¸€é—¨â€œæ‰€è°“çš„ç§‘å­¦â€å·²ç»è…è´¥ã€‚å®ƒç°åœ¨æ˜¯æ”¿æ²»çš„ä¸€ä¸ªåˆ†æ”¯ã€‚</p>
<p>å› æ­¤ï¼Œä½ è¦æŠŠé‡ç‚¹æ”¾åœ¨åŸºç¡€ä¸Šã€‚<strong>æœ€ç»ˆä¸€åˆ‡äº‹ç‰©çš„åŸºç¡€æ˜¯æ•°å­¦å’Œé€»è¾‘</strong>ã€‚å¦‚æœä½ æ‡‚é€»è¾‘å’Œæ•°å­¦ï¼Œé‚£ä¹ˆä½ å°±æœ‰äº†ç†è§£ç§‘å­¦æ–¹æ³•çš„åŸºç¡€ã€‚ä¸€æ—¦ä½ ç†è§£äº†ç§‘å­¦æ–¹æ³•ï¼Œä½ å°±èƒ½ç†è§£å¦‚ä½•åœ¨å…¶ä»–é¢†åŸŸå’Œå…¶ä»–ä½ æ­£åœ¨é˜…è¯»çš„ä¸œè¥¿ä¸­åŒºåˆ†çœŸç†å’Œè°¬è¯¯ã€‚</p>
<h3>é€Ÿé£Ÿä¸€ç™¾æœ¬ä¹¦æ¯«æ— æ„ä¹‰</h3>
<p>åœ¨é˜…è¯»åˆ«äººçš„è§‚ç‚¹ï¼ˆopinionï¼‰æ—¶è¦éå¸¸å°å¿ƒï¼Œç”šè‡³åœ¨é˜…è¯»äº‹å®ï¼ˆfactsï¼‰æ—¶ä¹Ÿè¦å°å¿ƒï¼Œå› ä¸ºæ‰€è°“çš„äº‹å®å¾€å¾€åªæ˜¯è¡¨é¢ä¸Šçš„(ä¼ªç§‘å­¦)è§‚ç‚¹ã€‚ä½ çœŸæ­£éœ€è¦çš„æ˜¯ç®—æ³•ï¼ˆalgorithmï¼‰ï¼Œæ˜¯ç†è§£ï¼ˆunderstandingï¼‰ã€‚æœ€å¥½æ˜¯æ…¢æ…¢åœ°å•ƒå®Œä¸€æœ¬ä¹¦ï¼Œç„¶åæŒ£æ‰ã€ç»Šå€’ã€å€’å¸¦ï¼Œè€Œä¸æ˜¯å¿«é€Ÿåœ°æµè§ˆä¸€éï¼Œç„¶åè²Œä¼¼å¾ˆæœ‰æˆå°±æ„Ÿï¼šâ€œæˆ‘å·²ç»è¯»äº†20æœ¬ä¹¦ï¼Œæˆ‘å·²ç»è¯»äº†30æœ¬ä¹¦ï¼Œæˆ‘å·²ç»è¯»äº†50æœ¬è¿™ä¸ªé¢†åŸŸçš„ä¹¦...â€å°±åƒæå°é¾™è¯´çš„ï¼Œâ€œæˆ‘ä¸å®³æ€•é‚£äº›çŸ¥é“ä¸€åƒç§è¸¢è…¿æ‹›å¼çš„äººï¼Œæˆ‘å®³æ€•é‚£äº›ç»ƒä¹ äº†ä¸€ä¸‡æ¬¡å‡ºæ‹³æˆ–ä¸€ä¸‡è¸¢è…¿çš„äººã€‚â€é€šè¿‡ä¸æ–­é‡å¤å’Œè¿ç”¨ï¼Œä¸æ–­æ·±å…¥ç†è§£é€»è¾‘å’ŒåŸºç¡€ï¼Œä½ æ‰èƒ½æˆä¸ºä¸€ä¸ªèªæ˜çš„æ€è€ƒè€…ã€‚</p>
<h3>å­¦ä¹ è®²æ•…äº‹å’Œç¼–ç¨‹</h3>
<p>Niviï¼šè¦ä¸ºä½ ä»¥åçš„å­¦ä¹ æ‰“ä¸‹åŸºç¡€ï¼Œæˆ‘è®¤ä¸ºä½ éœ€è¦ä¸¤æ ·ä¸œè¥¿ï¼Œæ€»ç»“æ¥è¯´ã€‚ç¬¬ä¸€ï¼Œç»ƒä¹ è¯´æœåˆ«äººï¼Œä¸æ–­å®è·µæ€ä¹ˆè®²å¥½ä¸€ä¸ªæ•…äº‹ã€‚ç¬¬äºŒï¼Œæ·±å…¥äº†è§£ä¸€äº›æŠ€æœ¯èŒƒç•´çš„ä¸œè¥¿ï¼Œæ— è®ºæ˜¯å­¦ä¹ æŠ½è±¡æ•°å­¦ï¼Œè¿˜æ˜¯è¯»å”çº³å¾·Â·å…‹åŠªæ–¯å…³äºç®—æ³•çš„ä¹¦ï¼Œæˆ–è€…å¬è´¹æ›¼å…³äºç‰©ç†å­¦çš„è®²åº§ã€‚å¦‚æœä½ æœ‰å®é™…çš„è¯´æœåŠ›ï¼Œå¯¹ä¸€äº›å¤æ‚çš„è¯é¢˜æœ‰æ·±åˆ»çš„ç†è§£ï¼Œæˆ‘è®¤ä¸ºä½ çš„ä½™ç”Ÿå°†æœ‰ä¸€ä¸ªå¾ˆå¥½çš„å­¦ä¹ åŸºç¡€ã€‚</p>
<p>Navalï¼šæ˜¯çš„ã€‚æˆ‘æŠŠå®ƒå±•å¼€ä¸€ä¸‹ã€‚æˆ‘è®¤ä¸ºäº”ä¸ªæœ€é‡è¦çš„æŠ€èƒ½æ˜¯ï¼Œé˜…è¯»ï¼Œå†™ä½œï¼Œç®—æœ¯ï¼Œç„¶ååŠ ä¸Šè¯´æœçš„æŠ€å·§ï¼Œä¹Ÿå°±æ˜¯ä¼šè®²æ•…äº‹ï¼ˆstorytellingï¼‰è®©åˆ«äººä¿¡æœã€‚æœ€åï¼Œæˆ‘è¿˜è¦åŠ ä¸Šè®¡ç®—æœºç¼–ç¨‹ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ç§åº”ç”¨å½¢å¼çš„è¿ç®—å®ƒèƒ½è®©ä½ åœ¨ä»»ä½•é¢†åŸŸéƒ½èƒ½è‡ªç”±çš„å»ºé€ ã€‚å¦‚æœä½ æ“…é•¿ç”µè„‘ï¼Œæ“…é•¿åŸºç¡€æ•°å­¦ï¼Œæ“…é•¿å†™ä½œï¼Œæ“…é•¿è¯´æœï¼Œå¦‚æœä½ å–œæ¬¢é˜…è¯»ï¼Œä½ å°±å·²ç»ä¸ºç”Ÿæ´»åšå¥½äº†å‡†å¤‡ã€‚</p>
<h2>ç¬¬åå…«æ¡ï¼šæ²¡æœ‰è¢«ç§°ä¸ºâ€œå•†ä¸šâ€çš„æŠ€èƒ½</h2>
<p><strong>é¿å¼€å•†å­¦é™¢å’Œæ‚å¿—</strong></p>
<h3>æ²¡æœ‰è¢«ç§°ä¸ºâ€œå•†ä¸šâ€çš„å®é™…æŠ€èƒ½</h3>
<p>Navalï¼šæ²¡æœ‰æ‰€è°“å•†ä¸šçš„å®é™…æŠ€èƒ½ï¼Œå®ƒå¤ªæ™®é€šäº†ã€‚è¿™å°±åƒä¸€ç§å«åšâ€œå…³è”â€çš„æŠ€èƒ½ï¼Œå®šä¹‰ä¸ºâ€œä¸äººç›¸å…³â€ã€‚è¿™éƒ½ä¸èƒ½ç§°ä½œä¸€ç§æŠ€èƒ½ï¼Œå®ƒå¤ªå®½æ³›äº†ã€‚</p>
<p>æˆ‘å¹¶ä¸æƒ³å®Œå…¨è´¬ä½å•†å­¦é™¢ä¼ æˆçš„ä¸œè¥¿çš„ä»·å€¼ï¼Œä»–ä»¬ä¼šä¼ æˆéå¸¸èªæ˜çš„ä¸œè¥¿â€”ä¸€äº›æˆåŠŸçš„æ¡ˆä¾‹/è½¶äº‹ï¼Œå¹¶ç§°ä¹‹ä¸ºâ€œæ¡ˆä¾‹åˆ†æâ€ï¼ˆcase studyï¼‰ã€‚ä½†å®ƒä»¬åªæ˜¯ä¸€äº›è¶£é—»è½¶äº‹ï¼Œå®ƒä»¬è¯•å›¾é€šè¿‡å‘ä½ æŠ›å‡ºå¤§é‡æ•°æ®ç‚¹æ¥å¸®åŠ©ä½ è¿›è¡Œæ¨¡å¼åŒ¹é…ï¼Œä½†äº‹å®æ˜¯ï¼Œåœ¨ä½ è®¾èº«å¤„åœ°æ€è€ƒä¹‹å‰ï¼Œä½ æ°¸è¿œä¸èƒ½å®Œå…¨ç†è§£å®ƒä»¬ï¼Œå°±åƒä½ æ— æ³•é‡å¤æ‰“é€ ä¸€ä¸ªå¯å£å¯ä¹ä¸€æ ·ã€‚ä½†æ˜¯ï¼Œä½ ä¼šå‘ç°åšå¼ˆè®ºã€å¿ƒç†å­¦ã€ä¼¦ç†å­¦ã€æ•°å­¦ã€è®¡ç®—æœºå’Œé€»è¾‘å­¦ä¸­çš„è¿™äº›åŸºæœ¬æ¦‚å¿µæ‰ä¼šæ›´å¥½åœ°å¸®åˆ°ä½ ã€‚è¿™ä¹Ÿæ˜¯æˆ‘ä¸ºä»€ä¹ˆä¼šæ›´ä¸“æ³¨äºåŸºç¡€ç§‘å­¦ã€åŸºç¡€é€»è¾‘çš„åŸå› ã€‚æˆ‘ä¼šåŸ¹å…»å¯¹é˜…è¯»çš„çƒ­çˆ±ï¼ŒåŒ…æ‹¬é˜…è¯»é‚£äº›æˆ‘ä»¬æ˜çŸ¥é“ä¸åº”è¯¥é˜…è¯»çš„æ‰€è°“åƒåœ¾ã€‚ä½ ä¸å¿…ï¼ˆåªï¼‰è¯»ç»å…¸ã€‚é˜…è¯»æ˜¯ä½ è¿›è¡Œè‡ªæˆ‘æ•™è‚²çš„åŸºç¡€ã€‚</p>
<p>ç€æ‰‹åšæ¯”å…‰æƒ³è¦å¿«å¾—å¤š</p>
<p>Niviï¼šä½ ä¹‹å‰æ‰€è¯´çš„â€œåšæ¯”çœ‹å¿«â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ</p>
<p>Navalï¼šè¿™æ¶‰åŠåˆ°å­¦ä¹ æ›²çº¿çš„è¯é¢˜ï¼Œäººä»¬æ€»æ˜¯æƒ³æ–¹è®¾æ³•çš„ä¼˜åŒ–è‡ªå·±çš„å­¦ä¹ æ›²çº¿ã€‚å°½ç®¡æˆ‘ä¹Ÿæ˜¯ä¸€ä¸ªæ’­å®¢åšä¸»ï¼Œä½†æˆ‘ä¸å–œæ¬¢æ’­å®¢çš„åŸå› ä¹‹ä¸€æ˜¯ï¼Œæ’­å®¢æ— æ³•è®©æˆ‘æœ€å¿«çš„è·å–çŸ¥è¯†å’Œä¿¡æ¯ã€‚æˆ‘æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„è¯»è€…ï¼Œæˆ–è€…è¯´æ˜¯ä¸€ä¸ªå¾ˆå¿«çš„è¯»è€…ï¼Œæˆ‘èƒ½è¯»å¾—å¾ˆå¿«ï¼Œä½†æˆ‘åªèƒ½ä»¥ä¸€å®šçš„é€Ÿåº¦å¬ã€‚æˆ‘çŸ¥é“äººä»¬å¬çš„æ—¶å€™éƒ½æ˜¯äºŒå€é€Ÿï¼Œä¸‰å€é€Ÿï¼Œä½†é‚£æ—¶æ¯ä¸ªäººå¬èµ·æ¥éƒ½åƒä¸€åªèŠ±æ —é¼ ï¼Œå¾ˆéš¾å†å›å¤´çœ‹ï¼ŒæŠ“é‡ç‚¹ï¼Œå¾ˆéš¾ç²¾ç¡®å®šä½ç‰‡æ®µå¹¶è®°ç¬”è®°ï¼Œç­‰ç­‰ã€‚</p>
<p>åŒæ ·åœ°ï¼Œå¾ˆå¤šäººè®¤ä¸ºä»–ä»¬å¯ä»¥é€šè¿‡è§‚å¯Ÿåˆ«äººåšçš„äº‹æƒ…ï¼Œç”šè‡³é€šè¿‡é˜…è¯»åˆ«äººåšçš„äº‹æƒ…ï¼Œå˜å¾—éå¸¸ç†Ÿç»ƒã€‚æ¯”å¦‚åˆšæåˆ°çš„å•†å­¦é™¢çš„æ¡ˆä¾‹ç ”ç©¶ï¼Œå°±æ˜¯ä¸€ä¸ªéå¸¸å…¸å‹çš„ä¾‹å­ã€‚ä»–ä»¬ç ”ç©¶å…¶ä»–äººçš„ç”Ÿæ„ï¼Œä½†å®é™…ä¸Šï¼Œä½ å¼€ä¸€ä¸ªè‡ªå·±çš„æŸ æª¬æ±½æ°´æ‘Šï¼Œç”šè‡³åœ¨è¡—ä¸Šå¼€ä¸€å®¶å°æ‚è´§åº—ï¼Œéƒ½ä¼šå­¦åˆ°æ¯”ä¹¦æœ¬ä¸Šå¤šå¾—å¤šçš„ç»è¥ç”Ÿæ„çš„çŸ¥è¯†ã€‚è¿™å°±æ˜¯ä½ åœ¨å·¥ä½œä¸­è¦å­¦ä¹ çš„æ–¹æ³•ï¼Œ<strong>å› ä¸ºå¾ˆå¤šå¾®å¦™çš„ä¸œè¥¿åœ¨ä½ çœŸæ­£è¿›å…¥è¿™ä¸ªè¡Œä¸šä¹‹å‰æ˜¯ä¸ä¼šçœŸæ­£æ‡‚å¾—çš„</strong>ã€‚</p>
<p>ä¾‹å¦‚ï¼Œç°åœ¨äººäººéƒ½å–œæ¬¢ç ”ç©¶å¿ƒç†å­¦ã€‚ä½ å»çœ‹çœ‹Farnam Streetï¼Œè¯»è¯»Poor Charlieâ€™s Almanack*ï¼Œä½ å¯ä»¥å­¦ä¹ æ‰€æœ‰ä¸åŒçš„å¿ƒç†æ¨¡å¼ã€‚ä½†å“ªä¸ªæ›´é‡è¦ï¼Ÿä½ æ›´å¸¸åº”ç”¨å“ªäº›ï¼Ÿåœ¨ä»€ä¹ˆæƒ…å†µä¸‹å“ªä¸€ä¸ªæ›´é‡è¦ï¼Ÿè¿™å…¶å®æ˜¯æœ€éš¾çš„éƒ¨åˆ†ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»å¿ƒç†å­¦ç ”ç©¶ä¸­æœ€å¤§çš„æ”¶è·æ˜¯ï¼Œå§”æ‰˜-ä»£ç†é—®é¢˜åœ¨ç°å®ä¸–ç•Œä¸­çš„é©±åŠ¨åŠ›å¤ªå¼ºå¤§äº†ï¼Œè¿™æœ¬è´¨æ˜¯ä¸€ä¸ªæ¿€åŠ±é—®é¢˜ã€‚å®ƒè®©æˆ‘æ˜ç™½ï¼Œé’ˆé”‹ç›¸å¯¹çš„é‡å¤å›šå¾’å›°å¢ƒæ˜¯æœ€å€¼å¾—äº†è§£çš„åšå¼ˆè®ºã€‚åœ¨é‚£ä¹‹åä½ å‡ ä¹å¯ä»¥æŠŠåšå¼ˆè®ºç†è®ºä¹¦æŸä¹‹é«˜é˜äº†ã€‚</p>
<p>é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œ<strong>å­¦ä¹ åšå¼ˆè®ºçš„æœ€å¥½æ–¹æ³•æ˜¯è‡ªå·±è®¾è®¡æ¸¸æˆ</strong>ï¼Œè‡ªå·±äº²èº«ä½“éªŒã€‚è™½ç„¶æˆ‘ä»æ²¡è¯»è¿‡åšå¼ˆè®ºçš„ä¹¦ï¼Œä½†æˆ‘è®¤ä¸ºè‡ªå·±éå¸¸æ“…é•¿åšå¼ˆè®ºå®è·µã€‚æˆ‘ä»æ¥æ²¡æœ‰æ‰“å¼€è¿‡ä¸€æœ¬åšå¼ˆè®ºçš„ä¹¦ï¼Œä»æœªå°è¯•åœ¨é‡Œé¢å‘ç°ä»»ä½•ä¸€ä¸ªæˆ‘æ²¡æƒ³åˆ°çš„ç»“æœã€‚åŸå› æ˜¯æˆ‘ä»å°ç©å„ç§æ¸¸æˆï¼Œå’Œå„ç§å„æ ·çš„æœ‹å‹åœ¨æ¸¸æˆä¸­ç¢°åˆ°å„ç§å„æ ·çš„å®é™…æƒ…å†µï¼Œæ‰€ä»¥è¿™å¯¹æˆ‘æ¥è¯´åªæ˜¯ç¬¬äºŒå¤©æ€§ã€‚å®è·µä¼šå‘Šè¯‰ä½ ä¸€åˆ‡ä½ æƒ³çŸ¥é“çš„ç­”æ¡ˆã€‚</p>
<h3>â€œæ‰§è¡Œâ€è¿­ä»£çš„æ¬¡æ•°å†³å®šç€ä½ çš„å­¦ä¹ æ›²çº¿</h3>
<p>æ‰§è¡Œæœ¬èº«æ˜¯ä¸€ä»¶å¾ˆå¾®å¦™çš„äº‹è¯·ï¼Œå®ƒåŒ…å«ç€å¾ˆå¤šä¸œè¥¿ã€‚æ¯”å¦‚è¯´ï¼Œæˆ‘æƒ³å­¦ä¹ å¦‚ä½•ç»è¥ä¸€å®¶ä¼ä¸šã€‚å¦‚æœæˆ‘åœ¨æ¯å¤©ä¸Šç­çš„åœ°æ–¹é‡å¤åšåŒæ ·çš„äº‹æƒ…ï¼Œæ¯”å¦‚è¯´æˆ‘åœ¨è¡—ä¸Šå¼€äº†ä¸€å®¶é›¶å”®åº—ï¼Œæ¯å¤©çš„ä»»åŠ¡å°±æ˜¯åœ¨è´§æ¶ä¸Šæ‘†æ»¡é£Ÿç‰©å’Œé…’ï¼Œæˆ‘ä¸ä¼šå­¦åˆ°å¾ˆå¤šä¸œè¥¿ï¼Œå› ä¸ºæˆ‘æ¯å¤©åªæ˜¯åœ¨ä¸æ–­é‡å¤ã€‚å› æ­¤ï¼Œå³ä½¿æˆ‘èŠ±äº†å‡ åƒä¸ªå°æ—¶ï¼Œä½†æˆ‘ä¹Ÿåªæ˜¯èŠ±äº†å‡ åƒä¸ªå°æ—¶åšåŒæ ·çš„äº‹æƒ…ã€‚è€Œå¦‚æœåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æˆ‘è¿›è¡Œäº†æ•°åƒæ¬¡è¿­ä»£ï¼Œé‚£ç»“æœå°±ä¼šä¸ä¸€æ ·äº†ã€‚å› æ­¤ï¼Œå­¦ä¹ æ›²çº¿æ˜¯éœ€è¦è¿­ä»£çš„ï¼Œè€Œä¸æ˜¯é‡å¤ã€‚</p>
<p>ä½†å¦‚æœæˆ‘åœ¨å•†åº—é‡Œæ¯å¤©å°è¯•æ–°çš„è¥é”€å®éªŒï¼Œæˆ‘ä¸æ–­åœ°æ”¹å˜åº“å­˜ï¼Œä¸æ–­åœ°æ”¹å–„å“ç‰Œç­–ç•¥ï¼Œä¸æ–­å°è¯•æ–°çš„è®²æ•…äº‹çš„æ–¹æ³•ï¼Œä¸æ–­åœ°æ‹“å±•å¢å¤§å®¢æµé‡çš„åœ¨çº¿æ¸ é“ï¼Œæˆ‘è¯•ç€åœ¨ä¸åŒçš„æ—¶é—´è¥ä¸šï¼Œå¹¶ä¸”ç»å¸¸æœ‰ç›®çš„åœ°å››å¤„èµ°èµ°ï¼Œå’Œå…¶ä»–åº—ä¸»äº¤è°ˆï¼Œæ‹¿åˆ°ä»–ä»¬çš„ä¹¦ï¼Œå¼„æ¸…æ¥šä»–ä»¬æ˜¯å¦‚ä½•ç»è¥è‡ªå·±çš„ç”Ÿæ„çš„ã€‚<strong>çœŸæ­£å½±å“å­¦ä¹ æ›²çº¿çš„æ˜¯è¿­ä»£æ¬¡æ•°</strong>ã€‚è¿­ä»£æ¬¡æ•°è¶Šå¤šï¼Œæ”¶è·çš„å°±è¶Šå¤šï¼Œå­¦ä¹ é€Ÿåº¦å°±è¶Šå¿«ã€‚è€Œä¸ä»…ä»…æ˜¯æŠ•å…¥çš„æ—¶é—´é•¿çŸ­çš„é—®é¢˜ã€‚</p>
<h3>å¦‚æœä½ æ„¿æ„æ¯å¤©æµä¸€ç‚¹è¡€ï¼Œä½ å¯èƒ½åœ¨æœªæ¥çš„äººç”Ÿè·¯ä¸Šèµ¢å¾—å¾ˆå¤š</h3>
<p>è™½ç„¶ä¸–ç•Œä¸ºæˆ‘ä»¬æä¾›ç€ä¸€æ¬¡åˆä¸€æ¬¡åšåŒæ ·äº‹æƒ…çš„æœºä¼šï¼Œä½†äº‹å®ä¸Šï¼Œå¦‚æœæˆ‘ä»¬èƒ½ä»é›¶å¼€å§‹å¯»æ‰¾æ–°çš„æ–¹æ³•ï¼Œä¸–ç•Œä¼šå‘ˆç°å‡ºä¸ä¸€æ ·çš„ç²¾å½©ã€‚</p>
<p>ç¬¬ä¸€æ¬¡å°è¯•æ–°äº‹ç‰©æ˜¯å¾ˆç—›è‹¦çš„ï¼Œå› ä¸ºä½ æ­£å¾˜å¾Šåœ¨ä¸ç¡®å®šçš„é¢†åŸŸï¼Œå¾ˆæœ‰å¯èƒ½ä½ ä¼šå¤±è´¥ã€‚å› æ­¤ä½ åªéœ€è¦ä¸æ–­è®©è‡ªå·±<strong>é€‚åº”é¢‘ç¹çš„å°å¤±è´¥ï¼ˆbleed a littleï¼‰</strong>ã€‚</p>
<p>Nassim Talebä¹Ÿè°ˆåˆ°äº†è¿™ä¸€ç‚¹ã€‚ä»–é åšä¸€ä¸ªåŸºæœ¬ä¸Šä¾èµ–é»‘å¤©é¹…çš„å•†äººçš„ç”Ÿæ„å‘å®¶è‡´å¯Œã€‚Nassim Talebé€šè¿‡æ¯å¤©æŸå¤±ä¸€ç‚¹ç‚¹é’±æ¥èµšé’±ï¼Œç„¶ååœ¨ä¸€ä¸ªå¶ç„¶çš„æ—¶æœºï¼Œå½“ä¸€ä»¶è¢«å¸¸è¯†å®šä¹‰ä¸ºä¸å¯èƒ½å‘ç”Ÿçš„äº‹æƒ…å‘ç”Ÿåœ¨å…¶ä»–äººèº«ä¸Šæ—¶ï¼Œä»–ä¼šèµšå¾ˆå¤šé’±ã€‚</p>
<p>è™½ç„¶å¤§å¤šæ•°äººæ¯å¤©éƒ½æƒ³ä¸€å¤œæš´å¯Œï¼Œä½†ç›¸åº”çš„ï¼Œä»–ä»¬éœ€è¦æ‰¿æ‹…çˆ†ç‚¸å¼çš„é£é™©ï¼Œåšå¥½ç ´äº§çš„å¿ƒç†å‡†å¤‡ã€‚</p>
<p>å¦‚æœè¯´ä½ åœ¨è‡ªç„¶ç•Œé‡Œå‰²ä¼¤äº†ï¼Œç„¶åæ¯å¤©éƒ½åœ¨æµè¡€ï¼Œä½ æœ€ç»ˆä¼šå› å¤±è¡€è€Œæ­»äº¡ï¼Œä½ å¿…é¡»æƒ³åŠæ³•åŠåŠæ—¶æƒ³åŠæ³•æŒ½æ•‘ç”Ÿå‘½ã€‚ä½†å…¶å®ç°å®ç”Ÿæ´»æ²¡é‚£ä¹ˆå¤¸å¼ ï¼Œæˆ‘ä»¬å¹¶ä¸æ˜¯æ¯å¤©éƒ½åœ¨æµè¡€ï¼Œæµè¡€åœ¨è¿™é‡Œåªæ˜¯ä¸€ä¸ªæ¯”å–»ï¼Œæ¯å¤©è®©è‡ªå·±æŸå¤±ä¸€ç‚¹ç‚¹ã€‚</p>
<p>ä½†ç°å®æ˜¯ï¼Œå¤§éƒ¨åˆ†äººéƒ½ä¸è¿™ä¹ˆåšï¼Œç›¸åä»–ä»¬æ¯å¤©éƒ½åœ¨è¿½æ±‚ç€å°çš„èƒœåˆ©ï¼Œè¿™æœ€ç»ˆä¼šè¢«è¯æ˜æ˜¯ä¸åˆç®—çš„ã€‚æˆ‘æƒ³è¯´çš„æ˜¯ï¼Œå¦‚æœä½ æ„¿æ„æ¯å¤©éƒ½æµä¸€ç‚¹ç‚¹è¡€ï¼Œå°†æ¥ä½ ä¼šèµ¢ä¸€ç¬”å¤§çš„ã€‚</p>
<p>å…¶å®ï¼Œè¿™å°±æ˜¯åˆ›ä¸šç²¾ç¥ï¼Œä¼ä¸šå®¶ä»¬æ¯å¤©éƒ½åœ¨æµè¡€ï¼ˆbleed a littleï¼‰ã€‚ä»–ä»¬ä¸æ˜¯åœ¨èµšé’±ï¼Œä»–ä»¬æ˜¯åœ¨èµ”é’±ï¼Œè€Œä¸”ä»–ä»¬æ€»æ˜¯äºšå†å±±å¤§ï¼Œå› ä¸ºæ‰€æœ‰çš„è´£ä»»éƒ½åœ¨ä»–ä»¬èº«ä¸Šï¼Œä½†æ˜¯å½“ä»–ä»¬èµ¢äº†ï¼Œä»–ä»¬å°±ä¼šå¤§èµšä¸€ç¬”ï¼Œæ‰€ä»¥æ€»ä½“ä¸Šæ¥çœ‹ä»–ä»¬ä¼šèµšå¾—æ›´å¤šã€‚</p>
<h2>ç¬¬åä¹æ¡ï¼šå‹‡æ•¢æ‰¿æ‹…è´£ä»»æ‰èƒ½è·å¾—å½±å“åŠ›</h2>
<p><strong>å‹‡æ•¢å†’é™©ä½ å°±ä¼šåœ¨ç¤¾ä¼šä¸Šè·å¾—å½±å“åŠ›</strong></p>
<h3>ä½ éœ€è¦é€šè¿‡è´£ä»»è·å¾—å½±å“åŠ›</h3>
<p>Nivi: æˆ‘ä»¬ä½•ä¸è°ˆè°ˆè´£ä»»å‘¢ï¼Œæˆ‘è§‰å¾—è¿™å¾ˆæœ‰è¶£ï¼Œæˆ‘ä¼°è®¡ä½ å¯¹æ­¤æœ‰è‡ªå·±ç‹¬ç‰¹çš„çœ‹æ³•ã€‚å› æ­¤ï¼Œä½ çš„å…³äºè´£ä»»çš„ç¬¬ä¸€æ¡æ¨æ–‡æ˜¯ï¼Œâ€œæ‹¥æŠ±è´£ä»»ï¼Œä»¥è‡ªå·±çš„åä¹‰æ‰¿æ‹…å•†ä¸šé£é™©ã€‚ç¤¾ä¼šå°†ä»¥è´£ä»»ã€å…¬å¹³å’Œå½±å“åŠ›æ¥å›æŠ¥ä½ ã€‚â€</p>
<p>Naval: æ˜¯å•Šï¼Œæ‰€ä»¥è¦æƒ³å‘è´¢ï¼Œä½ éœ€è¦æ æ†ã€‚æ æ†æ¥è‡ªäºåŠ³åŠ¨åŠ›ã€èµ„æœ¬ï¼Œä¹Ÿå¯èƒ½æ˜¯é€šè¿‡ä»£ç å’Œåª’ä½“ã€‚ä½†å…¶ä¸­çš„å¤§å¤šæ•°ï¼Œæ¯”å¦‚<strong>åŠ³åŠ¨åŠ›å’Œèµ„æœ¬ï¼Œå¿…é¡»æ¥è‡ªäºä»–äººçš„ç»™äºˆ</strong>ã€‚å¯¹äºåŠ³åŠ¨åŠ›ï¼Œå¿…é¡»æ˜¯æœ‰äººæ„¿æ„è·Ÿéšä½ ï¼›å¯¹äºèµ„æœ¬ï¼Œå¿…é¡»æœ‰äººç»™ä½ é’±æˆ–èµ„äº§æ¥è®©ä½ ç®¡ç†å’Œä½¿ç”¨ã€‚</p>
<p>æ‰€ä»¥è¦å¾—åˆ°è¿™äº›ï¼Œä½ å¿…é¡»å»ºç«‹ä¿¡èª‰ï¼Œè€Œä¸”ä½ å¿…é¡»å°½å¯èƒ½ä»¥è‡ªå·±çš„åä¹‰å»åšï¼Œå½“ç„¶è¿™ä¹Ÿæ˜¯æœ‰é£é™©çš„ã€‚æ‰€ä»¥è´£ä»»æ˜¯ä¸€æŠŠåŒåˆƒå‰‘ã€‚å®ƒèƒ½è®©ä½ åœ¨äº‹æƒ…é¡ºåˆ©çš„æ—¶å€™æ”¶è·ä¿¡èª‰ï¼Œåœ¨äº‹æƒ…ç³Ÿç³•çš„æ—¶å€™æ‰¿å—å¤±è´¥çš„å†²å‡»ã€‚</p>
<h3>ä»¥è‡ªå·±çš„åä¹‰æ‰¿æ‹…å•†ä¸šé£é™©</h3>
<p>ä»è¿™ä¸ªæ„ä¹‰ä¸Šè¯´ï¼Œé‚£äº›åœ¨å„ç§äº‹ç‰©ä¸Šè´´ä¸Šè‡ªå·±æ ‡ç­¾çš„äººå¹¶ä¸æ„šè ¢ï¼Œä»–ä»¬åªæ˜¯å¯¹è‡ªå·±æœ‰ä¿¡å¿ƒã€‚ä¹Ÿè®¸æœ€ç»ˆç»“æœæ˜¯æ„šè ¢çš„ï¼Œä½†å¦‚æœä½ çœ‹åˆ°ä¸€ä¸ªåè€¶ã€å¥¥æ™®æ‹‰ã€ç‰¹æœ—æ™®ã€é©¬æ–¯å…‹æˆ–å…¶ä»–ç±»ä¼¼çš„äººï¼Œè¿™äº›äººä¹‹æ‰€ä»¥å¯ä»¥å‡­å€Ÿè‡ªå·±çš„åå­—è‡´å¯Œï¼Œæ˜¯å› ä¸ºä»–ä»¬çš„åå­—å°±æ˜¯å¼ºå¤§çš„æ•²é—¨ç –ã€‚</p>
<p>ä¸ç®¡ä½ å¦‚ä½•çœ‹å¾…ç‰¹æœ—æ™®ï¼Œä½ å¿…é¡»æ„è¯†åˆ°ï¼Œè¿™å®¶ä¼™çš„åå­—å°±æ˜¯ä¸–ç•Œåç‰‡ã€‚ä½ ä¸ºä»€ä¹ˆè¦å»ç‰¹æœ—æ™®èµŒåœºï¼Ÿåªæ˜¯å› ä¸ºæ˜¯ç‰¹æœ—æ™®ã€‚ä½ ä¸ºä»€ä¹ˆè¦å»ç‰¹æœ—æ™®å¤§å¦ï¼Ÿä¹Ÿæ˜¯å› ä¸ºç‰¹æœ—æ™®ã€‚</p>
<p>åˆ°äº†æŠ•ç¥¨çš„æ—¶å€™ï¼Œæˆ‘æƒ³å¾ˆå¤šé€‰æ°‘åªæ˜¯è¿›å»è¯´â€œç‰¹æœ—æ™®â€ï¼Œä»–ä»¬è®¤å‡ºäº†è¿™ä¸ªåå­—ï¼Œæ‰€ä»¥è¿™ä¸ªåå­—å¾—åˆ°äº†å›æŠ¥ï¼ˆè·å¾—é€‰ç¥¨ï¼‰ã€‚</p>
<p>å¥¥æ™®æ‹‰ä¹Ÿæ˜¯åŒæ ·çš„ï¼Œå¥¹æŠŠæŸæ ·ä¸œè¥¿æ‰“ä¸Šè‡ªå·±çš„æ ‡ç­¾ï¼Œå½“å•†å“åˆ°è¾¾äººä»¬æ‰‹ä¸­ï¼Œå¥¹çš„åå­—å°±æ˜¯è¿™äº›å•†å“çš„æ‹›ç‰Œã€‚</p>
<p>è¿™äº›äººåœ¨åšæŒæŠŠè‡ªå·±çš„åå­—æ‰“é€ æˆæ‹›ç‰Œçš„åŒæ—¶å½“ç„¶ä¹Ÿé¢ä¸´ç€ä¸€ç³»åˆ—çš„é£é™©ã€‚æ˜¾ç„¶ï¼Œç‰¹æœ—æ™®ç°åœ¨å¯èƒ½è¢«ä¸–ç•Œä¸Šçš„ä¸€å¤§éƒ¨åˆ†äººæ†æ¨ç€ï¼Œä¹ŸåŒæ ·æ˜¯å› ä¸ºç‰¹æœ—æ™®å¼çš„é£æ ¼ã€‚</p>
<p>æŠŠä½ çš„åå­—å…¬ä¹‹äºä¼—ï¼Œä½ å°±ä¼šæˆä¸ºä¸€ä¸ªåäººï¼Œè€Œåå£°ä¹Ÿæœ‰å¾ˆå¤šç¼ºç‚¹ã€‚<strong>éšå§“åŸ‹åã€æœ‰é’±æ€»æ¯”ç©·å‡ºåå¥½ï¼Œä½†å³ä¾¿æ˜¯ååˆ©åŒæ”¶ï¼Œä¹Ÿæœ‰å¾ˆå¤šä¸åˆ©å› ç´ ã€‚ä½ éœ€è¦åœ¨å…¬ä¼—çš„çœ¼çš®å­åº•ä¸‹ç”Ÿæ´»</strong>ã€‚</p>
<h3>ä¸€ä¸ªè¿ä½œè‰¯å¥½çš„å›¢é˜Ÿå¯¹æ¯ä¸ªèŒä½éƒ½æœ‰æ˜ç¡®çš„è´£ä»»åˆ†å·¥</h3>
<p>è´£ä»»æ„Ÿæ˜¯éå¸¸é‡è¦çš„ï¼Œå½“ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªäº§å“ï¼Œæˆ–è€…ä½ åœ¨ä¸€ä¸ªå›¢é˜Ÿä¸­å·¥ä½œï¼Œæˆ–è€…ä½ åœ¨ä¸€ä¸ªä¼ä¸šä¸­å·¥ä½œæ—¶ï¼Œæˆ‘ä»¬å°±ä¼šä¸æ–­åœ°æé†’è‡ªå·±æˆä¸ºä¸€ä¸ªå›¢é˜Ÿçš„ä¸€å‘˜æ˜¯å¤šä¹ˆçš„é‡è¦ã€‚è¿™çš„ç¡®æ˜¯éå¸¸é‡è¦çš„ã€‚</p>
<p>æˆ‘ä»¬åœ¨ç¤¾äº¤æ–¹é¢çš„å¾ˆå¤šè®­ç»ƒéƒ½å‘Šè¯‰æˆ‘ä»¬ä¸è¦å¼ºå‡ºå¤´ã€‚å°±åƒä¸­å›½çš„ä¸€å¥ä¿—è¯­ï¼Œæªæ‰“å‡ºå¤´é¸Ÿï¼Œåˆ«ç´§å¼ ï¼Œä½†æ˜¯æˆ‘è¦è¯´çš„æ˜¯ï¼Œä¸€ä¸ªçœŸæ­£è¿ä½œè‰¯å¥½çš„å›¢é˜Ÿè§„æ¨¡å¾ˆå°ï¼Œå¯¹æ¯ä¸€ä¸ªä¸åŒçš„éƒ¨åˆ†éƒ½æœ‰æ˜ç¡®çš„è´£ä»»åˆ†å·¥ã€‚</p>
<p>ä½ å¯ä»¥è¯´ï¼Œâ€œå¥½å§ï¼Œè¿™ä¸ªäººè´Ÿè´£åˆ¶é€ äº§å“ï¼Œè¿™ä¸ªäººè´Ÿè´£ä¿¡æ¯å‘å¸ƒï¼Œè¿™ä¸ªäººè´Ÿè´£ç­¹æ¬¾ï¼Œè¿™ä¸ªäººè´Ÿè´£å®šä»·ç­–ç•¥ï¼Œä¹Ÿå¯èƒ½è´Ÿè´£åœ¨çº¿å¹¿å‘Šã€‚â€œæ‰€ä»¥å¦‚æœæœ‰äººæç ¸äº†ï¼Œä½ å°±çŸ¥é“åˆ°åº•æ˜¯è°è´Ÿè´£ã€‚åŒæ—¶ï¼Œå¦‚æœäº‹æƒ…è¿›å±•é¡ºåˆ©ï¼Œä½ ä¹Ÿæ¸…æ¥šåœ°çŸ¥é“æ˜¯è°åšå¾—å¾ˆå¥½ã€‚</p>
<p>å¦‚æœä½ æœ‰ä¸€ä¸ªå¾ˆå°çš„å›¢é˜Ÿï¼Œå¹¶ä¸”ä½ å·²ç»æ¸…æ¥šåœ°åˆ’åˆ†äº†è´£ä»»ï¼Œé‚£ä¹ˆä½ ä»ç„¶å¯ä»¥ä¿æŒå¾ˆé«˜çš„è´£ä»»æ„Ÿã€‚é—®è´£åˆ¶åœ¨é¢å¯¹ç»“æœæ—¶æ˜¾å¾—çœŸçš„å¾ˆé‡è¦ï¼Œä¸ç„¶å°±ä¼šå‡ºç°ï¼Œå¦‚æœå¤±è´¥äº†ï¼Œæ¯ä¸ªäººéƒ½ä¼šäº’ç›¸æŒ‡è´£ï¼Œå¦‚æœæˆåŠŸäº†ï¼Œæ¯ä¸ªäººéƒ½ä¼šç«™å‡ºæ¥äº‰å¤ºåŠŸåŠ³ã€‚</p>
<p>æˆ‘ä»¬åœ¨å­¦æ ¡çš„æ—¶å€™éƒ½æœ‰è¿‡è¿™æ ·çš„ç»å†ï¼Œæœ‰ä¸€ä¸ªå°ç»„ä½œä¸šè¦åšï¼Œé‡Œé¢å¯èƒ½æœ‰å‡ ä¸ªäººåšäº†å¾ˆå¤šå·¥ä½œï¼Œç„¶åæœ‰ä¸€äº›äººåªæ˜¯åšäº†å¾ˆå¤šå“—ä¼—å–å® çš„å·¥ä½œæˆ–è€…å¼ºè¡Œç»™è‡ªå·±åšçš„å·¥ä½œåŠ æˆã€‚æˆ‘ä»¬ä»å°å°±ä¹ ä»¥ä¸ºå¸¸ï¼Œä½†è¯´å‡ºæ¥éš¾å…ä¼šæ„Ÿåˆ°ä¸èˆ’æœã€‚</p>
<h3>èƒ½åœ¨å…¬ä¼—é¢å‰å¦ç„¶é¢å¯¹å¤±è´¥çš„äººéƒ½æœ‰å¾ˆå¤§çš„èƒ½é‡</h3>
<p>æ˜ç¡®è´£ä»»å¾ˆé‡è¦ã€‚æ²¡æœ‰è´£ä»»æ„Ÿï¼Œä½ å°±æ²¡æœ‰åŠ¨åŠ›ï¼›æ²¡æœ‰è´£ä»»æ„Ÿï¼Œå°±æ— æ³•å»ºç«‹ä¿¡èª‰ã€‚ä½†ä½ è¦å†’é™©ï¼Œä½ å†’ç€å¤±è´¥çš„é£é™©å†’ç€è¢«ç¾è¾±çš„å±é™©ï¼Œä½ å†’ç€ä»¥è‡ªå·±åä¹‰æ‰¿å—å¤±è´¥çš„é£é™©ã€‚</p>
<p>å¹¸è¿çš„æ˜¯ï¼Œåœ¨ç°ä»£ç¤¾ä¼šï¼Œä¸å†æœ‰å€ºåŠ¡äººçš„ç›‘ç‹±ï¼Œäººä»¬ä¹Ÿä¸ä¼šå› ä¸ºå¤±å»åˆ«äººçš„é’±è€Œåç‰¢æˆ–è¢«å¤„æ­»ï¼Œä½†ä¸ç”Ÿä¿±æ¥çš„ï¼Œæˆ‘ä»¬ä¸ä¼šä»¥è‡ªå·±çš„åä¹‰åœ¨å…¬å…±åœºåˆå¤±è´¥ã€‚é‚£äº›ä»¥è‡ªå·±çš„åä¹‰åœ¨å…¬å…±åœºåˆé¢å¯¹å¤±è´¥çš„äººï¼Œå®é™…ä¸Šæ‹¥æœ‰å¾ˆå¤§çš„èƒ½é‡ã€‚</p>
<p>ä¾‹å¦‚ï¼Œæˆ‘è®²ä¸€ä¸ªä¸ªäººè½¶äº‹ã€‚ç›´åˆ°2013å¹´ï¼Œ2014å¹´ï¼Œæˆ‘çš„å…¬ä¼—å½¢è±¡å®Œå…¨å›´ç»•ç€åˆ›ä¸šå’ŒæŠ•èµ„ã€‚ç›´åˆ°2014å¹´ã€2015å¹´å·¦å³ï¼Œæˆ‘æ‰å¼€å§‹è°ˆè®ºå“²å­¦ã€å¿ƒç†å­¦ç­‰ç­‰ã€‚</p>
<p>è¿™è®©æˆ‘æœ‰ç‚¹ç´§å¼ ï¼Œå› ä¸º<strong>æˆ‘æ˜¯ä»¥è‡ªå·±çš„åä¹‰åšçš„</strong>ã€‚è‚¯å®šæœ‰ä¸šå†…äººå£«é€šè¿‡èƒŒåæ‚„æ‚„æˆ³æˆ‘ï¼Œæ¯”å¦‚â€œä½ åœ¨å¹²ä»€ä¹ˆï¼Ÿä½ è¦ç»“æŸä½ çš„èŒä¸šç”Ÿæ¶¯äº†å—ï¼Ÿè¿™å¤ªæ„šè ¢äº†ã€‚â€</p>
<p>æˆ‘æœ‰ç‚¹åŒæ„äº†ï¼Œçš„ç¡®ï¼Œæˆ‘å†’é™©äº†ã€‚</p>
<p>å½“ä½ æŠŠä½ çš„åå­—æ”¾åœ¨é‚£é‡Œï¼Œä½ å°±è¦å†’ç€æŸäº›é£é™©ã€‚ä½†åŒæ—¶ä½ ä¹Ÿä¼šå¾—åˆ°å›æŠ¥ï¼Œä½ ä¼šå¾—åˆ°å¥½å¤„çš„ã€‚</p>
<h2>ç¬¬ä¸‰åäº”æ¡ï¼šå†·é™çš„å¤´è„‘ï¼Œå¥åº·çš„èº«ä½“ï¼Œå……æ»¡çˆ±çš„å®¶åº­</h2>
<p><strong>å½“ä½ å˜å¾—å¯Œæœ‰æ—¶ï¼Œä½ ä¼šå‘ç°è¿™äº›éƒ½ä¸æ˜¯ä½ ä¸€ç›´ä»¥æ¥è¿½æ±‚çš„</strong></p>
<p>Niviï¼šæœ€åä¸€æ¡å…³äºé•¿æœŸå·¥ä½œçš„æ¨ç‰¹æ˜¯ï¼šâ€œå½“ä½ æœ€ç»ˆå˜å¾—å¯Œæœ‰æ—¶ï¼Œä½ ä¼šæ„è¯†åˆ°è¿™äº›å¹¶ä¸æ˜¯ä½ æœ€åˆæƒ³è¦çš„ã€‚â€</p>
<p>Navalï¼šè¿™æœ¬èº«å°±æ˜¯ä¸€ä¸ªèƒ½è°ˆè®ºå¾ˆä¹…çš„è¯é¢˜ã€‚é¦–å…ˆï¼Œæˆ‘è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªéå¸¸èªæ˜çš„ç»“è®ºï¼Œå®ƒè§£æ”¾äº†é‚£äº›è¯´â€œè‡´å¯Œæœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿâ€çš„äººä»¬çš„æ€æƒ³æ­¦è£…ã€‚æœ‰å¾ˆå¤šäººå–œæ¬¢ä»¥å¾·æœäººï¼Œåå¯¹åˆ›é€ è´¢å¯Œæˆ–èµšé’±çš„æƒ³æ³•ã€‚è¿™å…¶å®ä¹Ÿæ²¡é”™ã€‚æ˜¯çš„ï¼Œé’±èƒ½è§£å†³ä½ æ‰€æœ‰èƒ½ç”¨é’±è§£å†³çš„é—®é¢˜ï¼Œä½†é’±ä¹Ÿä¸æ˜¯ä¸‡èƒ½çš„ã€‚</p>
<p><strong>å½“ä½ èµšäº†ä¸€å¤§ç¬”é’±åï¼Œä½ é¦–å…ˆæ„è¯†åˆ°ä½ ä»ç„¶æ˜¯åŒä¸€ä¸ªäºº</strong>ã€‚å¦‚æœä½ æœ¬æ¥å¿«ä¹ï¼Œä½ å°±è¿˜æ˜¯å¿«ä¹çš„ã€‚å¦‚æœä½ æœ¬æ¥ä¸å¿«ä¹ï¼Œä½ å°±ä¼šä¸å¿«ä¹ã€‚å¦‚æœä½ å¹³é™ã€æ»¡è¶³ã€å¹³å’Œï¼Œä½ è¿˜æ˜¯é‚£ä¸ªäººã€‚æˆ‘è®¤è¯†å¾ˆå¤šéå¸¸å¯Œæœ‰çš„äººï¼Œä»–ä»¬èº«æéå¸¸ä¸å¥½ã€‚æˆ‘ä¹Ÿè®¤è¯†å¾ˆå¤šæœ‰é’±äººï¼Œä»–ä»¬çš„å®¶åº­ç”Ÿæ´»å¾ˆç³Ÿç³•ã€‚æˆ‘åŒæ—¶ä¹ŸçŸ¥é“å¾ˆå¤šæœ‰é’±äººï¼Œä»–ä»¬å†…å¿ƒå¾ˆæ··ä¹±ã€‚</p>
<h3>å¹³é™çš„å¤´è„‘ï¼Œå¥åº·çš„èº«ä½“å’Œå……æ»¡çˆ±çš„å®¶åº­å¿…é¡»è¦ç»è¥</h3>
<p>æˆ‘æƒ³åˆ°æˆ‘ä¹‹å‰å‘çš„å¦ä¸€æ¡æ¨ç‰¹ï¼Œä¹Ÿæ˜¯æˆ‘æœ€å–œæ¬¢çš„ä¸€æ¡ã€‚å®ƒä¸ä¸€å®šæ˜¯æœ€æœ‰è§åœ°çš„ï¼Œä¹Ÿä¸ä¸€å®šæ˜¯æœ€æœ‰ç”¨çš„ï¼Œè¿™ç”šè‡³ä¸æ˜¯æˆ‘æƒ³çš„æœ€æ¸…æ¥šçš„ã€‚ä½†é‚£é‡Œé¢æœ‰ä¸€ä¸ªéå¸¸ç¡®å®šçš„äº‹å®ï¼Œå®ƒå¼•èµ·äº†å…±é¸£ã€‚</p>
<p>â€œå¥åº·çš„èº«ä½“ï¼Œå¹³é™çš„å¤´è„‘ï¼Œå……æ»¡çˆ±çš„å®¶åº­ã€‚è¿™äº›ä¸œè¥¿æ˜¯ä¹°ä¸æ¥çš„ï¼Œå¿…é¡»è¦ç»è¥æ‰èƒ½å¾—åˆ°ã€‚â€</p>
<p>å³ä½¿ä½ æ‹¥æœ‰ä¸–ç•Œä¸Šæ‰€æœ‰çš„é’±ï¼Œä½ ä¹Ÿä¸ä¼šæ‹¥æœ‰è¿™ä¸‰æ ·ä¸œè¥¿ã€‚Jeff Bezosï¼ˆäºšé©¬é€Šè‘£äº‹é•¿ï¼‰è¿˜å¾—å¥èº«ï¼Œä»–ä¹Ÿå¾—ä¸ºä»–çš„å©šå§»åŠªåŠ›ï¼Œä»–çš„å†…åœ¨ç²¾ç¥çŠ¶æ€ä»ç„¶å¾ˆéš¾ä¸è¢«å¤–éƒ¨äº‹ä»¶æ‰€å½±å“ã€‚è¿™å°†å–å†³äºä»–å†…å¿ƒçš„å¹³é™ä¸å®‰å®ã€‚å› æ­¤ï¼Œæˆ‘è®¤ä¸ºè¿™ä¸‰ä»¶äº‹â€”â€”ä½ çš„èº«ä½“å¥åº·ï¼Œä½ çš„å¿ƒç†å¥åº·å’Œä½ çš„äº²å¯†å…³ç³»æ˜¯ä½ å¿…é¡»è¦åŸ¹å…»çš„ã€‚ä»–ä»¬èƒ½ç»™ä½ å¸¦æ¥æ¯”ä»»ä½•é‡‘é’±éƒ½å¤šçš„å®‰å®å’Œå¹¸ç¦ã€‚</p>
<h3>å…³äºå¹³é™å†…å¿ƒçŠ¶æ€çš„å®ç”¨æ€§å»ºè®®</h3>
<p>å¦‚ä½•æ‰èƒ½ä¿æŒå†…å¿ƒå¹³é™ï¼Œè¿™ä¸ªè¯é¢˜æ˜¯æˆ‘ä¸€ç›´åœ¨ç ”ç©¶çš„ã€‚æˆ‘å¤§æ¦‚æœ‰100æ¡è¿™ä¸ªæ–¹é¢çš„æ¨ç‰¹ã€‚åœ¨è¿™ä¸ªè¯é¢˜ä¸Šï¼Œæœ€è¿‘ç»å¸¸ä¼šé­åˆ°è‡³å°‘50ç§ä¸åŒå½¢å¼çš„æ”»å‡»ã€‚æ‰€ä»¥æˆ‘ä¸€ç›´åœ¨çŠ¹è±«è¦ä¸è¦åšï¼Œå› ä¸ºæˆ‘æƒ³é’ˆå¯¹ä¸€ç§éå¸¸ç‰¹æ®Šçš„äººç¾¤ã€‚</p>
<p>æœ‰å¾ˆå¤šäººä¸ç›¸ä¿¡ç ”ç©¶å†…åœ¨çŠ¶æ€æ˜¯æœ‰ç”¨çš„ï¼Œä»–ä»¬å¤ªæ³¨é‡å¤–åœ¨ã€‚æ²¡å…³ç³»ï¼Œè¿™æ ·ä¹Ÿçš„ç¡®æ²¡ä»€ä¹ˆé—®é¢˜ã€‚è¿™å°±æ˜¯â€œå¦‚ä½•è‡´å¯Œâ€æ¨ç‰¹ç³»åˆ—çš„ç›®çš„ã€‚æœ‰å¾ˆå¤šäººè®¤ä¸ºå”¯ä¸€å€¼å¾—åŠªåŠ›çš„å°±æ˜¯<strong>å½»åº•è§£æ”¾(complete liberation)</strong>ï¼Œå°±åƒï¼Œä½ æˆäº†ä½›ã€‚ä»–ä»¬ä¼šæ€€ç–‘è¿‡ç¨‹ä¸­çš„ä»»ä½•ä¸œè¥¿ï¼Œè®¤ä¸ºå®ƒä»¬æ¯«æ— ç”¨å¤„ã€‚ä½†äº‹å®æ˜¯ç»å¤§å¤šæ•°äººæ²¡æ³•å„¿æˆä½›ä¸æ˜¯å—ï¼Ÿ</p>
<p><strong>æˆ‘æƒ³åˆ›å»ºä¸€ä¸ªæ–°çš„æ¨ç‰¹ç³»åˆ—ï¼Œæ¥ä¸ºé‚£äº›æƒ³è¦ä¸€ä¸ªæ›´å¹³é™çš„å†…åœ¨çš„äººä»¬æä¾›å®ç”¨çš„å»ºè®®</strong>ã€‚ä¸€å¥—ç†è§£ã€åˆ†è¾¨åŠçœŸåŠå‡å’ŒçœŸç†çš„ç†è®ºï¼Œå¦‚æœä½ èƒ½æ­£ç¡®åœ°å¸æ”¶å®ƒä»¬ï¼Œè¿™äº›éƒ½æ˜¯æŒ‡å‘ä½ å·²ç»æ‹¥æœ‰çš„æƒ³æ³•å’Œç»éªŒçš„æŒ‡é’ˆï¼›å¦‚æœä½ æŠŠè¿™äº›ç†è®ºæ…¢æ…¢èä¼šè´¯é€šï¼Œå®ƒå°†å¸®åŠ©ä½ ã€å¼•å¯¼ä½ è¿›å…¥ä¸€ä¸ªæ›´å¹³é™çš„å†…åœ¨çŠ¶æ€ï¼Œè¿™å°±æ˜¯æˆ‘æƒ³åšçš„ã€‚</p>
<p>å¥èº«æ˜¯å¦ä¸€ä¸ªå¤§é—®é¢˜ï¼Œæˆ‘ä¸æ˜¯è¿™æ–¹é¢çš„ä¸“å®¶ï¼Œæ¨ç‰¹ä¸Šæœ‰å¾ˆå¤šæ¯”æˆ‘æ›´æ“…é•¿å¥èº«çš„ä¸“ä¸šäººå£«ã€‚</p>
<h3>å¾ˆå¤šç¦»å©šæ¡ˆä¾‹æ˜¯ä¸ºäº†é’±ï¼Œå¾ˆå¤šäº‰åµæ˜¯å› ä¸ºå†…å¿ƒææƒ§</h3>
<p>æˆ‘è®¤ä¸ºï¼Œä¸€ä¸ªå……æ»¡çˆ±çš„å®¶åº­å’Œäººé™…å…³ç³»å®é™…ä¸Šæ˜¯è‡ªç„¶è€Œç„¶åœ°ä»å…¶ä»–äº‹æƒ…ä¸­è„±é¢–è€Œå‡ºçš„ã€‚å¦‚æœä½ æœ‰ä¸€ä¸ªå†·é™çš„å¤´è„‘ï¼Œä½ å·²ç»èµšäº†é’±ï¼Œä½ åº”è¯¥æœ‰è‰¯å¥½çš„å…³ç³»ã€‚ä½ æ²¡æœ‰ç†ç”±ä¸è¿™æ ·åšï¼Œå¾ˆå¤šç¦»å©šéƒ½æ˜¯ä¸ºäº†é’±ï¼Œä¸å¹¸çš„æ˜¯ï¼Œè¿™å°±æ˜¯ç°å®ï¼Œæœ‰äº†é’±ä½†æ˜¯ä¸¢å¤±äº†å®¶åº­è¿™éƒ¨åˆ†ã€‚</p>
<p>å¾ˆå¤šå¤–åœ¨çš„çº·äº‰ä¸»è¦æ˜¯å› ä¸ºä½ çš„å†…åœ¨çŠ¶æ€ä¸å¥½ã€‚å½“ä½ å†…å¿ƒè‡ªç„¶å¹³é™çš„æ—¶å€™ï¼Œä½ ä¼šé€‰æ‹©æ›´å°‘çš„äº‰æ–—ï¼Œä½ ä¼šå˜å¾—æ›´æœ‰çˆ±å¿ƒè€Œä¸æœŸå¾…ä»»ä½•å›æŠ¥ï¼Œè¿™ä¼šè®©ä½ åº”å¯¹å¤–éƒ¨å…³ç³»æ›´åŠ å¾—å¿ƒåº”æ‰‹ã€‚</p>
<p>Niviï¼šæ€»ç»“ä¸€ä¸‹ï¼Œé’±èƒ½è§£å†³ä½ çš„å…³äºé‡‘é’±çš„é—®é¢˜ï¼Œé‡‘é’±å¯ä»¥è®©ä½ åœ¨ç‰©è´¨ä¸–ç•Œä¸­è·å¾—è‡ªç”±ã€‚é‡‘é’±èƒ½ç»™ä½ ä¸å»åšä½ ä¸æƒ³åšçš„äº‹æƒ…çš„è‡ªç”±ã€‚</p>
<p>Navalï¼šæ˜¯å•Šã€‚å¯¹æˆ‘æ¥è¯´ï¼Œé‡‘é’±çš„æœ€ç»ˆç›®çš„æ˜¯è®©ä½ ä¸å¿…åœ¨æŸä¸ªç‰¹å®šçš„åœ°æ–¹çš„æŸä¸ªç‰¹å®šçš„æ—¶é—´ï¼Œåšä»»ä½•ä½ ä¸æƒ³åšçš„äº‹æƒ…ã€‚</p>
<h2>ç¬¬ä¸‰åå…­æ¡ï¼šæ²¡æœ‰ä»€ä¹ˆå¿«é€Ÿè‡´å¯Œçš„æ–¹æ³•</h2>
<p><strong>åˆ«ç›¸ä¿¡èƒ½å¿«é€Ÿè‡´å¯Œçš„é¬¼è¯ï¼Œé‚£äº›äººåªæ˜¯æƒ³ä»ä½ èº«ä¸Šèµšé’±è€Œå·²</strong></p>
<p>Niviï¼šæˆ‘ä»¬è·³è¿‡äº†ä¸€æ¡æ¨æ–‡ï¼Œå› ä¸ºæˆ‘æƒ³æ¶µç›–æ‰€æœ‰å…³äºé•¿æœŸè¯é¢˜çš„æ¨æ–‡ã€‚æˆ‘ä»¬è·³è¿‡çš„é‚£æ¡æ¨ç‰¹æ˜¯ï¼Œâ€œä¸–ç•Œä¸Šæ²¡æœ‰å¿«é€Ÿè‡´å¯Œçš„æ·å¾„ï¼Œå¦‚æœè°å‘Šè¯‰ä½ æœ‰ï¼Œé‚£ä¸è¿‡æ˜¯ä»–æƒ³ä»ä½ è¿™é‡Œå‘è´¢ç½¢äº†ã€‚â€</p>
<p>Navalï¼šæˆ‘ä»¬è¯´å›æœ‰æ•ˆç‡çš„ä¸–ç•Œã€‚å¦‚æœæœ‰ä¸€ç§ç®€å•çš„è‡´å¯Œæ–¹å¼ï¼Œé‚£å°±æ˜¯å·²ç»è¢«å¼€å‘äº†ã€‚æœ‰å¾ˆå¤šäººä¼šå‘ä½ æ¨é”€å¦‚ä½•èµšé’±çš„äº§å“ï¼Œæ¯”å¦‚ä»–ä»¬æ€»æ˜¯å–ç»™ä½ ä¸€äº›79-95ç¾å…ƒçš„è¯¾ç¨‹æˆ–ä¸€äº›æœ‰å£°è¯»ç‰©ï¼Œæˆ–ç ”è®¨ä¼šé—¨ç¥¨ã€‚è¿™æ²¡ä»€ä¹ˆå¯¹é”™ï¼Œäººä»¬æ€»æ˜¯éœ€è¦è°‹ç”Ÿã€‚ä»–ä»¬å¯èƒ½çœŸçš„æœ‰å¾ˆå¥½çš„å»ºè®®ï¼Œä½†å¦‚æœä»–ä»¬ç»™ä½ å¯è¡Œçš„ã€é«˜è´¨é‡çš„å»ºè®®ï¼Œæ‰¿è®¤è¿™ï¼ˆè‡´å¯Œï¼‰æ˜¯ä¸€ä¸ªè‰°éš¾çš„æ—…ç¨‹ï¼Œä¼šèŠ±å¾ˆå¤šæ—¶é—´ï¼Œé‚£ä¹ˆæˆ‘è®¤ä¸ºè¿™æ˜¯ç°å®çš„ã€‚ä½†æ˜¯ï¼Œå¦‚æœä»–ä»¬å–ç»™ä½ ä¸€äº›å¿«é€Ÿè‡´å¯Œçš„å„ç§çº¿ä¸Šçº¿ä¸‹çš„äº§å“ï¼Œä»–ä»¬åªæ˜¯æƒ³ä»ä½ èº«ä¸Šèµšé’±ï¼Œä½ è¦æ‚é‡ä¸€ä¸‹å®ƒçš„ä»·å€¼ã€‚</p>
<h3>æˆ‘ä»¬ä¸æ”¾å¹¿å‘Šï¼Œå› ä¸ºæˆ‘ä»¬çŸ¥é“é‚£åªä¼šæŸå®³ä¿¡èª‰</h3>
<p>å…³äºæ•´ä¸ªæ¨ç‰¹é£æš´å’Œè¿™ä¸ªæ’­å®¢ï¼Œæˆ‘æƒ³å¼ºè°ƒçš„ä¸€ä»¶äº‹æ˜¯æˆ‘ä»¬è¿™é‡Œæ²¡æœ‰å¹¿å‘Šï¼Œä¹Ÿä¸æ”¶ä»»ä½•è´¹ç”¨ã€‚æˆ‘ä»¬ä¸å–ä»»ä½•ä¸œè¥¿ã€‚ä¸æ˜¯å› ä¸ºæˆ‘ä¸æƒ³èµšæ›´å¤šçš„é’±ï¼Œèµšæ›´å¤šçš„é’±æ€»æ˜¯å¥½çš„ã€‚ä½†æ˜¯ï¼Œå®ƒä¼šå®Œå…¨ç ´åä¼ä¸šçš„ä¿¡èª‰ã€‚å¦‚æœæˆ‘è¯´ï¼Œâ€œå˜¿ï¼Œæˆ‘çŸ¥é“å¦‚ä½•è‡´å¯Œï¼Œæˆ‘è¦æŠŠå®ƒå–ç»™ä½ ã€‚â€œè¿™å°±æ¯äº†å®ƒã€‚</p>
<p>æˆ‘å¹´è½»çš„æ—¶å€™å°±å¼€å§‹æ€è€ƒè‡´å¯Œçš„è¯é¢˜ï¼Œæˆ‘æœ€å–œæ¬¢çš„ä¹¦ä¹‹ä¸€å°±æ˜¯ã€Šå¦‚ä½•è‡´å¯Œã€‹ï¼Œä½œè€…æ˜¯Felix Dennisï¼Œã€ŠMaximã€‹æ‚å¿—çš„åˆ›å§‹äººï¼Œä¸€ä½å»ä¸–çš„äº¿ä¸‡å¯Œç¿ã€‚ä»–å†™äº†å¾ˆå¤šç–¯ç‹‚çš„ä¸œè¥¿ï¼Œä½†ä»–å¯¹è´¢å¯Œçš„ç†è§£çœŸçš„å¥½ã€‚</p>
<p>ä½†æ¯å½“æˆ‘è¯»åˆ°ä»–æˆ–GoDaddyåˆ›å§‹äººé²å‹ƒÂ·å¸•æ£®æ–¯æˆ–å®‰å¾·é²Â·å¡å†…åŸºçš„ä½œå“æ—¶ï¼Œè¿™äº›å·²ç»éå¸¸å¯Œæœ‰çš„äººå†™çš„ä¸œè¥¿ï¼Œä»–ä»¬æ˜¾ç„¶æ˜¯åœ¨å…¶ä»–é¢†åŸŸå‘å®¶è‡´å¯Œçš„ï¼Œè€Œä¸æ˜¯é <strong>æ¨é”€å¦‚ä½•è‡´å¯Œçš„æ–¹æ³•</strong>ã€‚ä»–ä»¬ä¸æ˜¯æƒ³ä»ä½ èº«ä¸Šèµšé’±ã€‚ä»–ä»¬æ˜¾ç„¶æ˜¯æƒ³èµ¢å¾—ä¸€äº›åœ°ä½å’Œä¸€äº›è‡ªå°Šï¼Œå¯¹å§ï¼Œä½ æ€»æ˜¯è¦æœ‰åšæŸäº‹çš„åŠ¨æœºã€‚ä½†æ˜¯ï¼Œè‡³å°‘è¿™æ˜¯ä»–ä»¬æ²¡æœ‰æ’’è°çš„ä¸€ä¸ªæ›´æ¸…æ™°çš„ç†ç”±ã€‚</p>
<h3>æ¯ä¸ªåˆ›å§‹äººéƒ½ä¼šå¯¹ä»–çš„å‘˜å·¥æ’’è°</h3>
<p>åœ¨æŸç§ç¨‹åº¦ä¸Šï¼Œæ¯ä¸ªåˆ›å§‹äººéƒ½è¦å¯¹å…¬å¸çš„æ¯ä¸ªå‘˜å·¥æ’’è°ã€‚ä»–ä»¬å¿…é¡»è®©å‘˜å·¥è§‰å¾—ï¼Œä½ ä¸ºæˆ‘å·¥ä½œæ¯”åšä½ è‡ªå·±æƒ³åšçš„äº‹ï¼Œä¸ºä½ è‡ªå·±å·¥ä½œï¼ˆåˆ›ä¸šï¼‰è¦å¥½ã€‚åŒæ ·ä½œä¸ºä¸€ä¸ªåˆ›å§‹äººï¼Œä½†å¯¹æ­¤æˆ‘æ€»æ˜¯å¾ˆéš¾æ¥å—ã€‚</p>
<p>äºæ˜¯æˆ‘å¼€å§‹å°è¯•ä¸€äº›ä¿æŒè¯šå®çš„æ–¹æ³•ï¼Œæˆ‘æ‹›å‹Ÿäº†ä¸€äº›æœ‰ä¼ä¸šå®¶ç²¾ç¥çš„å‘˜å·¥ï¼Œç„¶åå‘Šè¯‰ä»–ä»¬ï¼Œâ€œä½ ä»¬å¯ä»¥åœ¨è¿™ä¸ªå…¬å¸æˆä¸ºä¼ä¸šå®¶ï¼Œå½“ä½ ä»¬å‡†å¤‡å¥½å¼€å§‹è‡ªå·±çš„äº‹ä¸šçš„é‚£ä¸€å¤©ï¼Œæˆ‘å°†æ”¯æŒä½ ä»¬ã€‚æˆ‘æ°¸è¿œä¸ä¼šå¦¨ç¢ä½ åˆ›ä¸šã€‚ä½†åœ¨ä½ æƒ³å¼€å§‹ä¸€äº›æ–°ä¸œè¥¿ä¹‹å‰ï¼Œè¿™é‡Œå¯èƒ½æ˜¯ä¸€ä¸ªå¥½åœ°æ–¹ï¼Œè®©ä½ å­¦ä¹ å¦‚ä½•æ„å»ºä¸€ä¸ªè‰¯å¥½çš„å›¢é˜Ÿï¼Œå»ºç«‹ä¸€ä¸ªå¥½çš„ä¼ä¸šæ–‡åŒ–ï¼Œé€šè¿‡æ‰“ç£¨è‡ªå·±çš„æŠ€èƒ½æ‰¾åˆ°é€‚åˆçš„äº§å“å¸‚åœºï¼Œè§æ›´å¤šæ›´åŠ ä¼˜ç§€çš„äººã€å’Œä»–ä»¬äº¤æµç¢°æ’ï¼Œç›´åˆ°æœ€ç»ˆæƒ³é€šè‡ªå·±åˆ°åº•æƒ³åšä»€ä¹ˆã€‚å› ä¸ºå®šä½ã€æ—¶æœºã€ä»¥åŠå¿…è¦çš„æ·±æ€ç†Ÿè™‘ï¼Œåœ¨å¼€å§‹åˆ›ä¸šæ—¶å¾ˆé‡è¦ã€‚â€</p>
<p>ä½†æˆ‘ä»æ¥ä¸ä¼šåšä¸€äº›æ— è°“çš„ç›‘ç£ï¼Œå‘Šè¯‰å‘˜å·¥â€œä½ å¿…é¡»åœ¨æ—©ä¸Š8ç‚¹ä¹‹å‰åˆ°ä½ çš„åŠå…¬æ¡Œã€‚â€å› ä¸ºæˆ‘è‡ªå·±å°±ä¸ä¼šåœ¨æ—©ä¸Š8ç‚¹ä¹‹å‰ååœ¨åŠå…¬æ¡Œå‰ï¼Œæˆ‘æƒ³è¦è‡ªç”±ã€‚è¿™å°±åƒå‘Šè¯‰ä»–ä»¬ä½ ä»Šå¤©å¾ˆæ“…é•¿åšè‘£äº‹ï¼Œæ˜å¤©ä½ å°±ä¼šæˆä¸ºå‰¯æ€»è£ã€‚è¿™ç§è¯æˆ‘è‡ªå·±éƒ½ä¸ç›¸ä¿¡ã€‚</p>
<h3>ä»»ä½•æä¾›è‡´å¯Œå»ºè®®çš„äººï¼Œå»æƒ³æƒ³åˆ«çš„èµšé’±æ–¹å¼å§</h3>
<p>å°±å¥½åƒï¼Œä½ ä¸ä¼šæƒ³ä»ä¸€ä¸ªèƒ–å­é‚£é‡Œå­¦åˆ°å¦‚ä½•ä¿æŒå¥åº·ï¼›ä¹Ÿä¸ä¼šæƒ³ä»ä¸€ä¸ªæŠ‘éƒçš„äººé‚£é‡Œå­¦åˆ°å¦‚ä½•å¿«ä¹ã€‚æ‰€ä»¥ï¼Œä½ ä¸ä¼šæƒ³ä»ä¸€ä¸ªç©·äººé‚£é‡Œå­¦ä¹ å¦‚ä½•è‡´å¯Œï¼Œä¹Ÿä¸€å®šä¸æƒ³ä»ä¸€ä¸ªé€šè¿‡å‘Šè¯‰åˆ«äººå¦‚ä½•è‡´å¯Œæ¥èµšé’±çš„äººé‚£é‡Œå­¦ä¹ å¦‚ä½•è‡´å¯Œã€‚æƒ³æƒ³éƒ½å¥‡æ€ªä¸æ˜¯å—ï¼Ÿ</p>
<p>Niviï¼šä»»ä½•æ—¶å€™ï¼Œå¦‚æœä½ çœ‹åˆ°æœ‰äººæŒ‰ç…§å¤§å¸ˆçš„å»ºè®®è‡´å¯Œäº†ï¼Œåªè¦è®°ä½ï¼Œåœ¨ä»»ä½•éšæœºäº‹ä»¶ä¸­ï¼Œå¦‚æœä½ æŒç»­è¶³å¤Ÿé•¿çš„æ—¶é—´ï¼Œå¦‚æœæœ‰è¶³å¤Ÿå¤šçš„äººå‚ä¸å…¶ä¸­ï¼Œä½ å°±ä¼šå¾—åˆ°æƒ³è¦çš„ç»“æœã€‚</p>
<p>Navalï¼šè¿™é‡Œé¢å­˜åœ¨ç€å¹¸å­˜è€…åå·®ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå½“å•†ä¸šè®°è€…å’Œç»æµå­¦å®¶è°ˆè®ºç§è¥å…¬å¸æ—¶ï¼Œä½ å¯ä»¥å®Œå…¨å¿½è§†ä»–ä»¬çš„åŸå› ã€‚</p>
<p>æˆ‘ä¸ä¼šæŒ‡åé“å§“ï¼Œä½†å½“ä¸€ä½è‘—åçš„ç»æµå­¦å®¶å¯¹æ¯”ç‰¹å¸å¤§åŠ æŠ¨å‡»ï¼Œæˆ–è€…å½“ä¸€åå•†ä¸šè®°è€…æ”»å‡»æœ€æ–°ä¸€å®¶å³å°†ä¸Šå¸‚çš„å…¬å¸æ—¶ï¼Œè¿™å®Œå…¨æ˜¯èƒ¡è¯´å…«é“ã€‚é‚£äº›äººä»€ä¹ˆéƒ½æ²¡åšï¼Œä»–ä»¬åªæ˜¯ã€Œä¸“ä¸šçš„è¯„è®ºå®¶ã€ã€‚ä»–ä»¬å¯¹èµšé’±ä¸€æ— æ‰€çŸ¥ã€‚ä»–ä»¬åªçŸ¥é“å¦‚ä½•é€šè¿‡åæ§½å’Œæ‰¹è¯„æ¥åšçœ¼çƒã€‚ä½ è¦æ˜¯ä¸åœçš„è¢«ä»–ä»¬æ´—è„‘å¯å°±å¤ªè ¢äº†ã€‚</p>
<p>æœ€åæˆ‘æƒ³å¼•ç”¨çº³è¥¿å§†Â·å¡”å‹’å¸ƒ*çš„ä¸€å¥è¯ï¼Œæˆ‘å¾ˆå–œæ¬¢ä»–è¯´çš„è¯ï¼Œâ€œå¦‚æœä½ æƒ³æˆä¸ºä¸€ä¸ªå“²å­¦å®¶ï¼Œå…ˆå½“å›½ç‹ï¼Œå†å½“å“²å­¦å®¶ã€‚â€ä¸æ˜¯å…ˆæˆä¸ºå“²å­¦å®¶ï¼Œå†æˆä¸ºå›½ç‹ã€‚â€</p>
<p>Niviï¼šæˆ‘å¾ˆé«˜å…´ä½ æåˆ°äº†å¡”å‹’å¸ƒï¼Œæˆ‘æƒ³è¯·å¤§å®¶è®°ä½ä»–æˆåä½œçš„ä¹¦åã€Šéšæœºéª—å±€ã€‹ã€‚</p>
<p>Navalï¼šæˆ‘ä»¬åœ¨è¿™æœŸæ’­å®¢ä¸­æœ‰äº›æ¨¡ç³Šçš„åŸå› ä¹‹ä¸€æ˜¯ï¼Œæˆ‘ä»¬è¯•å›¾å»è®¨è®ºå€¼å¾—é•¿æœŸéµå¾ªçš„åŸåˆ™ï¼Œè€Œä¸ä»…ä»…æ˜¯å‘Šè¯‰ä½ æ˜¨å¤©ä¸­å¥–çš„å½©ç¥¨å·ã€‚</p>
<h2>ç¬¬ä¸‰åä¸ƒæ¡ï¼šäº§å“åŒ–ä½ è‡ªå·±</h2>
<p><strong>æ‰¾å‡ºä½ æœ€æ“…é•¿çš„ï¼Œå¹¶å°½å¯èƒ½å¤šåœ°è¿ç”¨æ æ†</strong></p>
<p>Niviï¼šä½ ç”¨ä¸¤ä¸ªè¯æ¦‚æ‹¬äº†æ•´ä¸ªæ¨ç‰¹é£æš´ã€‚â€œäº§å“åŒ–ï¼ˆProductizeï¼‰ä½ è‡ªå·±ã€‚â€</p>
<p>Navalï¼šäº§å“åŒ–ä½ è‡ªå·±è¿™ä¸ªæ¦‚å¿µçš„æ„æ€æ˜¯ï¼š<strong>ä½ è‡ªå·±</strong>æ˜¯ç‹¬ç‰¹çš„ã€æœ‰è´£ä»»å¿ƒçš„ï¼Œ<strong>äº§å“åŒ–</strong>éœ€è¦ç‹¬ç‰¹çš„æŠ€èƒ½å’Œæ æ†ã€‚æ‰€ä»¥æ‰€æœ‰è¿™äº›éƒ¨åˆ†ï¼Œä½ å¯ä»¥æŠŠå®ƒä»¬åˆå¹¶æˆè¿™ä¸¤ä¸ªè¯ã€‚</p>
<p>å¦‚æœä½ æƒ³è¦é•¿æœŸè‡´å¯Œï¼Œä½ åº”è¯¥é—®è‡ªå·±ï¼šâ€œè¿™æ˜¯æˆ‘çš„çœŸå®æƒ³æ³•å—ï¼Ÿâ€æˆ‘åœ¨æ‰“é€ çš„æ˜¯æˆ‘è‡ªå·±å—ï¼Ÿç„¶åï¼Œâ€œæˆ‘åœ¨ç”Ÿäº§å®ƒå—ï¼Ÿâ€æˆ‘åœ¨è§„æ¨¡åŒ–å®ƒå—ï¼Ÿæˆ‘æ˜¯åœ¨ç”¨åŠ³åŠ¨åŠ›è¿˜æ˜¯èµ„æœ¬ï¼Œä»£ç è¿˜æ˜¯åª’ä½“æ¥è¡¡é‡ï¼Ÿæ‰€ä»¥è¿™æ˜¯ä¸€ä¸ªéå¸¸æ–¹ä¾¿ã€ç®€å•çš„è®°å¿†æ–¹æ³•ã€‚</p>
<p>è¿™æ˜¯ä»€ä¹ˆæ’­å®¢ï¼Ÿè¿™æ˜¯ä¸€ä¸ªå«åšNavalçš„æ’­å®¢ã€‚æˆ‘å®é™…ä¸Šæ˜¯åœ¨ç”¨æ’­å®¢åœ¨äº§å“åŒ–è‡ªå·±çš„ä¸€éƒ¨åˆ†</p>
<p>Niviï¼šä½ è¦å¼„æ¸…æ¥šä½ æœ‰ä»€ä¹ˆç‰¹åˆ«æ“…é•¿çš„ï¼Œæˆ–è€…ä½ æœ‰ä»€ä¹ˆç‰¹åˆ«ä¹‹å¤„ï¼Œç„¶åå°½å¯èƒ½åœ°è¿ç”¨æ æ†ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ä½ ä¸æ˜¯åœ¨åˆ»æ„èµšé’±ï¼Œèµšé’±ç”šè‡³ä¹Ÿä¸æ˜¯ä¸€ç§æŠ€èƒ½ã€‚ä½ å°±æ˜¯åœ¨åšä½ è‡ªå·±ï¼Œæ¢ç´¢æˆåƒä¸Šç™¾ç§æ–¹å¼æ‰¾åˆ°çœŸæ­£çš„ä½ ã€‚</p>
<h2>æ‰¾åˆ°è®©ä½ å¯Œæœ‰ã€å¥åº·å’Œæœ‰åˆ›é€ åŠ›çš„çˆ±å¥½</h2>
<p>Navalï¼šèµšé’±åº”è¯¥å–å†³äºä½ æ˜¯è°å’Œä½ å–œæ¬¢åšä»€ä¹ˆã€‚å¦ä¸€æ¡æˆ‘ç‰¹åˆ«å–œæ¬¢çš„æ¨ç‰¹æ˜¯...è¿™ä¸æ˜¯æˆ‘è¯´çš„ï¼Œæ˜¯åˆ«äººå‘è¿‡çš„ã€‚ä»–ä»¬è¯´â€œæ‰¾ä¸‰ä¸ªçˆ±å¥½â€ã€‚ä¸€ä¸ªèƒ½è®©ä½ èµšé’±ï¼Œä¸€ä¸ªèƒ½è®©ä½ ä¿æŒå¥åº·ï¼Œä¸€ä¸ªèƒ½è®©ä½ å¯Œæœ‰åˆ›é€ åŠ›ã€‚â€</p>
<p>æˆ‘ä¼šç¨å¾®æ”¹å˜ä¸€ä¸‹ã€‚æˆ‘ä¼šè¯´ï¼Œæ‰¾åˆ°ä¸‰ä¸ªçˆ±å¥½ï¼Œä¸€ä¸ªè®©ä½ èµšé’±ï¼Œä¸€ä¸ªè®©ä½ å¥åº·ï¼Œä¸€ä¸ªè®©ä½ æ›´èªæ˜ã€‚å°±æˆ‘è€Œè¨€ï¼Œæˆ‘çš„çˆ±å¥½æ˜¯é˜…è¯»ï¼Œèµšé’±ï¼Œå› ä¸ºæˆ‘å–œæ¬¢ä¸åˆåˆ›å…¬å¸åˆä½œã€‚è¦ä¹ˆæŠ•èµ„ï¼Œè¦ä¹ˆé›†æ€å¹¿ç›Šï¼Œè¦ä¹ˆå¼€å§‹è¡ŒåŠ¨ã€‚æˆ‘å¾ˆå–œæ¬¢åˆ›ä¸šåˆæœŸçš„åˆ›æ„å’Œåˆ›é€ é˜¶æ®µã€‚</p>
<p>è‡³äºè®©ä½ ä¿æŒå¥åº·çš„çˆ±å¥½ï¼Œæˆ‘çœŸçš„æ²¡æœ‰ã€‚æˆ‘æœ€å–œæ¬¢çš„æ˜¯ç‘œä¼½ï¼Œä½†é‚£æ˜¯æˆ‘å´©æºƒçš„åœ°æ–¹ã€‚æˆ‘è®¤ä¸ºï¼Œé‚£äº›æ—©å¹´å‘ç°å†²æµªã€æ¸¸æ³³ã€ç½‘çƒæˆ–æŸç§ä»–ä»¬ä¸€ç”Ÿä¸­å¤§éƒ¨åˆ†æ—¶é—´éƒ½åœ¨åšçš„è¿åŠ¨çš„äººæ˜¯éå¸¸å¹¸è¿çš„ï¼Œå› ä¸ºä»–ä»¬å‘ç°äº†ä¸€ç§ä½¿ä»–ä»¬å¥åº·çš„çˆ±å¥½ã€‚</p>
]]></content>
    <category term="è½¬è½½"/>
    <published>2022-10-11T00:00:00.000Z</published>
  </entry>
  <entry>
    <title type="text">ç¨‹åºå‘˜å»¶å¯¿æŒ‡å—</title>
    <id>http://blog.cjhe.top/share/how-to-live-longer.html</id>
    <link href="http://blog.cjhe.top/share/how-to-live-longer.html"/>
    <updated>2024-05-06T02:44:40.000Z</updated>
    <summary type="html"><![CDATA[<p>ã€è½¬ã€‘<a href="https://github.com/geekan/HowToLiveLonger" target="_blank" rel="noopener noreferrer">åŸæ–‡é“¾æ¥</a></p>
]]></summary>
    <content type="html"><![CDATA[<p>ã€è½¬ã€‘<a href="https://github.com/geekan/HowToLiveLonger" target="_blank" rel="noopener noreferrer">åŸæ–‡é“¾æ¥</a></p>
<!-- more -->
<h1>ç¨‹åºå‘˜å»¶å¯¿æŒ‡å—</h1>

<h2>1. æœ¯è¯­</h2>
<ul>
<li>ACM: All-Cause Mortality / å…¨å› æ­»äº¡ç‡</li>
</ul>
<h2>2. ç›®æ ‡</h2>
<ul>
<li>ç¨³å¥åœ°æ´»å¾—æ›´ä¹…</li>
</ul>
<h2>3. å…³é”®ç»“æœ</h2>
<ul>
<li>é™ä½66.67%å…¨å› æ­»äº¡ç‡</li>
<li>å¢åŠ ~20å¹´é¢„æœŸå¯¿å‘½</li>
<li><s>ç»´æŒå¤šå·´èƒºäºä¸­è½´</s></li>
</ul>
<h2>4. åˆ†æ</h2>
<ul>
<li>ä¸»è¦å‚è€ƒï¼šå¯¹ACMçš„å­¦æœ¯æ–‡çŒ®ç›¸å¯¹è¾ƒå¤šï¼Œå¯ä»¥ä½œä¸ºä¸»è¦å‚è€ƒ</li>
<li>å¢åŠ å¯¿å‘½ä¸ACMå…³ç³»éçº¿æ€§ï¼šæ˜¾ç„¶å¢åŠ å¯¿å‘½ä¸ACMå…³ç³»æ˜¯éçº¿æ€§å‡½æ•°ï¼Œè¿™é‡Œå‡è®¾ <code>DeltaLifeSpan=(1/(1+DeltaACM)-1)*10</code>ï¼ˆDeltaACMä¸ºACMå˜åŒ–å€¼ï¼›å…¬å¼æ¬¢è¿ä¼˜åŒ–ï¼‰</li>
<li>å˜é‡æ— æ³•ç®€å•å åŠ ï¼šæ˜¾ç„¶å„ä¸ªå˜é‡ä¹‹é—´å¹¶ä¸ç¬¦åˆç‹¬ç«‹åŒåˆ†å¸ƒå‡è®¾ï¼Œå˜é‡ä¹‹é—´çš„å®é™…å½±å“ä¹Ÿå¹¶ä¸æ˜ç¡®</li>
<li>å­˜åœ¨çŸ›ç›¾è§‚ç‚¹ï¼šæ‰€æœ‰çš„è¯æ®éƒ½æœ‰æ–‡çŒ®/ç ”ç©¶å¯¹åº”ï¼Œä½†æ³¨æ„åˆ°ï¼šæœ‰äº›æ–‡çŒ®ä¹‹é—´æœ‰æ˜¾è‘—çŸ›ç›¾çš„è§‚ç‚¹ï¼ˆå¦‚å¯¹äºç¢³æ°´æ‘„å…¥æ¯”ä¾‹çš„çŸ›ç›¾ï¼‰ï¼›æœ‰äº›æ–‡çŒ®å­˜åœ¨è¾ƒå¤§äº‰è®®ï¼ˆå¦‚è®¤ä¸º22ç‚¹å‰ç¡è§‰ä¼šæå‡43%å…¨å› æ­»äº¡ç‡ï¼‰</li>
<li>ç ”ç©¶ä»…è¡¨è¾¾ç›¸å…³ï¼šæ‰€æœ‰æ–‡çŒ®è¡¨æ˜çš„æ›´å¤šæ˜¯ç›¸å…³è€Œéå› æœï¼Œåœ¨é˜…è¯»æ—¶è¦è€ƒè™‘æ–‡çŒ®æ˜¯å¦å……åˆ†è¯æ˜äº†å› æœ â€”â€” å¦‚æŸæ–‡çŒ®è¡¨æ˜äº†æ—¥å‡&gt;=7000æ­¥çš„äººæœ‰æ˜¾è‘—ä½çš„å…¨å› æ­»äº¡ç‡ã€‚ä½†æ­¥æ•°å°‘çš„äººå¯èƒ½åŒ…å«æ›´å¤šé•¿æœŸç—…æ‚£ï¼Œå¦‚æœæ²¡æœ‰åˆç†çš„æ’é™¤è¿™å—æ•°æ®ï¼Œé‚£æ­¤æ–‡çŒ®è°ƒæŸ¥å¤±çœŸ</li>
</ul>
<h2>5. è¡ŒåŠ¨</h2>
<ul>
<li>è¾“å…¥
<ul>
<li>å›ºä½“ï¼šåƒç™½è‚‰ï¼ˆ-11%~-3% ACMï¼‰ã€è”¬æœä¸ºä¸»ï¼ˆ-26%~-17% ACMï¼‰ï¼Œå¤šåƒè¾£ï¼ˆ-23% ACMï¼‰ï¼Œå¤šåƒåšæœï¼ˆ-27%~-4% ACMï¼‰ï¼Œ<em>å°‘åƒè›‹é»„ï¼ˆå¦åˆ™+7% ACM/0.5é¢—/å¤©ï¼‰ï¼ˆå­˜åœ¨äº‰è®®ï¼‰</em>ï¼Œä¸­é‡ç¢³æ°´ã€å¤šåƒæ¤ç‰©è›‹ç™½ï¼ˆ-10% ACMï¼‰ï¼Œå°‘åƒè¶…åŠ å·¥é£Ÿç‰©ï¼ˆ-62%~-18%ï¼‰</li>
<li>æ¶²ä½“ï¼šå–å’–å•¡ï¼ˆ-22%~-12% ACMï¼‰ï¼Œå–ç‰›å¥¶ï¼ˆ-17%~-10% ACMï¼‰ï¼Œå–èŒ¶ï¼ˆ-15%~-8% ACMï¼‰ï¼Œå°‘å–æˆ–ä¸å–ç”œå‘³é¥®æ–™ï¼ˆå¦åˆ™æ¯å¤©ä¸€æ¯+7% ACMï¼Œ+å¤šå·´èƒºï¼‰ï¼Œæˆ’é…’æˆ–æ¯å‘¨100gï¼ˆçº¯é…’ç²¾é‡(g)=é¥®é…’é‡(ml)Ã—é…’ç²¾æµ“åº¦(%)Ã—é…’ç²¾å¯†åº¦0.8g/mlï¼‰å†…ï¼ˆå¦åˆ™+~50% ACMï¼Œæ— ä¸Šé™ï¼‰</li>
<li>æ°”ä½“ï¼šä¸å¸çƒŸï¼ˆå¦åˆ™+~50% ACMï¼Œ-12~-11å¹´å¯¿å‘½ï¼‰</li>
<li>å…‰ç…§ï¼šæ™’å¤ªé˜³ï¼ˆ-~40% ACMï¼‰</li>
<li>è¯ç‰©ï¼šäºŒç”²åŒèƒï¼ˆç³–å°¿ç—…äººç›¸æ¯”æ­£å¸¸äººå¯ä»¥+3å¹´ï¼‰ã€å¤åˆç»´ç”Ÿç´ ï¼ˆ-8%ç™Œç—‡é£é™©ï¼‰ã€äºšç²¾èƒºï¼ˆ-60%~-30% ACMï¼‰ã€è‘¡è„ç³–èƒºï¼ˆ-39% ACMï¼‰</li>
</ul>
</li>
<li>è¾“å‡º
<ul>
<li>è¿åŠ¨ï¼šæ¯å‘¨3æ¬¡45åˆ†é’ŸæŒ¥æ‹è¿åŠ¨ï¼ˆ-47% ACMï¼‰</li>
<li>æ—¥å¸¸ï¼šåˆ·ç‰™ï¼ˆ-25% ACMï¼‰</li>
<li>ç¡çœ ï¼šæ¯å¤©ç¡7å°æ—¶å…¨å› æ­»äº¡ç‡æœ€ä½ï¼›ä¸”22-24ç‚¹é—´æœ€å¥½ï¼Œ<em>æ—©ç¡+43% ACMï¼Œæ™šç¡+15% ACMï¼ˆå­˜åœ¨äº‰è®®ï¼‰</em></li>
</ul>
</li>
<li>ä¸Šä¸‹æ–‡
<ul>
<li>ä½“é‡ï¼šå‡è‚¥ï¼ˆ-54% ACMï¼‰</li>
</ul>
</li>
</ul>
<h2>6. è¯æ®</h2>
<h3>6.1. è¾“å…¥</h3>
<h4>6.1.1. å›ºä½“</h4>
<ul>
<li>ç™½è‚‰
<ul>
<li><a href="https://zhuanlan.zhihu.com/p/268401670" target="_blank" rel="noopener noreferrer">JAMAå­åˆŠï¼šé£Ÿç”¨çº¢è‚‰å’ŒåŠ å·¥è‚‰ç±»ä¼šå¢åŠ å¿ƒè„ç—…å’Œæ­»äº¡é£é™©ï¼é±¼è‚‰å’Œå®¶ç¦½è‚‰åˆ™ä¸ä¼š</a>
<ul>
<li>å‡ºå¤„ï¼š<a href="https://jamanetwork.com/journals/jamainternalmedicine/articlepdf/2759737/jamainternal_zhong_2020_oi_190112.pdf" target="_blank" rel="noopener noreferrer">Associations of Processed Meat, Unprocessed Red Meat, Poultry, or Fish Intake With Incident Cardiovascular Disease and All-Cause Mortality</a></li>
<li>å¢åŠ çº¢è‚‰æ‘„å…¥ä¸æ­»äº¡é£é™©ç›¸å…³ã€‚å…«å¹´å†…å¹³å‡æ¯å¤©å¢åŠ è‡³å°‘åŠä»½çº¢è‚‰æ‘„å…¥ï¼ˆåŠä»½çº¢è‚‰ç›¸å½“äº14gåŠ å·¥çº¢è‚‰æˆ–40géåŠ å·¥çº¢è‚‰ï¼‰çš„è°ƒæŸ¥å¯¹è±¡ï¼Œåœ¨æ¥ä¸‹æ¥å…«å¹´å†…å…¨å› æ­»äº¡é£é™©å¢åŠ 10ï¼…ï¼ˆHR, 1.10; 95%CI, 1.04-1.17ï¼‰ï¼›æ¯å‘¨åƒä¸¤ä»½çº¢è‚‰æˆ–åŠ å·¥è‚‰ç±»ï¼ˆä½†ä¸åŒ…æ‹¬å®¶ç¦½æˆ–é±¼ç±»ï¼‰ä¼šä½¿å…¨å› æ­»äº¡é£é™©å¢åŠ 3%</li>
<li><img src="https://user-images.githubusercontent.com/2707039/163703960-6f321de5-4daa-4ea5-95b9-af9c96f1c1bc.jpg" alt="çº¢è‚‰" tabindex="0" loading="lazy"><figcaption>çº¢è‚‰</figcaption></li>
</ul>
</li>
<li><a href="https://www.zhihu.com/question/67223570/answer/809785380" target="_blank" rel="noopener noreferrer">çº¢è‚‰å’Œç™½è‚‰æœ€å¤§çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿä¸ºå•¥è¦è¿™ä¹ˆåˆ†å‘¢ï¼Ÿ</a></li>
</ul>
</li>
<li>è”¬æœ
<ul>
<li><a href="https://www.sohu.com/a/322360740_164924" target="_blank" rel="noopener noreferrer">æ¯å¹´54ä¸‡äººæ­»äº¡ï¼Œç«Ÿæ˜¯å› ä¸ºæ°´æœåƒå¾—å°‘ï¼ï¼Ÿè¿™å·²æˆåå¤§æ­»äº¡å› ç´ ä¹‹ä¸€ï¼</a>
<ul>
<li>å‡ºå¤„ï¼š<a href="https://academic.oup.com/cdn/article-abstract/3/Supplement_1/nzz028.FS01-01-19/5516583" target="_blank" rel="noopener noreferrer">Estimated Global, Regional, and National Cardiovascular Disease Burdens Related to Fruit and Vegetable Consumption: An Analysis from the Global Dietary Database (FS01-01-19)</a></li>
<li>æ¯å¤©æ‘„å…¥200å…‹æ–°é²œæ°´æœå¯ä½¿æ­»äº¡ç‡é™ä½17%ï¼Œç³–å°¿ç—…å¤§è¡€ç®¡å¹¶å‘ç—‡ï¼ˆå¦‚ä¸­é£ã€ç¼ºè¡€æ€§å¿ƒè„ç—…ç­‰ï¼‰é£é™©é™ä½13%ï¼ŒåŠç³–å°¿ç—…å°è¡€ç®¡å¹¶å‘ç—‡ï¼ˆå¦‚ç³–å°¿ç—…è‚¾ç—…ã€ç³–å°¿ç—…çœ¼ç—…ã€ç³–å°¿ç—…è¶³ç—…ç­‰ï¼‰é£é™©é™ä½28%</li>
</ul>
</li>
<li><a href="https://mp.weixin.qq.com/s/E6BAi-Vnhr1jXBm0Pys2ZQ" target="_blank" rel="noopener noreferrer">ã€Šè‡ªç„¶ã€‹å­åˆŠï¼šæ¯å¤©äºŒä¸¤è¥¿å…°èŠ±ï¼Œå¥åº·é•¿å¯¿éƒ½æœ‰å•¦ï¼åˆ†æè¿‘6ä¸‡äºº23å¹´çš„æ•°æ®å‘ç°ï¼Œåƒå«é»„é…®ç±»é£Ÿç‰©ä¸æ­»äº¡é£é™©é™ä½20%ç›¸å…³ä¸¨ä¸´åºŠå¤§å‘ç°</a>
<ul>
<li>å‡ºå¤„ï¼š<a href="https://www.nature.com/articles/s41467-019-11622-x" target="_blank" rel="noopener noreferrer">Flavonoid intake is associated with lower mortality in the Danish Diet Cancer and Health Cohort</a></li>
<li>åƒå«é»„é…®ç±»é£Ÿç‰©ä¸æ­»äº¡é£é™©é™ä½20%ç›¸å…³</li>
<li><img src="https://user-images.githubusercontent.com/2707039/163703969-42e64f88-e727-4e7d-85f2-07a92e29b613.jpg" alt="é»„é…®" tabindex="0" loading="lazy"><figcaption>é»„é…®</figcaption></li>
<li>Bondonnoåšå£«è¯´é“â€œåƒä¸åŒè”¬èœã€æ°´æœè¡¥å……ï¼Œä¸åŒç§ç±»çš„é»„é…®ç±»åŒ–åˆç‰©æ˜¯å¾ˆé‡è¦çš„ï¼Œè¿™å¾ˆå®¹æ˜“é€šè¿‡é¥®é£Ÿå®ç°ï¼šä¸€æ¯èŒ¶ã€ä¸€ä¸ªè‹¹æœã€ä¸€ä¸ªæ©˜å­ã€100å…‹è“è“ï¼Œæˆ–100å…‹è¥¿å…°èŠ±ï¼Œå°±èƒ½æä¾›å„ç§é»„é…®ç±»åŒ–åˆç‰©ï¼Œå¹¶ä¸”æ€»å«é‡è¶…è¿‡500æ¯«å…‹ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>è¾£æ¤’
<ul>
<li><a href="https://3g.163.com/dy/article/F6Q7I1ME053228ZU.html" target="_blank" rel="noopener noreferrer">è¾£æ¤’æˆæ­»äº¡å…‹æ˜Ÿï¼Ÿæ®è°ƒç ”ï¼Œå¸¸åƒè¾£æ‚£ç—…æ­»äº¡é£é™©å¯é™ä½61%</a>
<ul>
<li>å‡ºå¤„1ï¼š<a href="https://www.sciencedirect.com/science/article/pii/S0735109719382063" target="_blank" rel="noopener noreferrer">Chili pepper consumption and mortality in Italian adults</a></li>
<li>å‡ºå¤„2ï¼š<a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0169876" target="_blank" rel="noopener noreferrer">The Association of Hot Red Chili Pepper Consumption and Mortality: A Large Population-Based Cohort Study</a></li>
<li>2017å¹´Plos One çš„å¦ä¸€é¡¹æ¥è‡ªç¾å›½çš„ç ”ç©¶ä»¥16179åï¼Œå¹´é¾„åœ¨18å²ä»¥ä¸Šçš„äººç¾¤ä¸ºå¯¹è±¡ï¼Œå¹¶å¯¹å…¶è¿›è¡Œäº†é«˜è¾¾19å¹´çš„éšè®¿ï¼Œå‘ç°åœ¨4946ä¾‹æ­»äº¡æ‚£è€…ä¸­ï¼Œé£Ÿç”¨è¾£æ¤’çš„å‚ä¸è€…çš„å…¨å› æ­»äº¡ç‡ä¸º21.6ï¼…ï¼Œè€Œæœªé£Ÿç”¨è¾£æ¤’çš„å‚ä¸è€…çš„å…¨å› æ­»äº¡ç‡ä¸º33.6ï¼…ã€‚ç›¸è¾ƒäºä¸åƒè¾£æˆ–å¾ˆå°‘åƒï¼ˆå°‘äºæ¯å‘¨ä¸¤æ¬¡ï¼‰çš„äººç¾¤ï¼Œæ¯å‘¨åƒè¾£ï¼4æ¬¡çš„äººç¾¤æ€»æ­»äº¡é£é™©é™ä½23%ï¼Œå¿ƒè¡€ç®¡æ­»äº¡é£é™©é™ä½34%ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>é¸¡è›‹
<ul>
<li><a href="https://m.thepaper.cn/baijiahao_11540780" target="_blank" rel="noopener noreferrer">æ¯å¤©å¤šåƒåŠä¸ªè›‹ï¼Œå¢åŠ 7%çš„å…¨å› å’Œå¿ƒè¡€ç®¡æ­»äº¡é£é™©ï¼Ÿ</a>
<ul>
<li>å‡ºå¤„ï¼š<a href="https://dietandhealth.cancer.gov/" target="_blank" rel="noopener noreferrer">NIH-AARPå·¥ä½œä¸»é¡µ</a>ã€<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7872242/" target="_blank" rel="noopener noreferrer">Egg and cholesterol consumption and mortality from cardiovascular and different causes in the United States: A population-based cohort study</a></li>
<li>æ¯å¤©å¤šåƒåŠä¸ªè›‹ï¼Œå¢åŠ 7%çš„å…¨å› å’Œå¿ƒè¡€ç®¡æ­»äº¡é£é™©ï¼Ÿåœ¨å‡è®¾æ€§æ›¿ä»£åˆ†æä¸­ï¼Œç ”ç©¶è€…å‘ç°ï¼Œç”¨ç­‰é‡çš„è›‹æ¸…/é¸¡è›‹æ›¿ä»£ç‰©ã€å®¶ç¦½ã€é±¼ã€ä¹³åˆ¶å“ã€åšæœå’Œè±†ç±»åˆ†åˆ«æ›¿ä»£åŠåªå…¨è›‹ï¼ˆ25å…‹/å¤©ï¼‰å¯ä»¥é™ä½6%ã€8%ã€9%ã€7%ã€13%å’Œ10%çš„å…¨å› æ­»äº¡ç‡ã€‚
*<a href="https://raw.githubusercontent.com/qhy040404/Image-Resources-Repo/master/pmed.1003508.g002.jpg" target="_blank" rel="noopener noreferrer">é¸¡è›‹</a></li>
</ul>
</li>
</ul>
</li>
<li>åšæœ
<ul>
<li><a href="https://www.163.com/dy/article/GKVOMMMF05148PF4.html" target="_blank" rel="noopener noreferrer">å“ˆä½›20å¹´ç ”ç©¶ï¼šåƒæ ¸æ¡ƒçš„äººæ›´é•¿å¯¿ï¼Œæ˜¾è‘—å‡å°‘å…¨å› æ­»äº¡ï¼Œå»¶é•¿å¯¿å‘½</a>
<ul>
<li>å‡ºå¤„ï¼š<a href="https://www.mdpi.com/2072-6643/13/8/2699/pdf" target="_blank" rel="noopener noreferrer">Association of Walnut Consumption with Total and Cause-Specific Mortality and Life Expectancy in US Adults</a></li>
<li>é€šè¿‡åˆ†æå‘ç°ï¼Œç»å¸¸é£Ÿç”¨æ ¸æ¡ƒå¯ä»¥å»¶é•¿å¯¿å‘½ï¼Œé™ä½å¿ƒè¡€ç®¡ç–¾ç—…æ­»äº¡é£é™©ã€‚æ¯”èµ·ä¸åƒæ ¸æ¡ƒï¼Œæ¯å‘¨é£Ÿç”¨æ ¸æ¡ƒ5ä»½ä»¥ä¸Šï¼ˆ1ä»½28å…‹ï¼‰çš„å¥åº·é¢„æœŸå¯¿å‘½å»¶é•¿1.3å²ï¼Œå…¨å› æ­»äº¡é£é™©é™ä½14%ï¼Œå¿ƒè¡€ç®¡ç–¾ç—…æ­»äº¡ç‡é™ä½25%ã€‚</li>
</ul>
</li>
<li><a href="https://zhuanlan.zhihu.com/p/44454030" target="_blank" rel="noopener noreferrer">ç ”ç©¶ï¼šæ¯æ—¥é£Ÿç”Ÿåšæœï¼Œæ­»äº¡ç‡é™20%</a>
<ul>
<li>å‡ºå¤„1ï¼š<a href="https://www.nejm.org/doi/full/10.1056/NEJMoa1307352" target="_blank" rel="noopener noreferrer">Association of nut consumption with total and cause-specific mortality</a></li>
<li>å‡ºå¤„2ï¼š<a href="https://americanpistachios.cn/sites/china/files/inline-files/APG_Health-%26-Nutrition-Research-Brochure_DEC-19-18.pdf" target="_blank" rel="noopener noreferrer">APG_Health-&amp;-Nutrition-Research-Brochure_DEC-19-18</a></li>
<li>ç ”ç©¶äººå‘˜å‘ç°ï¼Œæ¯å‘¨åƒæ ‘åšæœä½äº1ç›å¸ä»½é‡çš„äººï¼Œæ­»äº¡ç‡é™ä½7ï¼…ã€‚è€Œæ¯å‘¨åƒäº†1ç›å¸ä»½é‡çš„äººï¼Œå‡å°‘11ï¼…çš„æ­»äº¡ç‡ï¼›æ¯å‘¨åƒ2ä»½é‡çš„äººï¼Œå‡ä½13ï¼…ï¼›æ¯å‘¨5è‡³6ä»½é‡è€…ï¼Œå‡å°‘äº†15ï¼…ï¼›ä¸€å‘¨7ä»½ä»¥ä¸Šçš„äººï¼Œæ­»äº¡ç‡åˆ™å‡å°‘20ï¼…ã€‚</li>
<li>å¦å¤–ä¸¤ç¯‡å‘è¡¨åœ¨ã€Šå…¬å…±ç§‘å­¦å›¾ä¹¦é¦†åœ¨çº¿æœŸåˆŠã€‹(Public Library of Science Online Journal)å’Œã€Šç”Ÿç‰©åŒ»å­¦ä¸­å¿ƒã€‹(BioMed Central)ä¸Šçš„åŒ»å­¦é¢„ç§‘ç ”ç©¶è®ºæ–‡ï¼Œå±•ç¤ºäº†è¯•éªŒå¼€å§‹æ—¶çš„æ¨ªæ–­é¢æ•°æ®ã€‚è¿™ä¸¤é¡¹ç ”ç©¶éƒ½è¯„ä¼°äº†7,216åå¯¹è±¡ï¼Œä»¥åŠä»–ä»¬é£Ÿç”¨åšæœçš„é¢‘ç‡å’Œæ•°é‡ä¹‹é—´çš„å…³ç³»ã€‚é‚£äº›æ¯å‘¨é£Ÿç”¨ä¸‰ä»½ä»¥ä¸Šåšæœ(åŒ…æ‹¬å¼€å¿ƒæœ)çš„ç ”ç©¶å¯¹è±¡çš„æ­»äº¡ç‡é™ä½39%ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>é’ ï¼ˆå­˜æœ‰å¤§é‡äº‰è®®ï¼‰
<ul>
<li><a href="https://nursing.medsci.cn/article/show_article.do;jsessionid=A34E8A33918A152CB55BDD2E5FB1798D?id=afe720486ee7" target="_blank" rel="noopener noreferrer">Eur Heart Jï¼šé’ æ‘„å…¥é‡ä¸é¢„æœŸå¯¿å‘½ã€å…¨å› æ­»äº¡ç‡çš„å…³ç³»</a>
<ul>
<li>å‡ºå¤„ï¼š<a href="https://europepmc.org/backend/ptpmcrender.fcgi?accid=PMC8169157&amp;blobtype=pdf" target="_blank" rel="noopener noreferrer">Messerli F H, Hofstetter L, Syrogiannouli L, et al. Sodium intake, life expectancy, and all-cause mortality[J]. European heart journal, 2021, 42(21): 2103-2112.</a></li>
<li><img src="https://user-images.githubusercontent.com/2707039/164894778-9710f18d-e055-4f62-bdcb-618687771d77.jpeg" alt="ehaa947f6" tabindex="0" loading="lazy"><figcaption>ehaa947f6</figcaption></li>
<li>åœ¨è¯¥åˆ†ææ‰€åŒ…å«çš„181ä¸ªå›½å®¶ä¸­ï¼Œç ”ç©¶äººå‘˜å‘ç°é’ æ‘„å…¥é‡ä¸å‡ºç”Ÿæ—¶çš„å¥åº·é¢„æœŸå¯¿å‘½ï¼ˆÎ²=2.6å¹´/å…‹æ¯æ—¥é’ æ‘„å…¥é‡ï¼ŒR<sup>2</sup>=0.66ï¼ŒP&lt;0.001ï¼‰å’Œ60å²æ—¶çš„å¥åº·é¢„æœŸå¯¿å‘½ï¼ˆÎ²=0.3å¹´/å…‹æ¯æ—¥é’ æ‘„å…¥é‡ï¼ŒR<sup>2</sup>=0.60ï¼ŒP=0.048ï¼‰ä¹‹é—´å­˜åœ¨æ­£ç›¸å…³å…³ç³»ï¼Œä½†ä¸éä¼ æŸ“æ€§ç–¾ç—…æ­»äº¡ï¼ˆÎ²=17æ¬¡äº‹ä»¶/å…‹æ¯æ—¥é’ æ‘„å…¥é‡ï¼ŒR<sup>2</sup>=0.43ï¼ŒP=0.100ï¼‰æ— å…³ã€‚ç›¸åï¼Œå…¨å› æ­»äº¡ç‡ä¸é’ æ‘„å…¥é‡æˆè´Ÿç›¸å…³ï¼ˆÎ²=âˆ’131æ¬¡äº‹ä»¶/å…‹æ¯æ—¥é’ æ‘„å…¥é‡ï¼ŒR<sup>2</sup>=0.60ï¼ŒP&lt;0.001ï¼‰ã€‚åœ¨ä»…é™äº46ä¸ªæ”¶å…¥æœ€é«˜å›½å®¶çš„æ•æ„Ÿæ€§åˆ†æä¸­ï¼Œé’ æ‘„å…¥é‡ä¸å‡ºç”Ÿæ—¶çš„å¥åº·é¢„æœŸå¯¿å‘½å‘ˆæ­£ç›¸å…³ï¼ˆÎ²=3.4å¹´/å…‹æ¯æ—¥é’ æ‘„å…¥é‡ï¼ŒR<sup>2</sup>=0.53ï¼ŒP&lt;0.001ï¼‰ï¼Œè€Œä¸å…¨å› æ­»äº¡ç‡ï¼ˆÎ²=âˆ’168æ¬¡äº‹ä»¶/å…‹æ¯æ—¥é’ æ‘„å…¥é‡ï¼ŒR<sup>2</sup>=0.50ï¼ŒP&lt;0.001ï¼‰å‘ˆè´Ÿç›¸å…³ã€‚</li>
<li>è¯¥ï¼ˆå¤§èŒƒå›´ï¼‰ç ”ç©¶è®¤ä¸ºæ›´å¤šçš„é’ æ‘„å…¥ä¸æ˜¾è‘—æ›´ä½çš„å…¨å› æ­»äº¡ç‡æœ‰å…³</li>
<li><a href="https://www.tctmd.com/news/fresh-foray-salt-wars-life-expectancy-higher-greater-sodium-intake" target="_blank" rel="noopener noreferrer">é’ˆå¯¹è¯¥è®ºæ–‡çš„å»¶ä¼¸è§£è¯»å’Œè®¨è®ºï¼šA Fresh Foray in the Salt Wars: Life Expectancy Higher With Greater Sodium Intake</a></li>
</ul>
</li>
<li><a href="https://ibook.antpedia.com/x/669028.html" target="_blank" rel="noopener noreferrer">NEJM/Lancetï¼šä¸è¦åƒå¤ªå¤šç›ï¼Œä¸­å›½é¥®é£Ÿæ‰€è‡´å¿ƒè¡€ç®¡ç—…å’Œç™Œç—‡æ­»äº¡å…¨çƒç¬¬ä¸€ï¼Œåƒä½é’ ç›å¯é™ä½å…¨å› æ­»äº¡ç‡</a>
<ul>
<li>ä½†ä¹Ÿæœ‰å¤šé¡¹ç ”ç©¶è®¤ä¸ºç”¨ä½é’ ç›å¯ä»¥é™ä½ä¸€ç³»åˆ—ç–¾ç—…çš„å‘ç”Ÿæ¦‚ç‡ï¼Œå¯¹å…¨å› æ­»äº¡ç‡çš„å‡å°‘æœ‰ç§¯æå½±å“</li>
</ul>
</li>
</ul>
</li>
<li>ç¢³æ°´ï¼ˆå­˜æœ‰å¤§é‡äº‰è®®ï¼‰
<ul>
<li><a href="https://zhuanlan.zhihu.com/p/137815934" target="_blank" rel="noopener noreferrer">ä½ç¢³ç”Ÿé…®é¥®é£Ÿï¼ˆå››ï¼‰ç¢³æ°´åŒ–åˆç‰©ä¸é•¿æœŸæ­»äº¡ç‡</a>
<ul>
<li>å‡ºå¤„ï¼šThe Lancet Public Health - <a href="https://www.sciencedirect.com/science/article/pii/S246826671830135X" target="_blank" rel="noopener noreferrer">Dietary carbohydrate intake and mortality: a prospective cohort study and meta-analysis</a></li>
<li>ç¢³æ°´è¶Šä½ï¼Œå¯¿å‘½è¶ŠçŸ­ï¼›ç¢³æ°´è¶Šé«˜ï¼Œå¯¿å‘½ä¹Ÿè½»å¾®ç¼©çŸ­ï¼›ç¢³æ°´50%å·¦å³ï¼ˆå…¶å®æŒ‰ç…§ä¸€èˆ¬çš„è¯´æ³•ï¼Œè¿™ä¹Ÿç®—é«˜ç¢³æ°´ï¼‰æ˜¯æœ€é•¿å¯¿å‘½åŒºé—´</li>
<li><img src="https://user-images.githubusercontent.com/2707039/163703985-a2e2f8ac-101a-4f3c-903b-6850507f144b.jpg" alt="ç¢³æ°´" tabindex="0" loading="lazy"><figcaption>ç¢³æ°´</figcaption></li>
</ul>
</li>
<li><a href="https://www.chinacdc.cn/gwxx/202003/t20200323_214639.html" target="_blank" rel="noopener noreferrer">æœ€å¼ºè¥å…»æ­é…ï¼BMJï¼šè¿™ä¹ˆåƒï¼Œå¿ƒè¡€ç®¡ç–¾ç—…å’Œæ­»äº¡é£é™©æ›´ä½</a></li>
</ul>
</li>
<li>æ§Ÿæ¦”
<ul>
<li><a href="https://www.zhihu.com/question/312784161/answer/603370131" target="_blank" rel="noopener noreferrer">å¦‚ä½•çœ‹å¾…æ§Ÿæ¦”åš¼å‡ºæ¥çš„ç™Œç—‡ï¼Ÿæ§Ÿæ¦”è‡´ç™Œé£é™©ç©¶ç«Ÿæœ‰å¤šå¤§ï¼Ÿ - ä¸é¦™åŒ»ç”Ÿçš„å›ç­” - çŸ¥ä¹</a>
<ul>
<li>å‡ºå¤„ï¼šChewing Betel Quid and the Risk of Metabolic Disease, Cardiovascular Disease, and All-Cause Mortality: A Meta-Analysis(https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0070679)</li>
<li>åš¼æ§Ÿæ¦”ä¼šå¢åŠ 21%çš„å…¨å› æ­»äº¡ç‡</li>
</ul>
</li>
</ul>
</li>
<li>çƒ­é‡é™åˆ¶
<ul>
<li><a href="https://www.zhihu.com/question/31395511" target="_blank" rel="noopener noreferrer">æ€ä¹ˆçœ‹å¾…BBCã€Šè¿›é£Ÿã€æ–­é£Ÿä¸é•¿å¯¿ã€‹ï¼Ÿ</a>
<ul>
<li>é™åˆ¶å¡è·¯é‡ŒåŠ¨ç‰©å®éªŒï¼šCRï¼ˆçƒ­é‡é™åˆ¶ï¼Œå³å°‘åƒï¼‰å»¶è¿Ÿäº†æ’æ²³çŒ´çš„å¤šç§ç–¾ç—…å‘ç—…å’Œæ­»äº¡ç‡ï¼Œä¸CRåŠ¨ç‰©ç›¸æ¯”ï¼Œæ­£å¸¸å–‚å…»çš„çŒ´å­çš„å„ç§ç–¾ç—…æ‚£ç—…é£é™©å¢åŠ 2.9å€ï¼Œæ­»äº¡é£é™©å¢åŠ 3.0å€ã€‚</li>
<li><img src="https://user-images.githubusercontent.com/2707039/163703988-8767185b-326a-4783-b2e2-f190322bb7d6.jpg" alt="çƒ­é‡é™åˆ¶-æ’æ²³çŒ´" tabindex="0" loading="lazy"><figcaption>çƒ­é‡é™åˆ¶-æ’æ²³çŒ´</figcaption></li>
</ul>
</li>
</ul>
</li>
<li>ç»¼åˆ
<ul>
<li><a href="https://www.chinacdc.cn/gwxx/202003/t20200323_214639.html" target="_blank" rel="noopener noreferrer">æœ€å¼ºè¥å…»æ­é…ï¼BMJï¼šè¿™ä¹ˆåƒï¼Œå¿ƒè¡€ç®¡ç–¾ç—…å’Œæ­»äº¡é£é™©æ›´ä½</a></li>
<li><a href="https://doi.org/10.1136/bmj.m688" target="_blank" rel="noopener noreferrer">Associations of fat and carbohydrate intake with cardiovascular disease and mortality: prospective cohort study of UK Biobank participants</a>
<ul>
<li>é€šè¿‡å¯¹è¿™äº›å‚ä¸è€…çš„æ•°æ®è¿›è¡Œåˆ†æï¼Œç ”ç©¶äººå‘˜å‘ç°ç¢³æ°´åŒ–åˆç‰©ï¼ˆç³–ã€æ·€ç²‰å’Œçº¤ç»´ï¼‰å’Œè›‹ç™½è´¨çš„æ‘„å…¥ä¸å…¨å› æ­»äº¡ç‡å‘ˆéçº¿æ€§å…³ç³»ï¼Œè€Œè„‚è‚ªåˆ™ä¸å…¨å› æ­»äº¡ç‡å‘ˆçº¿æ€§ç›¸å…³ã€‚å…¶ä¸­ï¼Œè¾ƒé«˜çš„ç³–åˆ†æ‘„å…¥ä¸å…¨å› æ­»äº¡é£é™©å’Œæ‚£å¿ƒè¡€ç®¡ç–¾ç—…çš„é£é™©è¾ƒé«˜å‡æœ‰å…³è”ï¼Œè€Œè¾ƒé«˜çš„é¥±å’Œè„‚è‚ªé…¸æ‘„å…¥ä¸å…¨å› æ­»äº¡é£é™©è¾ƒé«˜æœ‰å…³ã€‚</li>
<li>å›¾1ï¼šå„ç§è¥å…»å…ƒç´ ä¸å…¨å› æ­»äº¡ä¹‹é—´çš„å…³ç³»</li>
<li><img src="https://user-images.githubusercontent.com/2707039/163702022-8c2bfea9-ed5d-4fe0-8ead-e8740014b92b.jpg" alt="å„ç§è¥å…»å…ƒç´ ä¸å…¨å› æ­»äº¡ä¹‹é—´çš„å…³ç³»" tabindex="0" loading="lazy"><figcaption>å„ç§è¥å…»å…ƒç´ ä¸å…¨å› æ­»äº¡ä¹‹é—´çš„å…³ç³»</figcaption></li>
<li>å›¾2ï¼šå„ç§è¥å…»å…ƒç´ ä¸å¿ƒè¡€ç®¡ç–¾ç—…ä¹‹é—´çš„å…³ç³»</li>
<li><img src="https://user-images.githubusercontent.com/2707039/163702084-97fb4a03-707c-475d-b88e-6fe2f8e87f92.jpg" alt="å„ç§è¥å…»å…ƒç´ ä¸å¿ƒè¡€ç®¡ç–¾ç—…ä¹‹é—´çš„å…³ç³»" tabindex="0" loading="lazy"><figcaption>å„ç§è¥å…»å…ƒç´ ä¸å¿ƒè¡€ç®¡ç–¾ç—…ä¹‹é—´çš„å…³ç³»</figcaption></li>
<li><strong>è¿›ä¸€æ­¥ç ”ç©¶è¡¨æ˜ï¼Œåœ¨æ‰€æœ‰çš„é¥®é£Ÿæ¨¡å¼ä¸­ï¼Œå…¨å› æ­»äº¡ç‡é£é™©æœ€ä½çš„é¥®é£Ÿæ–¹å¼ä¸ºï¼š10-30gé«˜çº¤ç»´ã€14-30%è›‹ç™½è´¨ã€10-25%å•ä¸é¥±å’Œè„‚è‚ªé…¸ã€5%-7%å¤šä¸é¥±å’Œè„‚è‚ªé…¸ä»¥åŠ20%-30%æ·€ç²‰æ‘„å…¥ã€‚</strong></li>
<li><strong>æœ€ä¼˜èƒ½é‡æ¥æºé…æ¯”ï¼š&lt;24%æ·€ç²‰ï¼Œ15%-17%è›‹ç™½è´¨ï¼Œ&gt;15%å•ä¸é¥±å’Œè„‚è‚ªé…¸ï¼Œ&lt;15%ç³–ï¼Œ6%é¥±å’Œè„‚è‚ªé…¸ï¼Œ6%å¤šä¸é¥±å’Œè„‚è‚ªé…¸ï¼Œ30g+é«˜çº¤ç»´</strong></li>
</ul>
</li>
<li><a href="https://med.ckcest.cn/details.html?id=5183272274855936&amp;classesEn=news" target="_blank" rel="noopener noreferrer">BMJ | å¸¸åƒè–¯ç‰‡æ±‰å ¡å·§å…‹åŠ›ç­‰é£Ÿå“ï¼Œå¹³å‡æ­»äº¡å¹´é¾„ä»…ä»…ä¸º58å²ï¼Œæ­»äº¡é£é™©å‰§å¢</a>
<ul>
<li><a href="https://www.bmj.com/content/365/bmj.l1949.full" target="_blank" rel="noopener noreferrer">Rico-CampÃ  A, MartÃ­nez-GonzÃ¡lez M A, Alvarez-Alvarez I, et al. Association between consumption of ultra-processed foods and all cause mortality: SUN prospective cohort study[J]. bmj, 2019, 365.</a></li>
<li><a href="https://www.bmj.com/content/365/bmj.l1451" target="_blank" rel="noopener noreferrer">Srour B, Fezeu L K, Kesse-Guyot E, et al. Ultra-processed food intake and risk of cardiovascular disease: prospective cohort study (NutriNet-SantÃ©)[J]. bmj, 2019, 365.</a></li>
<li><a href="https://www.researchgate.net/profile/Phillip-Baker-5/publication/333483796_Ultra-processed_food_and_adverse_health_outcomes/links/5f0c646ca6fdcc2f32336a95/Ultra-processed-food-and-adverse-health-outcomes.pdf" target="_blank" rel="noopener noreferrer">Lawrence M A, Baker P I. Ultra-processed food and adverse health outcomes[J]. bmj, 2019, 365.</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h4>6.1.2. æ¶²ä½“</h4>
<ul>
<li>ç‰›å¥¶
<ul>
<li><a href="https://www.sohu.com/a/253940257_419768" target="_blank" rel="noopener noreferrer">ã€ŠæŸ³å¶åˆ€ã€‹è°ƒç ”21ä¸ªå›½å®¶13ä¸‡äººï¼šæ¯å¤©1æ–¤ç‰›å¥¶æˆ–é…¸å¥¶ï¼Œå¿ƒè¡€ç®¡æ­»äº¡é£é™©ä¸‹é™23%</a></li>
<li>å‡ºå¤„ï¼š<a href="http://mdrf-eprints.in/1114/1/Association_of_dietary_patterns_and_dietary_diversity_with_cardiometabolic_disease_risk_factors.pdf" target="_blank" rel="noopener noreferrer">Association of dairy intake with cardiovascular disease and mortality in 21 countries from five continents (PURE): a prospective cohort study</a></li>
<li>ä¸ä¸é£Ÿç”¨ä¹³åˆ¶å“çš„äººç›¸æ¯”ï¼Œæ¯å¤©æ‘„å…¥ä¸¤ä»½ä¹³åˆ¶å“ï¼ˆä¸€ä»½æŒ‡244å…‹ç‰›å¥¶/é…¸å¥¶ï¼Œ15å…‹å¥¶é…ªæˆ–5å…‹é»„æ²¹ï¼‰çš„äººï¼Œ<strong>å…¨å› æ­»äº¡é£é™©ä¸‹é™äº†17%</strong>ï¼Œå¿ƒè¡€ç®¡æ­»äº¡é£é™©ä¸‹é™23%ï¼Œä¸­é£é£é™©ä¸‹é™33%</li>
</ul>
</li>
<li>èŒ¶
<ul>
<li><a href="https://www.jianshu.com/p/5461a205cf95?utm_campaign=hugo" target="_blank" rel="noopener noreferrer">10ä¸‡ä¸­å›½äººéšè®¿7å¹´å‘ç°ï¼Œæ¯å‘¨å–ä¸‰æ¬¡èŒ¶ä¸å…¨å› æ­»äº¡é£é™©é™ä½15%ï¼Œé¢„æœŸå¯¿å‘½å¢åŠ 1.26å¹´ç›¸å…³</a></li>
<li>å‡ºå¤„ï¼š<a href="https://www.researchgate.net/profile/Fangchao-Liu-4/publication/338483323_Tea_consumption_and_the_risk_of_atherosclerotic_cardiovascular_disease_and_all-cause_mortality_The_China-PAR_project/links/5e55e5e94585152ce8efe511/Tea-consumption-and-the-risk-of-atherosclerotic-cardiovascular-disease-and-all-cause-mortality-The-China-PAR-project.pdf" target="_blank" rel="noopener noreferrer">Tea consumption and the risk of atherosclerotic cardiovascular disease and all-cause mortality: The China-PAR project</a></li>
<li><a href="http://rs.yiigle.com/CN112338202202/1351516.htm" target="_blank" rel="noopener noreferrer">ä¸­å›½æˆå¹´äººé¥®èŒ¶ä¸æ­»äº¡é£é™©çš„å‰ç»æ€§å…³è”ç ”ç©¶</a></li>
<li>çº³å…¥åˆ†æçš„438 443ä¾‹ç ”ç©¶å¯¹è±¡éšè®¿11.1å¹´å…±å‘ç”Ÿæ­»äº¡34 661ä¾‹ã€‚ä¸ä»ä¸é¥®èŒ¶è€…ç›¸æ¯”ï¼Œå½“å‰éæ¯æ—¥é¥®èŒ¶è€…å’Œæ¯æ—¥é¥®èŒ¶è€…å…¨å› æ­»äº¡HRå€¼ï¼ˆ95%CIï¼‰ä¾æ¬¡ä¸º0.89ï¼ˆ0.86-0.91ï¼‰å’Œ0.92ï¼ˆ0.88-0.95ï¼‰ã€‚åˆ†æ€§åˆ«åˆ†ææ˜¾ç¤ºï¼Œé¥®èŒ¶å¯¹å…¨å› æ­»äº¡é£é™©çš„ä¿æŠ¤ä½œç”¨ä¸»è¦è§äºç”·æ€§ï¼ˆäº¤äº’P&lt;0.05ï¼‰</li>
</ul>
</li>
<li>æ— ç³–ï¼ˆç”œå‘³ï¼‰é¥®æ–™
<ul>
<li><a href="https://www.zhihu.com/question/418598272/answer/1450648364" target="_blank" rel="noopener noreferrer">ã€Œæ— ç³–é¥®æ–™ä½¿æ­»äº¡é£é™©å¢åŠ  26 %ã€ï¼Œæ˜¯çœŸçš„å—ï¼Ÿ</a>
<ul>
<li>ç›¸æ¯”äºè½¯é¥®æ–™æ‘„å…¥é‡ï¼œ1æ¯/æœˆçš„å‚ä¸è€…ï¼Œæ··åˆè½¯é¥®æ–™æ‘„å…¥â‰¥1æ¯/å¤©çš„å‚ä¸è€…æ­»äº¡é£é™©å¢åŠ 18%ï¼Œè€Œ<strong>æ‘„å…¥å«ç³–è½¯é¥®æ–™æˆ–æ— ç³–è½¯é¥®æ–™ä¼šä»¤æ­»äº¡é£é™©åˆ†åˆ«å¢åŠ 11%å’Œ27%ã€‚</strong></li>
<li><img src="https://user-images.githubusercontent.com/2707039/163704346-e7d92e7f-eba5-4673-8f15-3a96782c2e32.png" alt="é¥®æ–™" tabindex="0" loading="lazy"><figcaption>é¥®æ–™</figcaption></li>
</ul>
</li>
<li><a href="https://jamanetwork.com/journals/jamainternalmedicine/fullarticle/2749350" target="_blank" rel="noopener noreferrer">Association Between Soft Drink Consumption and Mortality in 10 European Countries</a></li>
</ul>
</li>
<li>æœ‰ç³–é¥®æ–™
<ul>
<li><a href="https://zhuanlan.zhihu.com/p/400746073" target="_blank" rel="noopener noreferrer">å¯ä¹å’Œå¥¶èŒ¶ï¼Œå¢åŠ å…¨å› æ­»äº¡ç‡é«˜è¾¾62%ï¼æœæ±é™ä½å…ç–«åŠ›ï¼Œå½±å“è‚ä»£è°¢ï¼å«ç³–é¥®æ–™é‚£äº›äº‹</a>
<ul>
<li>æ¯å¤©1æ¯å«ç³–é¥®æ–™å¢åŠ 7%å…¨å› æ­»äº¡ç‡ï¼Œ2æ¯21%</li>
<li>åœ¨34å¹´çš„éšè®¿ä¸­ï¼Œç ”ç©¶äººå‘˜å‘ç°ï¼Œç›¸æ¯”é‚£äº›ä¸€ä¸ªæœˆå–1æ¯æˆ–è€…æ›´å°‘å«ç³–é¥®æ–™çš„äººï¼Œæ¯å¤©å–2æ¯çš„äººæ€»ä½“æ­»äº¡é£é™©å‡é«˜äº†21%ï¼Œå¿ƒè¡€ç®¡ç–¾ç—…æ­»äº¡é£é™©å‡é«˜äº†31%ï¼Œç™Œç—‡æ­»äº¡é£é™©ä¸Šå‡äº†16%ã€‚</li>
<li>åªè¦æ¯å¤©å¤šå–ä¸€æ¯å«ç³–é¥®æ–™ï¼Œæ€»ä½“æ­»äº¡é£é™©å°†å¢åŠ 7%ï¼Œå¿ƒè¡€ç®¡ç–¾ç—…çš„é£é™©å°†å¢åŠ 10%ï¼Œç™Œç—‡ç›¸å…³çš„æ­»äº¡é£é™©å°†16%ã€‚</li>
<li>å‘è¡¨åœ¨å›½é™…é¡¶çº§æœŸåˆŠã€ŠBMJã€‹ä¸Šçš„ä¸€ç¯‡è®ºæ–‡å°±è¯æ˜äº†å«ç³–é¥®æ–™ä¼šåœ¨å¢åŠ æ‚£ç™Œé£é™©ï¼Œå½“ç„¶è¿™ç¯‡æ–‡ç« éªŒè¯çš„ä¸ä»…ä»…æ˜¯æœæ±ï¼Œå¥¶èŒ¶ä¹Ÿæœ‰ä»½â€”â€”å’Œå«ç³–é¥®æ–™ç›¸å…³çš„æ€»ä½“æ‚£ç™Œé£é™©è¦é«˜å‡ºé€šå¸¸å€¼18%ï¼Œ100%çš„é²œæ¦¨æœæ±ä¹Ÿä¼šä½¿å¾—æ•´ä½“çš„æ‚£ç™Œé£é™©ä¸Šå‡12%ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>æœæ±
<ul>
<li><a href="https://zhuanlan.zhihu.com/p/66513350" target="_blank" rel="noopener noreferrer">JAMAå­åˆŠï¼š100%çº¯æœæ±å¯èƒ½æ¯”å«ç³–é¥®æ–™æ›´å±é™©</a>
<ul>
<li>æ¯å¤©å¤šæ‘„å…¥ä¸€ä»½12ç›å¸çš„å«ç³–é¥®æ–™ï¼Œå…¨å› æ­»äº¡ç‡é£é™©å¢åŠ 11%ï¼›</li>
<li>æ¯å¤©å¤šæ‘„å…¥ä¸€ä»½12ç›å¸çš„æœæ±ï¼Œå…¨å› æ­»äº¡ç‡é£é™©å¢åŠ 24%ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>å’–å•¡
<ul>
<li><a href="https://news.bioon.com/article/6725420.html" target="_blank" rel="noopener noreferrer">é‡ç£…ï¼å¤šç¯‡ç ”ç©¶è¯å®å–å’–å•¡ä¸äººç¾¤å…¨å› æ­»äº¡ç‡é™ä½ç›´æ¥ç›¸å…³</a></li>
<li><a href="https://www.sohu.com/a/439412995_100003595" target="_blank" rel="noopener noreferrer">ç§‘æ™® | å–å’–å•¡åˆå¤šäº†ä¸€ä¸ªæ–°ç†ç”±ï¼šé™ä½æ­»äº¡ç‡ï¼</a></li>
<li><a href="https://fanyi.pdf365.cn/help/249" target="_blank" rel="noopener noreferrer">åœ°ä¸­æµ·æˆå¹´äººå’–å•¡æ¶ˆè€—é‡åŠå…¨å› ï¼Œå¿ƒè¡€ç®¡ç–¾ç—…å’Œç™Œç—‡çš„æ­»äº¡ç‡</a>
<ul>
<li>åœ¨æœ€è¿‘çš„èŸèƒåˆ†æä¸­ï¼Œè¯¥ç ”ç©¶åŒ…æ‹¬æ¥è‡ªä¸åŒå›½å®¶çš„40é¡¹ç ”ç©¶å’Œ3,852,651åå—è¯•è€…ã€‚åœ¨è¿™é¡¹èŸèƒåˆ†ææ˜¾ç¤ºï¼Œå’–å•¡æ‘„å…¥é‡ä¸å„ç§åŸå› çš„æ­»äº¡ç‡ï¼ŒCVDå’Œç™Œç—‡æ­»äº¡ç‡ä¹‹é—´å­˜åœ¨éçº¿æ€§å…³ç³»ï¼Œæ¯å¤©æ‘„å…¥ä¸¤æ¯å’–å•¡çš„ç™Œç—‡æ­»äº¡ç‡æœ€ä½(RR = 0.96)ï¼ŒCVDæœ€ä½çš„æ­»äº¡ç‡ï¼Œæ¯å¤©2.5æ¯(RR= 0.83)ï¼Œå…¨å¤©æœ€ä½æ­»äº¡ç‡ä¸ºæ¯å¤©3.5æ¯(RR= 0.85)ï¼Œå¹¶ä¸”éšç€å’–å•¡æ¶ˆè´¹é‡çš„å¢åŠ ï¼Œæ­»äº¡ç‡æ²¡æœ‰è¿›ä¸€æ­¥é™ä½æˆ–å¢åŠ </li>
</ul>
</li>
</ul>
</li>
<li>äºšç²¾èƒº
<ul>
<li><a href="https://www.medsci.cn/article/show_article.do?id=420d12904103" target="_blank" rel="noopener noreferrer">Scienceï¼šç§‘å­¦èƒŒä¹¦ï¼ä»ç²¾æ¶²ä¸­å‘ç°çš„äºšç²¾èƒºï¼Œç«Ÿç„¶æœ‰ç€æŠ—è¡°è€ã€æŠ—ç™Œã€ä¿æŠ¤å¿ƒè¡€ç®¡å’Œç¥ç»ã€æ”¹å–„è‚¥èƒ–å’Œ2å‹ç³–å°¿ç—…ç­‰é€†å¤©ç¥æ•ˆ</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/388942219" target="_blank" rel="noopener noreferrer">é¥®é£Ÿä¸­äºšç²¾èƒºæ‘„å…¥é‡é«˜ä¼šé™ä½æ­»äº¡ç‡</a></li>
</ul>
</li>
</ul>
<h4>6.1.3. æ°”ä½“</h4>
<ul>
<li>å¸çƒŸ
<ul>
<li><a href="https://www.medsci.cn/article/show_article.do?id=02ca2083319b" target="_blank" rel="noopener noreferrer">å³ä½¿æ˜¯ä½å¼ºåº¦å¸çƒŸï¼Œä¹Ÿå¢åŠ æ­»äº¡é£é™©ï¼</a>
<ul>
<li>ç ”ç©¶å‘ç°ï¼šåœ¨42 416åç”·æ€§å’Œ86 735åå¥³æ€§ï¼ˆå¹´é¾„åœ¨35-89å²ä¹‹é—´ï¼Œä»¥å‰æ²¡æœ‰æ‚£ç—…ï¼‰ä¸­ï¼Œ18 985åç”·æ€§ï¼ˆ45%ï¼‰å’Œ18 072åå¥³æ€§ï¼ˆ21%ï¼‰ç›®å‰å¸çƒŸï¼Œå…¶ä¸­33%çš„ç”·æ€§å¸çƒŸè€…å’Œ39%çš„å¥³æ€§å¸çƒŸè€…å¹¶ä¸æ¯å¤©å¸çƒŸã€‚8866åç”·æ€§ï¼ˆ21%ï¼‰å’Œ53 912åå¥³æ€§ï¼ˆ62%ï¼‰ä»ä¸å¸çƒŸã€‚åœ¨éšè®¿æœŸé—´ï¼Œä¸ä»ä¸å¸çƒŸç›¸æ¯”ï¼Œæ¯å¤©&lt;10æ”¯çƒŸæˆ–æ¯å¤©â‰¥10æ”¯çƒŸçš„å…¨å› æ­»äº¡ç‡å±é™©æ¯”åˆ†åˆ«ä¸º1.17ï¼ˆ95%ç½®ä¿¡åŒºé—´1.10-1.25ï¼‰å’Œ1.54ï¼ˆ1.42-1.67ï¼‰ã€‚æ— è®ºå¹´é¾„æˆ–æ€§åˆ«ï¼Œå±é™©æ¯”ç›¸ä¼¼ã€‚ä¸æ¯æ—¥å¸çƒŸå…³ç³»æœ€å¯†åˆ‡çš„ç–¾ç—…æ˜¯å‘¼å¸é“ç™Œç—‡ã€æ…¢æ€§é˜»å¡æ€§è‚ºç—…å’Œèƒƒè‚ é“åŠè¡€ç®¡ç–¾ç—…ã€‚åœ¨æ‹›å‹Ÿæ—¶å·²ç»æˆ’çƒŸçš„äººçš„æ­»äº¡ç‡ä½äºç°åœ¨æ¯å¤©å¸çƒŸè€…ã€‚</li>
<li>å¸çƒŸè€…å¹³å‡å‡å°‘å¯¿å‘½11-12å¹´</li>
</ul>
</li>
<li><a href="https://www.zhihu.com/question/24846224/answer/1719798177" target="_blank" rel="noopener noreferrer">å¸çƒŸè®©äººè¿‡ç˜¾æ˜¯ä»€ä¹ˆåŸç†ï¼Ÿæœ‰èŠ‚åˆ¶çš„å¸çƒŸä¾æ—§æœ‰å®³å—ï¼Ÿ</a></li>
</ul>
</li>
</ul>
<h4>6.1.4. å…‰ç…§</h4>
<ul>
<li>æ™’å¤ªé˜³
<ul>
<li><a href="https://zhuanlan.zhihu.com/p/76301306" target="_blank" rel="noopener noreferrer">æ™’å¤ªé˜³å’Œæ­»äº¡ç‡çš„å…³ç³»ï¼Œå¦‚ä½•ç§‘å­¦ï¼Œå®‰å…¨çš„æ™’å¤ªé˜³ï¼Ÿ
</a>
<ul>
<li>ä¸¹éº¦ä¸€é¡¹é•¿è¾¾26å¹´çš„ç ”ç©¶å‘ç°ï¼Œå¤šæ™’å¤ªé˜³èƒ½æ˜¾è‘—å»¶é•¿å¯¿å‘½ï¼Œå³ä½¿æ˜¯ç”±äºè¿‡åº¦æš´æ™’è¯±å‘çš®è‚¤ç™Œçš„æ‚£è€…ï¼Œå¹³å‡å¯¿å‘½ä¹Ÿæ¯”æ™®é€šäººé•¿äº†6å²ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4>6.1.5. è¯ç‰©</h4>
<ul>
<li>NMN</li>
<li>äºŒç”²åŒèƒ
<ul>
<li><a href="https://zhuanlan.zhihu.com/p/419202902" target="_blank" rel="noopener noreferrer">â€œèƒâ€å¹å¿…çœ‹ ä¸¨æˆ‘å°±æ˜¯ç¥è¯â€”â€”äºŒç”²åŒèƒ</a>
<ul>
<li>äºŒç”²åŒèƒä¸ä»…åœ¨å¤šç§è‚¿ç˜¤ã€å¿ƒè¡€ç®¡ç–¾ç—…åŠç³–å°¿ç—…ä¸­å‘æŒ¥ä¿æŠ¤ä½œç”¨ï¼Œè€Œä¸”åœ¨è‚¥èƒ–ã€è‚ç—…ã€è‚¾ç—…åŠè¡°è€æ–¹é¢ä¹Ÿå¤§æ”¾å¼‚å½©ã€‚</li>
</ul>
</li>
<li><a href="https://zhuanlan.zhihu.com/p/357807109" target="_blank" rel="noopener noreferrer">äºŒç”²åŒèƒ2020æœ€å€¼å¾—äº†è§£çš„â€œåƒç“œâ€å¤§æ–°é—»â€”â€”æŠ¤èƒƒã€å¥è„‘ã€æŠ—è¡°ã€é˜²ç™Œè¿˜æ˜¯è‡´ç™Œï¼Ÿ</a></li>
<li><a href="https://baijiahao.baidu.com/s?id=1729999374705305768" target="_blank" rel="noopener noreferrer">äºŒç”²åŒèƒçœŸçš„é‚£ä¹ˆç¥å—ï¼Ÿç¾ç ”ç©¶ï¼šçˆ¶äº²æœç”¨äºŒç”²åŒèƒæˆ–è‡´å­å¥³æœ‰ç¼ºé™·</a></li>
<li><img src="https://user-images.githubusercontent.com/2707039/163702325-5d427542-9ae5-4311-8979-d0d326a9832f.jpg" alt="äºŒç”²åŒèƒ" tabindex="0" loading="lazy"><figcaption>äºŒç”²åŒèƒ</figcaption></li>
<li>ä¸è‰¯ååº”
<ul>
<li>ä½œä¸ºä¸€ç§ä½¿ç”¨è¿‘ç™¾å¹´çš„è¯ç‰©ï¼ŒäºŒç”²åŒèƒçš„ä¸è‰¯ååº”å·²ç»éå¸¸æ˜ç¡®ï¼Œå¸¸è§çš„æœ‰ï¼šç»´ç”Ÿç´ B12ç¼ºä¹ï¼ˆ7%-17.4%ï¼‰ï¼Œèƒƒè‚ é“ä¸è‰¯ååº”ï¼ˆæœ€é«˜53%ï¼‰ï¼Œç–²å€¦ï¼ˆ9%ï¼‰ï¼Œå¤´ç—›ï¼ˆ6%ï¼‰ï¼›ä¸¥é‡ä½†ä¸å¸¸è§çš„ä¸è‰¯ååº”åŒ…æ‹¬ä¹³é…¸é…¸ä¸­æ¯’ã€è‚æŸä¼¤ï¼›ä¹Ÿæœ‰ç ”ç©¶è¡¨æ˜å¯èƒ½å¯¹èƒå„¿è‡´ç•¸</li>
</ul>
</li>
</ul>
</li>
<li>å¤åˆç»´ç”Ÿç´ 
<ul>
<li><a href="https://health.qq.com/a/20121023/000026.htm" target="_blank" rel="noopener noreferrer">æœç”¨å¤åˆç»´ç”Ÿç´ å¯é™ä½ç™Œç—‡å±é™©8%ï¼Œå…¶ä»–æ•ˆæœå¹¶ä¸æ˜¾è‘—</a></li>
</ul>
</li>
<li>è‘¡è„ç³–èƒº
<ul>
<li><a href="https://www.sohu.com/a/436372221_120873241" target="_blank" rel="noopener noreferrer">ç¥å¥‡ï¼æ°¨ç³–é™ä½å¿ƒè¡€ç®¡æ­»äº¡ç‡65%ï¼Œä¸å®šæœŸè¿åŠ¨æ•ˆæœç›¸å½“</a></li>
<li>ç¾å›½è¥¿å¼—å‰å°¼äºšå¤§å­¦æœ€æ–°ç ”ç©¶å‘ç° æ°¨ç³–ï¼ˆè½¯éª¨ç´ ï¼‰ å¯ä»¥é™ä½å¿ƒè¡€ç®¡æ­»äº¡ç‡65%ï¼Œé™ä½æ€»ä½“æ­»äº¡ç‡39%ï¼Œæ•ˆæœä¸åšæŒå®šæœŸè¿åŠ¨ç›¸å¯¹</li>
<li>è¯¥ç ”ç©¶ä½¿ç”¨1999å¹´è‡³2010å¹´ï¼Œ16,686åæˆå¹´äººçš„å›½å®¶å¥åº·å’Œè¥å…»æ£€æŸ¥(NHANES)æ•°æ®ï¼Œå‚ä¸è€…çš„ä¸­ä½è¿½è¸ªæ—¶é—´ä¸º107ä¸ªæœˆï¼Œè€Œå…¶ä¸­æœ‰648ä½å‚ä¸è€…å®šæœŸä¸”æ¯æœç”¨æ—¥500-1000æ¯«å…‹çš„è‘¡è„ç³–èƒº/è½¯éª¨ç´ ä¸€å¹´ä»¥ä¸Šã€‚</li>
</ul>
</li>
<li>äºšç²¾èƒº
<ul>
<li><a href="https://www.medsci.cn/article/show_article.do?id=420d12904103" target="_blank" rel="noopener noreferrer">Scienceï¼šç§‘å­¦èƒŒä¹¦ï¼ä»ç²¾æ¶²ä¸­å‘ç°çš„äºšç²¾èƒºï¼Œç«Ÿç„¶æœ‰ç€æŠ—è¡°è€ã€æŠ—ç™Œã€ä¿æŠ¤å¿ƒè¡€ç®¡å’Œç¥ç»ã€æ”¹å–„è‚¥èƒ–å’Œ2å‹ç³–å°¿ç—…ç­‰é€†å¤©ç¥æ•ˆ</a></li>
<li>äºšç²¾èƒºæ˜¯æœ€å®¹æ˜“ä»äººä½“è‚ é“å¸æ”¶çš„å¤šèƒºã€‚è®¸å¤šçš„é£Ÿç‰©ä¸­éƒ½å«æœ‰å¤§é‡çš„äºšç²¾èƒºï¼Œä¾‹å¦‚æ–°é²œçš„é’æ¤’ã€å°éº¦èƒšèŠ½ã€èŠ±æ¤°èœã€è¥¿å…°èŠ±ã€è˜‘è‡å’Œå„ç§å¥¶é…ªï¼Œå°¤å…¶åœ¨çº³è±†ç­‰å¤§è±†åˆ¶å“ã€é¦™è‡å’Œæ¦´è²ä¸­å«é‡æ›´é«˜ã€‚åœ¨æœ¬å®éªŒä¸­ï¼Œç ”ç©¶äººå‘˜é€‰æ‹©äº†829ä½å¹´é¾„åœ¨45-84å²ä¹‹é—´çš„å‚ä¸è€…è¿›è¡Œäº†ä¸ºæœŸ20å¹´çš„éšè®¿ï¼Œåˆ†æäº†é¥®é£Ÿä¸­äºšç²¾èƒºæ‘„å…¥é‡ä¸äººç±»æ­»äº¡ç‡ä¹‹é—´çš„æ½œåœ¨å…³è”ã€‚</li>
<li>ç ”ç©¶å‘ç°ï¼Œå¥³æ€§çš„äºšç²¾èƒºæ‘„å…¥é‡é«˜äºç”·æ€§ï¼Œå¹¶ä¸”æ‘„å…¥é‡éƒ½ä¼šéšç€å¹´é¾„çš„å¢é•¿è€Œä¸‹é™ã€‚äºšç²¾èƒºçš„ä¸»è¦æ¥æºæ˜¯å…¨è°·ç‰©ï¼ˆå 13.4%ï¼‰ã€è‹¹æœå’Œæ¢¨ï¼ˆå 13.3%ï¼‰ã€æ²™æ‹‰ï¼ˆå 9.8%ï¼‰ã€èŠ½èœï¼ˆå 7.3%ï¼‰å’Œé©¬é“ƒè–¯ï¼ˆå 6.4%ï¼‰ã€‚ç ”ç©¶æ ¹æ®äºšç²¾èƒºæ‘„å…¥é‡å°†äººç¾¤åˆ†ä¸ºä¸‰ç»„ï¼Œä½æ‘„å…¥é‡ç»„ï¼ˆ&lt;62.2 Âµmol / dï¼‰ã€ä¸­æ‘„å…¥é‡ç»„ï¼ˆ62.2â€“79.8 Âµmol / dï¼‰å’Œé«˜æ‘„å…¥é‡ç»„ï¼ˆ&gt; 79.8 Âµmol / dï¼‰ã€‚éšè®¿æœŸé—´å…±è®°å½•äº†341ä¾‹æ­»äº¡ï¼Œå…¶ä¸­è¡€ç®¡ç–¾ç—…137ä¾‹ï¼Œç™Œç—‡94ä¾‹ï¼Œå…¶ä»–åŸå› 110ä¾‹ã€‚ç»è®¡ç®—ä½ä¸­é«˜ä¸‰ç»„çš„ç²—ç•¥æ­»äº¡ç‡åˆ†åˆ«ä¸º40.5%ã€23.7%å’Œ15.1%ï¼Œè¿™äº›æ•°æ®è¡¨æ˜äºšç²¾èƒºæ‘„å…¥é‡ä¸å…¨å› æ­»äº¡ç‡ä¹‹é—´çš„è´Ÿç›¸å…³å…³ç³»æ˜¾è‘—ã€‚éšç€é€æ­¥å¯¹å¹´é¾„ã€æ€§åˆ«å’Œçƒ­é‡çš„æ¯”ä¾‹è¿›è¡Œè°ƒæ•´ï¼Œè¿™ç§ç›¸å…³å…³ç³»ä¾ç„¶æ˜¾è‘—ã€‚</li>
</ul>
</li>
<li>ç»¼åˆ
<ul>
<li><a href="https://zhuanlan.zhihu.com/p/145495570" target="_blank" rel="noopener noreferrer">ã€Šè‡ªç„¶ã€‹å­åˆŠæ·±åº¦ç»¼è¿°ï¼šå¦‚ä½•å¼€å‘æŠ—è¡°è€è¯</a></li>
<li><img src="https://user-images.githubusercontent.com/2707039/163702474-205baeec-f0ce-4e8d-96a4-36efe47534de.jpg" alt="å¦‚ä½•å¼€å‘æŠ—è¡°è€è¯" tabindex="0" loading="lazy"><figcaption>å¦‚ä½•å¼€å‘æŠ—è¡°è€è¯</figcaption></li>
</ul>
</li>
</ul>
<h3>6.2. è¾“å‡º</h3>
<h4>6.2.1. æŒ¥æ‹è¿åŠ¨</h4>
<ul>
<li><a href="https://www.sohu.com/a/535581770_121124216" target="_blank" rel="noopener noreferrer">å“ªç§è¿åŠ¨æ€§ä»·æ¯”æœ€é«˜ï¼Ÿæƒå¨åŒ»å­¦æ‚å¿—â€œæŸ³å¶åˆ€â€ç»™å‡ºç­”æ¡ˆäº†</a>
<ul>
<li>ä¸€å‘¨ä¸‰æ¬¡ï¼Œæ¯æ¬¡45-60åˆ†é’Ÿï¼ŒæŒ¥æ‹è¿åŠ¨ï¼Œé™ä½~47%å…¨å› æ­»äº¡ç‡</li>
<li>ç¾½æ¯›çƒã€ä¹’ä¹“çƒã€ç½‘çƒç­‰éƒ½ç®—æŒ¥æ‹è¿åŠ¨ï¼Œä½†ç”±äºè¥¿åŒ–ç ”ç©¶èƒŒæ™¯ï¼Œå¯èƒ½æŒ‡ç½‘çƒæ›´å¤šã€‚è¿™éšå¼çš„è¡¨è¾¾äº†å…¨èº«é”»ç‚¼æ›´ä¸ºé‡è¦</li>
</ul>
</li>
</ul>
<h4>6.2.2. èµ°è·¯</h4>
<ul>
<li><a href="http://www.shcell.org/219/3571.html" target="_blank" rel="noopener noreferrer">èµ°è·¯é™ä½å…¨å› æ­»äº¡ç‡è¶…è¿‡50%ï¼æ¯å¤©èµ°å¤šå°‘æ­¥æœ€åˆé€‚ï¼Ÿã€ŠJAMAã€‹å­åˆŠè¶…10å¹´ç ”ç©¶å‘Šè¯‰ä½ ç­”æ¡ˆ</a>
<ul>
<li><img src="https://user-images.githubusercontent.com/2707039/163704147-afec1c79-799b-4db8-b547-1a2431d504c9.jpg" alt="èµ°è·¯é™ä½å…¨å› æ­»äº¡ç‡" tabindex="0" loading="lazy"><figcaption>èµ°è·¯é™ä½å…¨å› æ­»äº¡ç‡</figcaption></li>
<li>æ³¨1ï¼šè¿™é¡¹ç ”ç©¶å‚ä¸è€…çš„å¹³å‡å¹´é¾„ä¸º45.2å²</li>
<li>æ³¨2ï¼šå¹³å‡æ­¥æ•°çš„å¤šå°‘ä¸èŒä¸šæœ‰å…³ï¼Œæ­¤é¡¹ç ”ç©¶ä»…è¡¨æ˜ç›¸å…³æ€§ï¼Œè¿˜æ²¡æœ‰æ›´æ·±åº¦çš„å› æœåˆ†æ</li>
</ul>
</li>
</ul>
<h4>6.2.3. åˆ·ç‰™</h4>
<ul>
<li><a href="https://www.cn-healthcare.com/articlewm/20211209/content-1293760.html" target="_blank" rel="noopener noreferrer">50ä¸‡å›½äººç ”ç©¶è¯å®ï¼šä¸å¥½å¥½åˆ·ç‰™ï¼Œè‡´ç™Œï¼è¡€ç®¡ç–¾ç—…ä¹Ÿä¼šå¢å¤šï¼</a>
<ul>
<li>ç»å¸¸ä¸åˆ·ç‰™çš„äººï¼šç™Œç—‡ã€æ…¢æ€§é˜»å¡æ€§è‚ºç—…åŠè‚ç¡¬åŒ–é£é™©åˆ†åˆ«å¢åŠ äº†9%ã€12%å’Œ25%ï¼Œè¿‡æ—©æ­»äº¡é£é™©å¢åŠ 25%ã€‚</li>
</ul>
</li>
</ul>
<h4>6.2.4. æ³¡æ¾¡</h4>
<ul>
<li><a href="https://www.cn-healthcare.com/article/20200326/content-533379.html" target="_blank" rel="noopener noreferrer">å®šæœŸæ´—æ¾¡é™ä½å¿ƒè¡€ç®¡ç–¾ç—…å‘ä½œé£é™©</a>
<ul>
<li>ä¸æ¯å‘¨ä¸€è‡³ä¸¤æ¬¡æ³¡æ¾¡æˆ–æ ¹æœ¬ä¸æ³¡æ¾¡ç›¸æ¯”ï¼Œæ¯å¤©æ´—çƒ­æ°´æ¾¡å¯ä»¥é™ä½28%çš„å¿ƒè¡€ç®¡ç–¾ç—…æ€»é£é™©ï¼Œé™ä½26%çš„ä¸­é£æ€»é£é™©ï¼Œè„‘å‡ºè¡€é£é™©ä¸‹é™46%ã€‚è€Œæµ´ç¼¸æµ´çš„é¢‘ç‡ä¸å¿ƒæºæ€§çŒæ­»çš„é£é™©å¢åŠ æ— å…³ã€‚</li>
</ul>
</li>
</ul>
<h4>6.2.5. åšå®¶åŠ¡ï¼ˆè€å¹´ç”·æ€§ï¼‰</h4>
<ul>
<li><a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0061529" target="_blank" rel="noopener noreferrer">Housework Reduces All-Cause and Cancer Mortality in Chinese Men</a>
<ul>
<li>72å²ä¹‹åç”·æ€§æ¯å‘¨åšé‡å‹å®¶åŠ¡å¯ä»¥å‡å°‘29%å¹³å‡æ­»äº¡ç‡</li>
<li>é‡å‹å®¶åŠ¡ï¼šå¸å°˜ã€æ“¦åœ°æ¿ã€æ‹–åœ°ã€æ“¦æ´—çª—æˆ·ã€æ´—è½¦ã€æ¬åŠ¨å®¶å…·ã€æ¬ç…¤æ°”ç½ç­‰ç­‰ã€‚</li>
<li>è½»å‹å®¶åŠ¡ï¼šæ¸ç°å°˜ã€æ´—ç¢—ã€æ‰‹æ´—è¡£æœã€ç†¨çƒ«ã€æ™¾è¡£æœã€åšé¥­ã€ä¹°æ—¥ç”¨å“ç­‰ç­‰ã€‚</li>
</ul>
</li>
</ul>
<h4>6.2.6. ç¡çœ </h4>
<ul>
<li><a href="https://med.sina.com/article_detail_103_1_105491.html" target="_blank" rel="noopener noreferrer">è¶…30ä¸‡äºšæ´²äººæ•°æ®ï¼šæ¯å¤©ç¡å‡ ä¸ªå°æ—¶æœ€æœ‰ç›Šé•¿å¯¿ï¼Ÿ</a>
<ul>
<li>åœ¨ç”·æ€§ä¸­ï¼Œä¸ç¡çœ æ—¶é•¿ä¸º7å°æ—¶ç›¸æ¯”ï¼šç¡çœ æŒç»­æ—¶é—´â‰¥10å°æ—¶ä¸å…¨å› æ­»äº¡é£é™©å¢åŠ 34%ç›¸å…³ï¼›</li>
<li><img src="https://user-images.githubusercontent.com/2707039/163704166-226b7ebb-92ce-4753-a3e7-77a87652a104.jpg" alt="ç¡çœ -ç”·" tabindex="0" loading="lazy"><figcaption>ç¡çœ -ç”·</figcaption></li>
<li>åœ¨å¥³æ€§ä¸­ï¼Œä¸ç¡çœ æŒç»­æ—¶é—´7å°æ—¶ç›¸æ¯”ï¼šç¡çœ æŒç»­æ—¶é—´â‰¥10å°æ—¶ä¸å…¨å› æ­»äº¡é£é™©å¢åŠ 48%ç›¸å…³ï¼›</li>
<li><img src="https://user-images.githubusercontent.com/2707039/163704169-c5c715aa-7130-403b-b0d1-ec34fab094d8.png" alt="ç¡çœ -å¥³" tabindex="0" loading="lazy"><figcaption>ç¡çœ -å¥³</figcaption></li>
</ul>
</li>
<li><a href="https://www.thepaper.cn/newsDetail_forward_14461799" target="_blank" rel="noopener noreferrer">é¢ è¦†è®¤çŸ¥ï¼åŠ æ‹¿å¤§ç ”ç©¶å‘ç°ï¼šæ—©ç¡æ¯”ç†¬å¤œæˆ–è®¸æ›´ä¼¤èº«ï¼Œå‡ ç‚¹ç¡æ‰å¥½ï¼Ÿ</a>
<ul>
<li>å…¶ä¸­ä¸€ä¸ªç»“è®ºä¸ºï¼Œå°±å¯æ—¶é—´ä¸å…¨å› æ­»äº¡ç‡çš„å…³è”æ€§å¼ºï¼Œè¿‡æ—©ç¡è§‰å’Œè¿‡æ™šç¡è§‰éƒ½ä¼šå½±å“å¥åº·ï¼Œä½†æ˜¯æ—©ç¡å¢åŠ çš„å…¨å› æ­»äº¡ç‡æ¯”æ™šç¡å¢åŠ çš„æ­»äº¡ç‡é«˜ï¼Œæ—©ç¡å¢åŠ äº†43%çš„æ­»äº¡é£é™©ï¼Œè€Œæ™šç¡å¢åŠ äº†15%çš„æ­»äº¡é£é™©ã€‚</li>
<li>è¿™é¡¹è°ƒæŸ¥ç ”ç©¶ï¼Œè¿˜å­˜åœ¨å¾ˆå¤šå±€é™æ€§ï¼Œæ¯”å¦‚æ²¡æœ‰ç›´æ¥è¯æ˜å°±å¯æ—¶é—´ä¸æ­»äº¡çš„å…³ç³»ï¼Œä»…ä»…è¯´æ˜ç›¸å…³æ€§ï¼Œé€šè¿‡å‚ä¸äººç¾¤è‡ªæˆ‘æŠ¥å‘Šç»Ÿè®¡ç¡çœ æ—¶é—´ï¼Œæ•°æ®ä¸å¤Ÿå®¢è§‚</li>
</ul>
</li>
</ul>
<h3>6.3. ä¸Šä¸‹æ–‡</h3>
<h4>6.3.1. æƒ…ç»ª</h4>
<ul>
<li><a href="https://www.x-mol.com/paper/1288184397379059712/t?recommendPaper=1263704526086578176" target="_blank" rel="noopener noreferrer">æ‚²è§‚æƒ…ç»ªä¸æ›´é«˜çš„å…¨å› æ­»äº¡ç‡å’Œå¿ƒè¡€ç®¡ç–¾ç—…æ­»äº¡ç‡æœ‰å…³ï¼Œä½†ä¹è§‚æƒ…ç»ªå¹¶ä¸èƒ½èµ·åˆ°ä¿æŠ¤ä½œç”¨</a></li>
<li><a href="https://www.nature.com/articles/s41598-020-69388-y?utm_source=xmol&amp;utm_medium=affiliate&amp;utm_content=meta&amp;utm_campaign=DDCN_1_GL01_metadata_scirep" target="_blank" rel="noopener noreferrer">Pessimism is associated with greater all-cause and cardiovascular mortality, but optimism is not protective</a>
<ul>
<li>åœ¨1993-1995å¹´é—´ï¼Œä¸€é¡¹é’ˆå¯¹50å²ä»¥ä¸Šæ¾³å¤§åˆ©äºšäººå¥åº·çš„åŒèƒèƒç ”ç©¶ä¸­åŒ…æ‹¬äº†ç”Ÿæ´»å–å‘æµ‹è¯•ï¼ˆLOTï¼‰ï¼Œå…¶ä¸­åŒ…å«ä¹è§‚å’Œæ‚²è§‚çš„é¡¹ç›®ã€‚å¹³å‡20å¹´åï¼Œå‚ä¸è€…ä¸æ¥è‡ªæ¾³å¤§åˆ©äºšå›½å®¶æ­»äº¡æŒ‡æ•°çš„æ­»äº¡ä¿¡æ¯ç›¸åŒ¹é…ã€‚åœ¨2,978åå…·æœ‰å¾ˆå¤šå¯ç”¨åˆ†æ•°çš„å‚ä¸è€…ä¸­ï¼Œæœ‰1,068äººæ­»äº¡ã€‚ç”Ÿå­˜åˆ†ææµ‹è¯•äº†å„ç§ä¹è§‚å› ç´ å’Œæ‚²è§‚æƒ…ç»ªåˆ†æ•°ä¸ä»»ä½•åŸå› ï¼Œç™Œç—‡ï¼Œå¿ƒè¡€ç®¡ç–¾ç—…æˆ–å…¶ä»–å·²çŸ¥åŸå› çš„æ­»äº¡ç‡ä¹‹é—´çš„å…³è”ã€‚å¹´é¾„è°ƒæ•´åçš„æ‚²è§‚é‡è¡¨ä¸Šçš„æ ¸å¿ƒä¸å…¨å› å’Œå¿ƒè¡€ç®¡ç–¾ç—…æ­»äº¡ç‡ç›¸å…³ï¼ˆæ¯1ä¸ªæ ‡å‡†å·®å•ä½çš„å±é™©æ¯”ï¼Œ95ï¼…ç½®ä¿¡åŒºé—´å’Œpå€¼1.134ã€1.065â€“1.207ã€8.85Ã—10 â€“5å’Œ1.196ã€1.045â€“1.368ã€0.0093 ï¼‰ï¼Œä½†ä¸ä¼šå› ç™Œç—‡æ­»äº¡ã€‚ä¹è§‚å¾—åˆ†ä¸æ‚²è§‚å¾—åˆ†ä¹‹é—´çš„ç›¸å…³æ€§å¾ˆå¼±ï¼ˆå¹´é¾„è°ƒæ•´åçš„ç­‰çº§ç›¸å…³ç³»æ•°= âˆ’ 0.176ï¼‰ï¼Œä½†ä¸æ€»æ­»äº¡ç‡æˆ–ç‰¹å®šåŸå› æ­»äº¡ç‡æ²¡æœ‰æ˜¾ç€ç›¸å…³æ€§ã€‚åå‘å› æœå…³ç³»ï¼ˆå¼•èµ·æ‚²è§‚æƒ…ç»ªçš„ç–¾ç—…ï¼‰æ˜¯ä¸å¯èƒ½çš„ï¼Œå› ä¸ºåœ¨é‚£ç§æƒ…å†µä¸‹ï¼Œå¿ƒè¡€ç®¡ç–¾ç—…å’Œç™Œç—‡éƒ½ä¼šå¯¼è‡´æ‚²è§‚æƒ…ç»ªã€‚</li>
</ul>
</li>
</ul>
<h4>6.3.2. è´«å¯Œ</h4>
<ul>
<li><a href="https://www.cn-healthcare.com/articlewm/20210727/content-1246348.html" target="_blank" rel="noopener noreferrer">JAMAå­åˆŠï¼šè´«å¯Œå·®è·çœŸèƒ½å½±å“å¯¿å‘½ï¼Ÿè¿™å¯èƒ½æ˜¯çœŸçš„ï¼</a>
<ul>
<li>è¯¥ç ”ç©¶ä½¿ç”¨1994-1996å¹´ç¬¬ä¸€æ¬¡æ”¶é›†çš„æ•°æ®ï¼Œå¹¶é€šè¿‡ç”Ÿå­˜æ¨¡å‹æ¥åˆ†æå‡€èµ„äº§å’Œé•¿å¯¿ä¹‹é—´çš„å…³è”ã€‚ç»“æœæ˜¾ç¤ºï¼Œå…±æ”¶çº³5414 åå‚ä¸è€…ï¼Œå¹³å‡å¹´é¾„ä¸º 46.7å²ï¼ŒåŒ…æ‹¬ 2766 åå¥³æ€§ã€‚è¾ƒé«˜çš„å‡€èµ„äº§ä¸è¾ƒä½çš„æ­»äº¡é£é™©ç›¸å…³ã€‚ç‰¹åˆ«æ˜¯åœ¨å…„å¼Ÿå§å¦¹å’ŒåŒèƒèƒä¸­ï¼ˆn = 2490ï¼‰ï¼Œåœ¨è¾ƒé«˜çš„å‡€èµ„äº§å’Œè¾ƒä½çš„æ­»äº¡ç‡ä¹‹é—´è§‚å¯Ÿåˆ°ç±»ä¼¼çš„å…³è”ï¼Œè¡¨æ˜æ‹¥æœ‰æ›´å¤šè´¢å¯Œçš„å…„å¼Ÿå§å¦¹æˆ–åŒèƒèƒæ¯”æ‹¥æœ‰æ›´å°‘è´¢å¯Œçš„å…„å¼Ÿå§å¦¹/åŒèƒèƒæ´»å¾—æ›´ä¹…ã€‚</li>
</ul>
</li>
</ul>
<h4>6.3.3. ä½“é‡</h4>
<ul>
<li><a href="https://www.chinacdc.cn/gwxx/202009/t20200904_218959.html" target="_blank" rel="noopener noreferrer">JAMAå­åˆŠï¼šå‡è‚¥è¦è¶æ—©ï¼Œæ‰èƒ½æœ‰æ•ˆé™ä½æ­»äº¡ç‡é£é™©</a>
<ul>
<li>å¯¹ä½“é‡å‡è½»çš„æ­»äº¡ç‡é£é™©è¯„ä¼°å‘ç°ï¼Œä½“é‡ä»è‚¥èƒ–å‡è½»åˆ°è¶…é‡çš„æˆå¹´äººä¸ç¨³å®šè‚¥èƒ–äººç¾¤ç›¸æ¯”ï¼Œå…¨å› æ­»äº¡ç‡é™ä½äº†54ï¼…ï¼ˆå±é™©æ¯”ä¸º0.46ï¼‰ï¼Œç„¶è€Œä»æˆå¹´åˆæœŸçš„è¶…é‡å‡è½»åˆ°ä¸­å¹´ä»¥å‰çš„æ­£å¸¸ä½“é‡çš„äººç¾¤çš„æ­»äº¡ç‡é£é™©å¹¶æœªé™ä½ï¼ˆé£é™©æ¯”ä¸º1.12ï¼‰ã€‚</li>
<li><img src="https://raw.githubusercontent.com/qhy040404/Image-Resources-Repo/master/zoi200509t3_1596761185.02415.png" alt="Table3" tabindex="0" loading="lazy"><figcaption>Table3</figcaption></li>
</ul>
</li>
</ul>
<h4>6.3.4. æ–°å† </h4>
<ul>
<li><a href="https://www.nature.com/articles/s41591-020-1112-0.pdf" target="_blank" rel="noopener noreferrer">Magnitude, demographics and dynamics of the effect of the first wave of the COVID-19 pandemic on all-cause mortality in 21 industrialized countries</a>
<ul>
<li>ç›®å‰æ¥çœ‹ï¼Œæ–°å† æ­»äº¡ç‡ï¼ˆç¾å›½ï¼‰åœ¨1.5%å·¦å³ï¼Œäººå‡é¢„æœŸå¯¿å‘½å‡å°‘äº†2å¹´</li>
</ul>
</li>
<li><a href="https://www.zhihu.com/question/510943670/answer/2308499719" target="_blank" rel="noopener noreferrer">å¦‚ä½•çœ‹å¾…ç¾å›½CDCå®£ç§°æ–°å† æ­»äº¡äººæ•°è¢«é«˜ä¼°ï¼Ÿ</a></li>
<li><a href="https://www.cdc.gov/nchs/nvss/deaths.htm" target="_blank" rel="noopener noreferrer">NVSS deaths</a></li>
</ul>
]]></content>
    <category term="è½¬è½½"/>
    <published>2023-03-03T00:00:00.000Z</published>
  </entry>
</feed>